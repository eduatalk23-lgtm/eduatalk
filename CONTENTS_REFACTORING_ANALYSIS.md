# Contents í˜ì´ì§€ ê°œí¸ ìš”êµ¬ì‚¬í•­ ë¶„ì„

## ğŸ“‹ ê°œìš”

`/contents` í˜ì´ì§€ë¥¼ ê°œí¸í•˜ì—¬ **í•™ìƒìš© ì½˜í…ì¸ **ì™€ **ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„°ìš© ì½˜í…ì¸ **ë¥¼ ë¶„ë¦¬í•˜ê³ , êµì¬/ê°•ì˜ ì •ë³´ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.

**âš ï¸ ì¤‘ìš”**: ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ í™•ì¸í•œ ê²°ê³¼, `content_masters`ì™€ `content_master_details` í…Œì´ë¸”ì´ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤. ì´ êµ¬ì¡°ë¥¼ í™œìš©í•˜ì—¬ ê°œí¸ì„ ì§„í–‰í•©ë‹ˆë‹¤.

---

## ğŸ—„ï¸ ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

### 1. ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° í…Œì´ë¸” (ì´ë¯¸ ì¡´ì¬)

#### `content_masters` í…Œì´ë¸”
- **ìš©ë„**: ì„œë¹„ìŠ¤ ì œê³µ êµì¬/ê°•ì˜ ë§ˆìŠ¤í„° ë°ì´í„°
- **ì£¼ìš” í•„ë“œ**:
  - `id`: UUID (PK)
  - `tenant_id`: UUID (NULLì´ë©´ ì „ì²´ ê³µí†µ)
  - `content_type`: 'book' | 'lecture'
  - `revision`: ê°œì •êµìœ¡ê³¼ì • (ì˜ˆ: "2015ê°œì •")
  - `semester`: í•™ë…„/í•™ê¸° (ì˜ˆ: "ê³ 3-1")
  - `subject_category`: êµê³¼ (ì˜ˆ: "êµ­ì–´")
  - `subject`: ê³¼ëª© (ì˜ˆ: "í™”ë²•ê³¼ ì‘ë¬¸")
  - `title`: êµì¬ëª…/ê°•ì˜ëª…
  - `publisher_or_academy`: ì¶œíŒì‚¬/í•™ì›/í”Œë«í¼
  - `total_pages`: ì´ í˜ì´ì§€ (êµì¬)
  - `total_episodes`: ì´ íšŒì°¨ (ê°•ì˜)
  - `difficulty_level`: ë‚œì´ë„
  - `notes`: ë©”ëª¨/ë¹„ê³ 
  - `created_at`, `updated_at`

#### `content_master_details` í…Œì´ë¸”
- **ìš©ë„**: êµì¬ ì„¸ë¶€ ì •ë³´ (ëŒ€ë‹¨ì›, ì¤‘ë‹¨ì›, í˜ì´ì§€)
- **ì£¼ìš” í•„ë“œ**:
  - `id`: UUID (PK)
  - `master_id`: UUID (FK â†’ content_masters.id)
  - `major_unit`: ëŒ€ë‹¨ì›
  - `minor_unit`: ì¤‘ë‹¨ì›
  - `page_number`: í˜ì´ì§€ ë²ˆí˜¸
  - `display_order`: ì •ë ¬ ìˆœì„œ
  - `created_at`

### 2. í•™ìƒ ì½˜í…ì¸  í…Œì´ë¸” (ì´ë¯¸ ì¡´ì¬)

#### `books` í…Œì´ë¸”
- **ìš©ë„**: í•™ìƒ ê°œì¸ êµì¬
- **ì£¼ìš” í•„ë“œ**:
  - `id`, `tenant_id`, `student_id`
  - `title`, `publisher`, `subject`
  - `total_pages`, `difficulty_level`
  - `master_content_id`: UUID (FK â†’ content_masters.id) âœ… **ì´ë¯¸ ì¡´ì¬**
  - `created_at`, `updated_at`

#### `lectures` í…Œì´ë¸”
- **ìš©ë„**: í•™ìƒ ê°œì¸ ê°•ì˜
- **ì£¼ìš” í•„ë“œ**:
  - `id`, `tenant_id`, `student_id`
  - `title`, `subject`
  - `duration`: ì´ ì‹œê°„(ë¶„)
  - `master_content_id`: UUID (FK â†’ content_masters.id) âœ… **ì´ë¯¸ ì¡´ì¬**
  - `created_at`, `updated_at`
  - âš ï¸ `platform` í•„ë“œ ì—†ìŒ (ì¶”ê°€ í•„ìš”í•  ìˆ˜ ìˆìŒ)

---

## ğŸ¯ í•µì‹¬ ë³€ê²½ì‚¬í•­

### 1. íƒ­ êµ¬ì¡° ë³€ê²½

#### í˜„ì¬ êµ¬ì¡°
- âœ… í•™ìƒ êµì¬ (books)
- âœ… í•™ìƒ ê°•ì˜ (lectures)
- âŒ ì»¤ìŠ¤í…€ (custom) - **ì œê±° ì˜ˆì •**

#### ë³€ê²½ í›„ êµ¬ì¡°
- âœ… **í•™ìƒ êµì¬** (student-books) - ê¸°ì¡´ `books` í…Œì´ë¸” í™œìš©
- âœ… **í•™ìƒ ê°•ì˜** (student-lectures) - ê¸°ì¡´ `lectures` í…Œì´ë¸” í™œìš©
- âœ… **ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬** (master-books) - ê¸°ì¡´ `content_masters` í…Œì´ë¸” í™œìš© (`content_type='book'`)
- âœ… **ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° ê°•ì˜** (master-lectures) - ê¸°ì¡´ `content_masters` í…Œì´ë¸” í™œìš© (`content_type='lecture'`)

---

## ğŸ“š êµì¬ (Book) ë°ì´í„° êµ¬ì¡°

### ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬ (`content_masters` where `content_type='book'`)

#### í•„ë“œ ë§¤í•‘ (ìš”êµ¬ì‚¬í•­ â†’ DB í•„ë“œ)

| ìš”êµ¬ í•„ë“œëª… | DB í•„ë“œëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|------------|----------|------|------|------|
| `curriculum_revision` | `revision` | string | ê°œì •êµìœ¡ê³¼ì • | "2015ê°œì •", "2022ê°œì •" |
| `grade_semester` | `semester` | string | í•™ë…„/í•™ê¸° | "ê³ 3-1", "ì¤‘2-2" |
| `subject_category` | `subject_category` | string | êµê³¼ | "êµ­ì–´", "ìˆ˜í•™", "ì˜ì–´" |
| `subject` | `subject` | string | ê³¼ëª© | "í™”ë²•ê³¼ ì‘ë¬¸", "ë¯¸ì ë¶„" |
| `title` | `title` | string | êµì¬ëª… | "êµê³¼ì„œ", "ìˆ˜í•™ì˜ ì •ì„" |
| `publisher` | `publisher_or_academy` | string | ì¶œíŒì‚¬ | "(ì£¼)ì²œì¬êµìœ¡", "EBS" |
| `total_pages` | `total_pages` | number | ì´ í˜ì´ì§€ | 255 |
| `difficulty_level` | `difficulty_level` | string | ë‚œì´ë„ | "ê°œë…", "ê¸°ë³¸", "ì‹¬í™”" |
| `memo` | `notes` | text | ë©”ëª¨ | "25ë…„ ê³ 2~ê³ 3" |
| `created_at` | `created_at` | timestamp | ë“±ë¡ì¼ | 2025-11-14 |
| `updated_at` | `updated_at` | timestamp | ì—…ë°ì´íŠ¸ | 2025-11-19 |

### êµì¬ ìƒì„¸ ì •ë³´ (`content_master_details`)

êµì¬ì˜ ëª©ì°¨/êµ¬ì¡°ë¥¼ ê³„ì¸µì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤. **ì´ë¯¸ í…Œì´ë¸”ì´ ì¡´ì¬í•©ë‹ˆë‹¤.**

| ìš”êµ¬ í•„ë“œëª… | DB í•„ë“œëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ |
|------------|----------|------|------|------|
| `book_id` | `master_id` | uuid (FK) | êµì¬ ID | - |
| `major_unit` | `major_unit` | string | ëŒ€ë‹¨ì› | "1. ë…ì„œì˜ ë³¸ì§ˆ" |
| `minor_unit` | `minor_unit` | string | ì¤‘ë‹¨ì› | "(1) ë…ì„œ ìë£Œ ì„ íƒí•˜ê¸°" |
| `page` | `page_number` | number | í˜ì´ì§€ | 12 |
| `order` | `display_order` | number | ì •ë ¬ ìˆœì„œ | 1, 2, 3... |

**ì˜ˆì‹œ ë°ì´í„°:**
```
ëŒ€ë‹¨ì›: "1. ë…ì„œì˜ ë³¸ì§ˆ"
  ì¤‘ë‹¨ì›: null
  í˜ì´ì§€: 8

ëŒ€ë‹¨ì›: "1. ë…ì„œì˜ ë³¸ì§ˆ"
  ì¤‘ë‹¨ì›: "(1) ë…ì„œ ìë£Œ ì„ íƒí•˜ê¸°"
  í˜ì´ì§€: 12

ëŒ€ë‹¨ì›: "2. ë…ì„œì˜ ë°©ë²•"
  ì¤‘ë‹¨ì›: "(1) ì‚¬ì‹¤ì  ì½ê¸°"
  í˜ì´ì§€: 46
```

---

## ğŸ“ ê°•ì˜ (Lecture) ë°ì´í„° êµ¬ì¡°

### ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° ê°•ì˜ (`content_masters` where `content_type='lecture'`)

#### í•„ë“œ ë§¤í•‘ (ìš”êµ¬ì‚¬í•­ â†’ DB í•„ë“œ)

| ìš”êµ¬ í•„ë“œëª… | DB í•„ë“œëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œ | ìƒíƒœ |
|------------|----------|------|------|------|------|
| `curriculum_revision` | `revision` | string | ê°œì •êµìœ¡ê³¼ì • | "2015ê°œì •" | âœ… ì¡´ì¬ |
| `grade_semester` | `semester` | string | í•™ë…„/í•™ê¸° | "ê³ 3-1" | âœ… ì¡´ì¬ |
| `subject_category` | `subject_category` | string | êµê³¼ | "êµ­ì–´" | âœ… ì¡´ì¬ |
| `subject` | `subject` | string | ê³¼ëª© | "í™”ë²•ê³¼ ì‘ë¬¸" | âœ… ì¡´ì¬ |
| `title` | `title` | string | ê°•ì˜ëª… | "ë©”ê°€ìŠ¤í„°ë”” êµ­ì–´ ê°•ì˜" | âœ… ì¡´ì¬ |
| `platform` | `publisher_or_academy` | string | í”Œë«í¼ | "ë©”ê°€ìŠ¤í„°ë””", "EBSi" | âœ… ì¡´ì¬ (í•„ë“œëª… ë‹¤ë¦„) |
| `total_episodes` | `total_episodes` | number | ì´ íšŒì°¨ | 30 | âœ… ì¡´ì¬ |
| `total_duration` | - | number | ì´ ê°•ì˜ì‹œê°„ (ë¶„) | 1800 | âš ï¸ **ì¶”ê°€ í•„ìš”** |
| `difficulty_level` | `difficulty_level` | string | ë‚œì´ë„ | "ê°œë…", "ê¸°ë³¸", "ì‹¬í™”" | âœ… ì¡´ì¬ |
| `book_id` | - | uuid (FK) | ì—°ê²°ëœ êµì¬ ID | (ì„ íƒì‚¬í•­) | âš ï¸ **ì¶”ê°€ í•„ìš”** |
| `memo` | `notes` | text | ë©”ëª¨ | - | âœ… ì¡´ì¬ |
| `created_at` | `created_at` | timestamp | ë“±ë¡ì¼ | 2025-11-14 | âœ… ì¡´ì¬ |
| `updated_at` | `updated_at` | timestamp | ì—…ë°ì´íŠ¸ | 2025-11-19 | âœ… ì¡´ì¬ |

**âš ï¸ í•„ìš”í•œ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì‚¬í•­:**
1. `content_masters` í…Œì´ë¸”ì— `total_duration` ì»¬ëŸ¼ ì¶”ê°€ (ê°•ì˜ ì´ ì‹œê°„, ë¶„ ë‹¨ìœ„)
2. `content_masters` í…Œì´ë¸”ì— `linked_book_id` ì»¬ëŸ¼ ì¶”ê°€ (ì—°ê²°ëœ êµì¬ ì°¸ì¡°, ì„ íƒì‚¬í•­)

### ê°•ì˜ ìƒì„¸ ì •ë³´ (ì„ íƒì‚¬í•­)

ê°•ì˜ì˜ íšŒì°¨ë³„ ì •ë³´ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. **í˜„ì¬ëŠ” ë³„ë„ í…Œì´ë¸”ì´ ì—†ìœ¼ë¯€ë¡œ í•„ìš”ì‹œ ì¶”ê°€ ê³ ë ¤**

| í•„ë“œëª… | íƒ€ì… | ì„¤ëª… |
|--------|------|------|
| `lecture_id` | uuid (FK) | ê°•ì˜ ID |
| `episode_number` | number | íšŒì°¨ ë²ˆí˜¸ |
| `episode_title` | string | íšŒì°¨ ì œëª© |
| `duration` | number | íšŒì°¨ë³„ ì‹œê°„ (ë¶„) |
| `order` | number | ì •ë ¬ ìˆœì„œ |

**ì°¸ê³ **: í˜„ì¬ëŠ” `content_master_details`ê°€ êµì¬ ì „ìš©ì´ë¯€ë¡œ, ê°•ì˜ íšŒì°¨ ì •ë³´ê°€ í•„ìš”í•˜ë©´ ë³„ë„ í…Œì´ë¸”(`lecture_episodes`) ìƒì„± ê³ ë ¤

---

## ğŸ” ê²€ìƒ‰ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### ë³µí•© ê²€ìƒ‰ í•„í„°

ë‹¤ìŒ í•­ëª©ë“¤ì„ ì¡°í•©í•˜ì—¬ ê²€ìƒ‰í•  ìˆ˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤. **ê¸°ì¡´ `lib/data/contentMasters.ts`ì˜ `searchContentMasters` í•¨ìˆ˜ë¥¼ í™œìš©**í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. **ê°œì •êµìœ¡ê³¼ì •** (`revision`)
   - ë“œë¡­ë‹¤ìš´: "2015ê°œì •", "2022ê°œì •", "ì „ì²´"
   - DB í•„ë“œ: `content_masters.revision`

2. **í•™ë…„/í•™ê¸°** (`semester`)
   - ë“œë¡­ë‹¤ìš´: "ê³ 1-1", "ê³ 1-2", "ê³ 2-1", "ê³ 2-2", "ê³ 3-1", "ê³ 3-2", "ì „ì²´"
   - DB í•„ë“œ: `content_masters.semester`

3. **êµê³¼** (`subject_category`)
   - ë“œë¡­ë‹¤ìš´: "êµ­ì–´", "ìˆ˜í•™", "ì˜ì–´", "ì „ì²´"
   - DB í•„ë“œ: `content_masters.subject_category`

4. **ê³¼ëª©** (`subject`)
   - ë“œë¡­ë‹¤ìš´: êµê³¼ ì„ íƒ ì‹œ ë™ì  ë¡œë”©
   - ì˜ˆ: êµ­ì–´ â†’ "í™”ë²•ê³¼ ì‘ë¬¸", "ë¬¸í•™", "ì–¸ì–´ì™€ ë§¤ì²´"
   - DB í•„ë“œ: `content_masters.subject`

5. **ì¶œíŒì‚¬/í”Œë«í¼** (`publisher_or_academy`)
   - í…ìŠ¤íŠ¸ ì…ë ¥ ë˜ëŠ” ë“œë¡­ë‹¤ìš´
   - DB í•„ë“œ: `content_masters.publisher_or_academy`

6. **ë‚œì´ë„** (`difficulty_level`)
   - ë“œë¡­ë‹¤ìš´: "ê°œë…", "ê¸°ë³¸", "ì‹¬í™”", "ì „ì²´"
   - DB í•„ë“œ: `content_masters.difficulty_level`

7. **ì œëª© ê²€ìƒ‰** (`search`)
   - í…ìŠ¤íŠ¸ ì…ë ¥: ì œëª© ë¶€ë¶„ ì¼ì¹˜ ê²€ìƒ‰
   - DB í•„ë“œ: `content_masters.title` (ILIKE ê²€ìƒ‰)

### ê²€ìƒ‰ UI êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ê°œì • â–¼] [í•™ë…„/í•™ê¸° â–¼] [êµê³¼ â–¼]        â”‚
â”‚ [ê³¼ëª© â–¼] [ì¶œíŒì‚¬/í”Œë«í¼ â–¼] [ë‚œì´ë„ â–¼]  â”‚
â”‚ [ê²€ìƒ‰ ë²„íŠ¼] [ì´ˆê¸°í™” ë²„íŠ¼]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì‚¬í•­

### âœ… ì´ë¯¸ ì¡´ì¬í•˜ëŠ” í…Œì´ë¸”

#### 1. `content_masters` í…Œì´ë¸”
- **ìƒíƒœ**: âœ… ì´ë¯¸ ì¡´ì¬
- **ìš©ë„**: ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬/ê°•ì˜ í†µí•© ê´€ë¦¬
- **í•„í„°**: `content_type='book'` ë˜ëŠ” `content_type='lecture'`ë¡œ êµ¬ë¶„

#### 2. `content_master_details` í…Œì´ë¸”
- **ìƒíƒœ**: âœ… ì´ë¯¸ ì¡´ì¬
- **ìš©ë„**: êµì¬ ì„¸ë¶€ ì •ë³´ (ëŒ€ë‹¨ì›, ì¤‘ë‹¨ì›, í˜ì´ì§€)
- **ì°¸ê³ **: í˜„ì¬ëŠ” êµì¬ ì „ìš©ìœ¼ë¡œ ì‚¬ìš© ì¤‘

#### 3. `books` í…Œì´ë¸”
- **ìƒíƒœ**: âœ… ì´ë¯¸ ì¡´ì¬
- **íŠ¹ì§•**: `master_content_id` í•„ë“œë¡œ `content_masters` ì°¸ì¡° ê°€ëŠ¥ âœ…

#### 4. `lectures` í…Œì´ë¸”
- **ìƒíƒœ**: âœ… ì´ë¯¸ ì¡´ì¬
- **íŠ¹ì§•**: `master_content_id` í•„ë“œë¡œ `content_masters` ì°¸ì¡° ê°€ëŠ¥ âœ…
- **ë¶€ì¡±í•œ í•„ë“œ**: `platform` í•„ë“œ ì—†ìŒ (í˜„ì¬ ì½”ë“œì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ë§Œ DBì—ëŠ” ì—†ì„ ìˆ˜ ìˆìŒ)

---

### âš ï¸ í•„ìš”í•œ ìŠ¤í‚¤ë§ˆ ë³€ê²½

#### 1. `content_masters` í…Œì´ë¸”ì— ì»¬ëŸ¼ ì¶”ê°€

```sql
-- ê°•ì˜ ì´ ì‹œê°„ ì¶”ê°€ (ë¶„ ë‹¨ìœ„)
ALTER TABLE content_masters 
ADD COLUMN IF NOT EXISTS total_duration INTEGER;

-- ì—°ê²°ëœ êµì¬ ì°¸ì¡° ì¶”ê°€ (ê°•ì˜ê°€ íŠ¹ì • êµì¬ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ê²½ìš°)
ALTER TABLE content_masters 
ADD COLUMN IF NOT EXISTS linked_book_id UUID REFERENCES content_masters(id) ON DELETE SET NULL;

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX IF NOT EXISTS idx_content_masters_linked_book ON content_masters(linked_book_id);
```

#### 2. `lectures` í…Œì´ë¸”ì— `platform` í•„ë“œ ì¶”ê°€ (í•„ìš”ì‹œ)

```sql
-- platform í•„ë“œ ì¶”ê°€ (í˜„ì¬ ì½”ë“œì—ì„œ ì‚¬ìš© ì¤‘ì´ì§€ë§Œ DBì— ì—†ì„ ìˆ˜ ìˆìŒ)
ALTER TABLE lectures 
ADD COLUMN IF NOT EXISTS platform TEXT;

-- ì¸ë±ìŠ¤ ì¶”ê°€
CREATE INDEX IF NOT EXISTS idx_lectures_platform ON lectures(platform) WHERE platform IS NOT NULL;
```

#### 3. ê°•ì˜ íšŒì°¨ ì •ë³´ í…Œì´ë¸” (ì„ íƒì‚¬í•­)

ê°•ì˜ íšŒì°¨ë³„ ìƒì„¸ ì •ë³´ê°€ í•„ìš”í•˜ë©´ ë³„ë„ í…Œì´ë¸” ìƒì„±:

```sql
CREATE TABLE IF NOT EXISTS lecture_episodes (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  master_id UUID NOT NULL REFERENCES content_masters(id) ON DELETE CASCADE,
  episode_number INTEGER NOT NULL,
  episode_title VARCHAR(255),
  duration INTEGER, -- ë¶„ ë‹¨ìœ„
  display_order INTEGER NOT NULL DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

CREATE INDEX IF NOT EXISTS idx_lecture_episodes_master ON lecture_episodes(master_id);
CREATE INDEX IF NOT EXISTS idx_lecture_episodes_order ON lecture_episodes(master_id, display_order);
```

**ì°¸ê³ **: í˜„ì¬ëŠ” `total_episodes`ë§Œìœ¼ë¡œë„ ì¶©ë¶„í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, íšŒì°¨ë³„ ìƒì„¸ ì •ë³´ëŠ” Phase 2 ì´í›„ ê³ ë ¤

---

## ğŸ¨ UI/UX ê°œì„  ë°©í–¥

### 1. ë©”ì¸ í˜ì´ì§€ (`/contents`)

#### íƒ­ êµ¬ì¡°
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [í•™ìƒ êµì¬] [í•™ìƒ ê°•ì˜] [ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬] â”‚
â”‚ [ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° ê°•ì˜]                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ê²€ìƒ‰ ì˜ì—­ (ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° íƒ­ì—ì„œë§Œ í‘œì‹œ)
- ë³µí•© í•„í„° UI
- ê²€ìƒ‰ ê²°ê³¼ ê°œìˆ˜ í‘œì‹œ
- ì •ë ¬ ì˜µì…˜ (ë“±ë¡ì¼ìˆœ, ì´ë¦„ìˆœ, ë‚œì´ë„ìˆœ)

#### ë¦¬ìŠ¤íŠ¸ ë·°
- ì¹´ë“œ í˜•íƒœ ë˜ëŠ” í…Œì´ë¸” í˜•íƒœ
- ì£¼ìš” ì •ë³´ í•œëˆˆì— ë³´ê¸°
- "ë‚´ êµì¬/ê°•ì˜ì— ì¶”ê°€" ë²„íŠ¼ (ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° â†’ í•™ìƒ)

### 2. êµì¬ ìƒì„¸ í˜ì´ì§€

#### ê¸°ë³¸ ì •ë³´ ì„¹ì…˜
- ëª¨ë“  í•„ë“œ í‘œì‹œ
- ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ (ê¶Œí•œì— ë”°ë¼)

#### ìƒì„¸ ì •ë³´ ì„¹ì…˜ (ê³„ì¸µ êµ¬ì¡°)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ëŒ€ë‹¨ì›        â”‚ ì¤‘ë‹¨ì›        â”‚ í˜ì´ì§€ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ë…ì„œì˜ ë³¸ì§ˆâ”‚              â”‚ 8     â”‚
â”‚ 1. ë…ì„œì˜ ë³¸ì§ˆâ”‚ (1) ë…ì„œ ìë£Œâ”‚ 12    â”‚
â”‚ 2. ë…ì„œì˜ ë°©ë²•â”‚              â”‚ 42    â”‚
â”‚ 2. ë…ì„œì˜ ë°©ë²•â”‚ (1) ì‚¬ì‹¤ì  ì½ê¸°â”‚ 46  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

- ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥
- ë“œë˜ê·¸ ì•¤ ë“œë¡­ìœ¼ë¡œ ìˆœì„œ ë³€ê²½

### 3. ê°•ì˜ ìƒì„¸ í˜ì´ì§€

#### ê¸°ë³¸ ì •ë³´ ì„¹ì…˜
- ëª¨ë“  í•„ë“œ í‘œì‹œ
- ì—°ê²°ëœ êµì¬ í‘œì‹œ (ìˆëŠ” ê²½ìš°)
- ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼

#### íšŒì°¨ ì •ë³´ ì„¹ì…˜ (ì„ íƒì‚¬í•­)
- íšŒì°¨ë³„ ëª©ë¡
- ì´ ì‹œê°„ í‘œì‹œ

### 4. ë“±ë¡/ìˆ˜ì • í¼

#### êµì¬ ë“±ë¡ í¼
```
[ê°œì •êµìœ¡ê³¼ì • â–¼]
[í•™ë…„/í•™ê¸° â–¼]
[êµê³¼ â–¼]
[ê³¼ëª© â–¼]
[êµì¬ëª… *]
[ì¶œíŒì‚¬]
[ì´ í˜ì´ì§€ *]
[ë‚œì´ë„ â–¼]
[ë©”ëª¨]

[ìƒì„¸ ì •ë³´ ì¶”ê°€]
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ëŒ€ë‹¨ì›: [ì…ë ¥]              â”‚
â”‚ ì¤‘ë‹¨ì›: [ì…ë ¥]              â”‚
â”‚ í˜ì´ì§€: [ì…ë ¥]              â”‚
â”‚ [+ ì¶”ê°€]                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[ë“±ë¡] [ì·¨ì†Œ]
```

#### ê°•ì˜ ë“±ë¡ í¼
```
[ê°œì •êµìœ¡ê³¼ì • â–¼]
[í•™ë…„/í•™ê¸° â–¼]
[êµê³¼ â–¼]
[ê³¼ëª© â–¼]
[ê°•ì˜ëª… *]
[í”Œë«í¼ â–¼]
[ì´ íšŒì°¨ *]
[ì´ ê°•ì˜ì‹œê°„(ë¶„) *]
[ë‚œì´ë„ â–¼]
[ì—°ê²°ëœ êµì¬ â–¼] (ì„ íƒì‚¬í•­)
[ë©”ëª¨]

[ë“±ë¡] [ì·¨ì†Œ]
```

---

## ğŸ”„ CRUD ì‘ì—… íë¦„

### ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬ (`content_masters` where `content_type='book'`)

#### Create
1. `/contents/master-books/new` ì ‘ê·¼
2. ê¸°ë³¸ ì •ë³´ ì…ë ¥
3. ìƒì„¸ ì •ë³´ ì¶”ê°€ (ì„ íƒì‚¬í•­)
4. ì €ì¥ â†’ `content_masters` + `content_master_details` í…Œì´ë¸”ì— ì €ì¥
5. **ê¸°ì¡´ í•¨ìˆ˜ í™œìš©**: `lib/data/contentMasters.ts` ì°¸ê³ 

#### Read
1. `/contents/master-books` ëª©ë¡ ì¡°íšŒ
2. ê²€ìƒ‰ í•„í„° ì ìš© â†’ `searchContentMasters()` í•¨ìˆ˜ í™œìš©
3. `/contents/master-books/[id]` ìƒì„¸ ì¡°íšŒ â†’ `getContentMasterById()` í•¨ìˆ˜ í™œìš©

#### Update
1. ìƒì„¸ í˜ì´ì§€ì—ì„œ "ìˆ˜ì •" í´ë¦­
2. í¼ ìˆ˜ì •
3. ì €ì¥ â†’ `content_masters.updated_at` ê°±ì‹  (íŠ¸ë¦¬ê±°ë¡œ ìë™)

#### Delete
1. ìƒì„¸ í˜ì´ì§€ì—ì„œ "ì‚­ì œ" í´ë¦­
2. í™•ì¸ í›„ ì‚­ì œ
3. CASCADEë¡œ `content_master_details`ë„ í•¨ê»˜ ì‚­ì œ
4. ì°¸ì¡° ì¤‘ì¸ `books.master_content_id`ëŠ” SET NULL ì²˜ë¦¬

### í•™ìƒ êµì¬/ê°•ì˜ì— ë§ˆìŠ¤í„° ì½˜í…ì¸  ì¶”ê°€

1. ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬/ê°•ì˜ ìƒì„¸ í˜ì´ì§€
2. "ë‚´ êµì¬ì— ì¶”ê°€" ë²„íŠ¼ í´ë¦­
3. **ê¸°ì¡´ í•¨ìˆ˜ í™œìš©**: `copyMasterToStudentContent()` í•¨ìˆ˜ ì‚¬ìš© (`lib/data/contentMasters.ts`)
4. í•™ìƒì˜ `books` ë˜ëŠ” `lectures` í…Œì´ë¸”ì— ë°ì´í„° ë³µì‚¬
5. `master_content_id` í•„ë“œì— ì›ë³¸ ë§ˆìŠ¤í„° ID ì €ì¥
6. í•™ìƒ ê°œì¸ ë©”ëª¨/ì„¤ì • ì¶”ê°€ ê°€ëŠ¥

---

## ğŸš€ êµ¬í˜„ ìš°ì„ ìˆœìœ„

### Phase 1: ê¸°ë³¸ êµ¬ì¡°
1. âœ… ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„±
2. âœ… íƒ€ì… ì •ì˜ (`types/content.ts`)
3. âœ… ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬ CRUD
4. âœ… ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° ê°•ì˜ CRUD

### Phase 2: ê²€ìƒ‰ ê¸°ëŠ¥
1. âœ… ë³µí•© ê²€ìƒ‰ í•„í„° UI
2. âœ… ê²€ìƒ‰ API êµ¬í˜„
3. âœ… ê²€ìƒ‰ ê²°ê³¼ ìµœì í™”

### Phase 3: ìƒì„¸ ì •ë³´ ê´€ë¦¬
1. âœ… êµì¬ ìƒì„¸ ì •ë³´ (ê³„ì¸µ êµ¬ì¡°) CRUD
2. âœ… ê°•ì˜ íšŒì°¨ ì •ë³´ CRUD (ì„ íƒì‚¬í•­)

### Phase 4: í†µí•©
1. âœ… í•™ìƒ êµì¬/ê°•ì˜ì— ë§ˆìŠ¤í„° ì½˜í…ì¸  ì¶”ê°€ ê¸°ëŠ¥
2. âœ… ê¸°ì¡´ ì»¤ìŠ¤í…€ ì½˜í…ì¸  ì œê±°
3. âœ… UI/UX ê°œì„ 

---

## ğŸ“ ì¶”ê°€ ê³ ë ¤ì‚¬í•­

### ê¶Œí•œ ê´€ë¦¬
- ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬/ê°•ì˜ëŠ” ê´€ë¦¬ìë§Œ ìƒì„±/ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
- í•™ìƒì€ ì¡°íšŒ ë° "ë‚´ ì½˜í…ì¸ ì— ì¶”ê°€"ë§Œ ê°€ëŠ¥

### ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜
- ê¸°ì¡´ `books`, `lectures` í…Œì´ë¸” ë°ì´í„° ìœ ì§€
- í•„ìš”ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±

### ì„±ëŠ¥ ìµœì í™”
- ê²€ìƒ‰ ì¸ë±ìŠ¤ ìµœì í™”
- í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„
- ìºì‹± ì „ëµ (í•„ìš”ì‹œ)

### ê²€ì¦ ê·œì¹™
- í•„ìˆ˜ í•„ë“œ ê²€ì¦
- í•™ë…„/í•™ê¸° í˜•ì‹ ê²€ì¦
- í˜ì´ì§€/íšŒì°¨ ìˆ«ì ê²€ì¦

---

## âœ… ì²´í¬ë¦¬ìŠ¤íŠ¸

### ë°ì´í„°ë² ì´ìŠ¤
- [x] `content_masters` í…Œì´ë¸” âœ… ì´ë¯¸ ì¡´ì¬
- [x] `content_master_details` í…Œì´ë¸” âœ… ì´ë¯¸ ì¡´ì¬
- [x] `books` í…Œì´ë¸” âœ… ì´ë¯¸ ì¡´ì¬ (`master_content_id` í¬í•¨)
- [x] `lectures` í…Œì´ë¸” âœ… ì´ë¯¸ ì¡´ì¬ (`master_content_id` í¬í•¨)
- [ ] `content_masters.total_duration` ì»¬ëŸ¼ ì¶”ê°€ (ê°•ì˜ ì´ ì‹œê°„)
- [ ] `content_masters.linked_book_id` ì»¬ëŸ¼ ì¶”ê°€ (ê°•ì˜-êµì¬ ì—°ê²°)
- [ ] `lectures.platform` ì»¬ëŸ¼ ì¶”ê°€ (í•„ìš”ì‹œ)
- [ ] `lecture_episodes` í…Œì´ë¸” ìƒì„± (ì„ íƒì‚¬í•­, Phase 2 ì´í›„)
- [ ] ì¸ë±ìŠ¤ ì¶”ê°€/í™•ì¸
- [ ] RLS (Row Level Security) ì •ì±… í™•ì¸/ìˆ˜ì •

### íƒ€ì… ì •ì˜
- [x] `ContentMaster` íƒ€ì… âœ… `lib/types/plan.ts`ì— ì¡´ì¬
- [x] `ContentMasterDetail` íƒ€ì… âœ… `lib/types/plan.ts`ì— ì¡´ì¬
- [ ] `ContentMaster` íƒ€ì… í™•ì¥ (`total_duration`, `linked_book_id` í•„ë“œ ì¶”ê°€)
- [ ] `LectureEpisode` íƒ€ì… (ì„ íƒì‚¬í•­, Phase 2 ì´í›„)

### API/Server Actions
- [x] `searchContentMasters()` âœ… `lib/data/contentMasters.ts`ì— ì¡´ì¬
- [x] `getContentMasterById()` âœ… `lib/data/contentMasters.ts`ì— ì¡´ì¬
- [x] `copyMasterToStudentContent()` âœ… `lib/data/contentMasters.ts`ì— ì¡´ì¬
- [ ] `createContentMaster()` (êµì¬/ê°•ì˜ ìƒì„±)
- [ ] `updateContentMaster()` (êµì¬/ê°•ì˜ ìˆ˜ì •)
- [ ] `deleteContentMaster()` (êµì¬/ê°•ì˜ ì‚­ì œ)
- [ ] `createContentMasterDetail()` (êµì¬ ìƒì„¸ ì •ë³´ ì¶”ê°€)
- [ ] `updateContentMasterDetail()` (êµì¬ ìƒì„¸ ì •ë³´ ìˆ˜ì •)
- [ ] `deleteContentMasterDetail()` (êµì¬ ìƒì„¸ ì •ë³´ ì‚­ì œ)
- [ ] `getSubjectList()` âœ… ì´ë¯¸ ì¡´ì¬ (í™•ì¸ í•„ìš”)
- [ ] `getSemesterList()` âœ… ì´ë¯¸ ì¡´ì¬ (í™•ì¸ í•„ìš”)

### UI ì»´í¬ë„ŒíŠ¸
- [ ] íƒ­ ë„¤ë¹„ê²Œì´ì…˜
- [ ] ê²€ìƒ‰ í•„í„° ì»´í¬ë„ŒíŠ¸
- [ ] êµì¬/ê°•ì˜ ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸
- [ ] êµì¬/ê°•ì˜ ìƒì„¸ ì»´í¬ë„ŒíŠ¸
- [ ] ë“±ë¡/ìˆ˜ì • í¼ ì»´í¬ë„ŒíŠ¸
- [ ] ìƒì„¸ ì •ë³´ ê´€ë¦¬ ì»´í¬ë„ŒíŠ¸ (ê³„ì¸µ êµ¬ì¡°)

---

## ğŸ“Œ ìš”ì•½

### ê¸°ì¡´ êµ¬ì¡° í™œìš©

âœ… **ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ì¸í”„ë¼:**
- `content_masters` í…Œì´ë¸”: ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„° êµì¬/ê°•ì˜ í†µí•© ê´€ë¦¬
- `content_master_details` í…Œì´ë¸”: êµì¬ ìƒì„¸ ì •ë³´ (ëŒ€ë‹¨ì›, ì¤‘ë‹¨ì›, í˜ì´ì§€)
- `books`, `lectures` í…Œì´ë¸”: í•™ìƒ ê°œì¸ ì½˜í…ì¸  (`master_content_id` ì°¸ì¡° ê°€ëŠ¥)
- `lib/data/contentMasters.ts`: ê²€ìƒ‰, ì¡°íšŒ, ë³µì‚¬ í•¨ìˆ˜ ì´ë¯¸ êµ¬í˜„ë¨

### í•„ìš”í•œ ì‘ì—…

âš ï¸ **ìŠ¤í‚¤ë§ˆ ë³€ê²½:**
1. `content_masters.total_duration` ì»¬ëŸ¼ ì¶”ê°€ (ê°•ì˜ ì´ ì‹œê°„)
2. `content_masters.linked_book_id` ì»¬ëŸ¼ ì¶”ê°€ (ê°•ì˜-êµì¬ ì—°ê²°)
3. `lectures.platform` ì»¬ëŸ¼ ì¶”ê°€ (í•„ìš”ì‹œ)

ğŸ“ **êµ¬í˜„ ì‘ì—…:**
1. CRUD í•¨ìˆ˜ ì¶”ê°€ (ìƒì„±, ìˆ˜ì •, ì‚­ì œ)
2. UI ì»´í¬ë„ŒíŠ¸ ê°œë°œ (íƒ­, ê²€ìƒ‰ í•„í„°, ë¦¬ìŠ¤íŠ¸, ìƒì„¸, í¼)
3. ê¸°ì¡´ ì»¤ìŠ¤í…€ ì½˜í…ì¸  ì œê±°

### ê°œí¸ íš¨ê³¼

ì´ë²ˆ ê°œí¸ì„ í†µí•´:
1. **ì„œë¹„ìŠ¤ ë§ˆìŠ¤í„°**ê°€ ì²´ê³„ì ìœ¼ë¡œ êµì¬/ê°•ì˜ ì •ë³´ë¥¼ ê´€ë¦¬ (`content_masters` í™œìš©)
2. **í•™ìƒ**ì´ ê²€ìƒ‰ì„ í†µí•´ í•„ìš”í•œ ì½˜í…ì¸ ë¥¼ ì‰½ê²Œ ì°¾ì•„ ì‚¬ìš© (`searchContentMasters` í™œìš©)
3. **ê³„ì¸µ êµ¬ì¡°**ë¡œ êµì¬ ìƒì„¸ ì •ë³´ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬ (`content_master_details` í™œìš©)
4. **ê°•ì˜-êµì¬ ì—°ê²°**ë¡œ ê´€ë ¨ ì½˜í…ì¸ ë¥¼ ìœ ê¸°ì ìœ¼ë¡œ ê´€ë¦¬ (ìƒˆ í•„ë“œ ì¶”ê°€)
5. **ê¸°ì¡´ ì¸í”„ë¼ ì¬í™œìš©**ìœ¼ë¡œ ê°œë°œ ì‹œê°„ ë‹¨ì¶• ë° ì¼ê´€ì„± ìœ ì§€

ì´ëŸ¬í•œ êµ¬ì¡°ë¡œ í™•ì¥ ê°€ëŠ¥í•˜ê³  ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰¬ìš´ ì½˜í…ì¸  ê´€ë¦¬ ì‹œìŠ¤í…œì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

