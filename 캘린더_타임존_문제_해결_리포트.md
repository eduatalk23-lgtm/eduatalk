# ìº˜ë¦°ë” ë‚ ì§œ íƒ€ì„ì¡´ ë¬¸ì œ í•´ê²° ë¦¬í¬íŠ¸

**ë¬¸ì œ ë°œê²¬ì¼**: 2025-01-22  
**ë¬¸ì œ**: í”Œëœ ëª©ë¡ì—ì„œëŠ” 1ì›” 3ì¼ë¶€í„° í”Œëœì´ ìˆì§€ë§Œ ìº˜ë¦°ë”ì—ì„œëŠ” 1ì›” 4ì¼ë¶€í„° í‘œì‹œë¨ (í•˜ë£¨ì”© ë°€ë¦¼)

---

## ğŸ“‹ ë¬¸ì œ ì›ì¸

### íƒ€ì„ì¡´ ë³€í™˜ ë¬¸ì œ

**í•µì‹¬ ë¬¸ì œ**: `formatDateString` í•¨ìˆ˜ê°€ `toISOString()`ì„ ì‚¬ìš©í•˜ì—¬ UTCë¡œ ë³€í™˜í•˜ë©´ì„œ ë‚ ì§œê°€ í•˜ë£¨ ì „ìœ¼ë¡œ ë°”ë€œ

```typescript
// âŒ ë¬¸ì œê°€ ìˆë˜ ì½”ë“œ
export function formatDateString(date: Date): string {
  return date.toISOString().slice(0, 10);
}
```

**ì˜ˆì‹œ**:
- í•œêµ­(KST, UTC+9)ì—ì„œ "2026-01-03 00:00:00 KST"ë¥¼ Date ê°ì²´ë¡œ ìƒì„±
- `toISOString()` í˜¸ì¶œ ì‹œ UTCë¡œ ë³€í™˜: "2026-01-02T15:00:00.000Z"
- `.slice(0, 10)` ê²°ê³¼: "2026-01-02" âŒ (í•˜ë£¨ ì „!)

### ì˜í–¥ë°›ì€ ê¸°ëŠ¥

1. **í”Œëœ í‘œì‹œ**: í”Œëœ ë‚ ì§œê°€ í•˜ë£¨ì”© ë°€ë ¤ì„œ í‘œì‹œë¨
2. **íœ´ì¼/ì œì™¸ì¼**: íœ´ì¼ ì§€ì •ë„ í•˜ë£¨ì”© ë°€ë ¤ì„œ í‘œì‹œë¨
3. **í•™ì›ì¼ì •**: í•™ì›ì¼ì •ë„ í•˜ë£¨ì”© ë°€ë ¤ì„œ í‘œì‹œë¨

---

## âœ… í•´ê²° ë°©ë²•

### 1. `formatDateString` í•¨ìˆ˜ ìˆ˜ì •

ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ ë‚ ì§œë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ë„ë¡ ìˆ˜ì •:

```typescript
// âœ… ìˆ˜ì •ëœ ì½”ë“œ
export function formatDateString(date: Date): string {
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  const day = String(date.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}
```

**ì¥ì **:
- ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ë‚ ì§œê°€ ë³€ê²½ë˜ì§€ ì•ŠìŒ
- `getFullYear()`, `getMonth()`, `getDate()`ëŠ” ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ ì‘ë™

### 2. `parseDateString` í•¨ìˆ˜ ìˆ˜ì •

ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ Date ê°ì²´ë¥¼ ìƒì„±í•˜ë„ë¡ ìˆ˜ì •:

```typescript
// âœ… ìˆ˜ì •ëœ ì½”ë“œ
export function parseDateString(dateStr: string): Date {
  // ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ Date ê°ì²´ ìƒì„±
  const [year, month, day] = dateStr.split("-").map(Number);
  return new Date(year, month - 1, day, 0, 0, 0, 0);
}
```

**ì¥ì **:
- ë¡œì»¬ íƒ€ì„ì¡´ìœ¼ë¡œ Date ê°ì²´ ìƒì„±í•˜ì—¬ ì¼ê´€ì„± ìœ ì§€
- ë‚ ì§œ ë¬¸ìì—´ì´ ê·¸ëŒ€ë¡œ ë‚ ì§œë¡œ ë³€í™˜ë¨

### 3. `PlanCalendarView` ì»´í¬ë„ŒíŠ¸ ìˆ˜ì •

`parseDateString` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ë³€ê²½:

```typescript
// âœ… ìˆ˜ì •ëœ ì½”ë“œ
const initialDateObj = parseDateString(initialDate);
```

---

## ğŸ“ ë³€ê²½ëœ íŒŒì¼

### 1. `lib/date/calendarUtils.ts`
- `formatDateString`: ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜
- `parseDateString`: ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ íŒŒì‹±

### 2. `app/(student)/plan/calendar/_components/PlanCalendarView.tsx`
- `parseDateString` í•¨ìˆ˜ import ì¶”ê°€
- ì´ˆê¸° ë‚ ì§œ íŒŒì‹±ì— `parseDateString` ì‚¬ìš©

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### âœ… ì •ìƒ ë™ì‘ í™•ì¸

1. **í”Œëœ ë‚ ì§œ í‘œì‹œ**
   - [ ] í”Œëœ ëª©ë¡ì—ì„œ 1ì›” 3ì¼ í”Œëœì´ ìˆìœ¼ë©´ ìº˜ë¦°ë”ì—ì„œë„ 1ì›” 3ì¼ì— í‘œì‹œ
   - [ ] ë‚ ì§œê°€ í•˜ë£¨ì”© ë°€ë¦¬ì§€ ì•ŠìŒ

2. **íœ´ì¼/ì œì™¸ì¼ í‘œì‹œ**
   - [ ] íœ´ì¼ ì§€ì •í•œ ë‚ ì§œì— ì •í™•íˆ í‘œì‹œ
   - [ ] ë‚ ì§œê°€ í•˜ë£¨ì”© ë°€ë¦¬ì§€ ì•ŠìŒ

3. **í•™ì›ì¼ì • í‘œì‹œ**
   - [ ] í•™ì›ì¼ì •ì´ ì •í™•í•œ ìš”ì¼ì— í‘œì‹œ
   - [ ] ë‚ ì§œê°€ í•˜ë£¨ì”© ë°€ë¦¬ì§€ ì•ŠìŒ

4. **ë‹¤ì–‘í•œ íƒ€ì„ì¡´ í™˜ê²½**
   - [ ] í•œêµ­(KST, UTC+9): ì •ìƒ ë™ì‘
   - [ ] ë¯¸êµ­ ë™ë¶€(EST, UTC-5): ì •ìƒ ë™ì‘
   - [ ] ìœ ëŸ½(CET, UTC+1): ì •ìƒ ë™ì‘

---

## ğŸ’¡ í–¥í›„ ê°œì„  ì‚¬í•­

### 1. íƒ€ì„ì¡´ ëª…ì‹œì  ì²˜ë¦¬ (ì„ íƒì )

ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ ê°„ íƒ€ì„ì¡´ ì°¨ì´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ì²˜ë¦¬:

```typescript
// í–¥í›„ ê°œì„ : íƒ€ì„ì¡´ ëª…ì‹œì  ì²˜ë¦¬
export function formatDateString(date: Date, timezone?: string): string {
  if (timezone) {
    // íŠ¹ì • íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜
    return new Intl.DateTimeFormat('en-CA', {
      timeZone: timezone,
      year: 'numeric',
      month: '2-digit',
      day: '2-digit'
    }).format(date);
  }
  // ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ (í˜„ì¬ êµ¬í˜„)
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, "0");
  const day = String(date.getDate()).padStart(2, "0");
  return `${year}-${month}-${day}`;
}
```

### 2. ë‚ ì§œ ë¹„êµ ìœ í‹¸ë¦¬í‹° ì¶”ê°€

ë‚ ì§œ ë¹„êµë¥¼ ë” ì•ˆì „í•˜ê²Œ ì²˜ë¦¬:

```typescript
// í–¥í›„ ê°œì„ : ë‚ ì§œ ë¹„êµ ìœ í‹¸ë¦¬í‹°
export function isSameDate(date1: Date, date2: Date): boolean {
  return (
    date1.getFullYear() === date2.getFullYear() &&
    date1.getMonth() === date2.getMonth() &&
    date1.getDate() === date2.getDate()
  );
}

export function compareDates(date1: Date, date2: Date): number {
  const str1 = formatDateString(date1);
  const str2 = formatDateString(date2);
  return str1.localeCompare(str2);
}
```

---

## ğŸ“Š ë¬¸ì œ í•´ê²° ì „/í›„ ë¹„êµ

### Before (ë¬¸ì œ ë°œìƒ)

```
í”Œëœ ëª©ë¡: 2026-01-03ë¶€í„° í”Œëœ ì¡´ì¬
ìº˜ë¦°ë”: 2026-01-04ë¶€í„° í”Œëœ í‘œì‹œ âŒ
ì°¨ì´: 1ì¼ ë°€ë¦¼
```

### After (ë¬¸ì œ í•´ê²°)

```
í”Œëœ ëª©ë¡: 2026-01-03ë¶€í„° í”Œëœ ì¡´ì¬
ìº˜ë¦°ë”: 2026-01-03ë¶€í„° í”Œëœ í‘œì‹œ âœ…
ì°¨ì´: ì—†ìŒ
```

---

## âœ… ìµœì¢… í™•ì¸

### ë³€ê²½ ì‚¬í•­ ìš”ì•½

1. âœ… `formatDateString`: ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ ë³€í™˜
2. âœ… `parseDateString`: ë¡œì»¬ íƒ€ì„ì¡´ ê¸°ì¤€ìœ¼ë¡œ íŒŒì‹±
3. âœ… `PlanCalendarView`: `parseDateString` ì‚¬ìš©

### ì˜í–¥ë°›ëŠ” ê¸°ëŠ¥

- âœ… í”Œëœ ë‚ ì§œ í‘œì‹œ: ì •ìƒ ë™ì‘
- âœ… íœ´ì¼/ì œì™¸ì¼ í‘œì‹œ: ì •ìƒ ë™ì‘
- âœ… í•™ì›ì¼ì • í‘œì‹œ: ì •ìƒ ë™ì‘
- âœ… ë‚ ì§œ ë¹„êµ: ì •ìƒ ë™ì‘

---

**ë¦¬í¬íŠ¸ ì‘ì„±ì¼**: 2025-01-22  
**ë¬¸ì œ í•´ê²° ìƒíƒœ**: âœ… ì™„ë£Œ  
**ë‹¤ìŒ ê²€ì¦ ê¶Œì¥ì¼**: 2025-01-25 (3ì¼ í›„)

