<!-- 07ae2397-5dfb-4f2f-b7ce-576f6d7f3a81 b33d08ce-86fa-475e-b32f-3b966ec21cb7 -->
# ì»¨í…ì¸  ìƒì„¸ì •ë³´ ë³´ê¸° UI ê°œì„  ë° ìµœì í™” ê³„íš

## 1. í˜„ì¬ ìƒíƒœ ë¶„ì„

### 1.1 ì£¼ìš” ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

- `ContentHeader`: í—¤ë” ì»´í¬ë„ŒíŠ¸ (ì´ë¯¸ì§€, ì œëª©, ë¶€ì œëª©)
- `ContentDetailTable`: ìƒì„¸ ì •ë³´ í…Œì´ë¸” (2ì—´ ê·¸ë¦¬ë“œ)
- `BookDetailsDisplay`: êµì¬ ëª©ì°¨ í‘œì‹œ (í† ê¸€ ê°€ëŠ¥)
- `LectureEpisodesDisplay`: ê°•ì˜ íšŒì°¨ ì •ë³´ (í…Œì´ë¸” í˜•ì‹)

### 1.2 ì‚¬ìš© ìœ„ì¹˜

- ë§ˆìŠ¤í„° êµì¬: `app/(student)/contents/master-books/[id]/page.tsx`
- ë§ˆìŠ¤í„° ê°•ì˜: `app/(student)/contents/master-lectures/[id]/page.tsx`
- ë§ˆìŠ¤í„° ì»¤ìŠ¤í…€: `app/(student)/contents/master-custom-contents/[id]/page.tsx`
- í•™ìƒ êµì¬: `app/(student)/contents/books/[id]/page.tsx`
- í•™ìƒ ê°•ì˜: `app/(student)/contents/lectures/[id]/page.tsx`
- ê´€ë¦¬ì í˜ì´ì§€: `app/(admin)/admin/master-*/[id]/page.tsx`

### 1.3 ì¤‘ë³µ ì½”ë“œ í™•ì¸

- ë™ì¼í•œ ë ˆì´ì•„ì›ƒ íŒ¨í„´ì´ 6ê°œ ì´ìƒì˜ í˜ì´ì§€ì—ì„œ ë°˜ë³µ
- ì•¡ì…˜ ë²„íŠ¼ ì˜ì—­ ì½”ë“œ ì¤‘ë³µ
- ì„¹ì…˜ êµ¬ë¶„ì„  ìŠ¤íƒ€ì¼ ì¤‘ë³µ

## 2. ê°œì„  ëª©í‘œ

### 2.1 UI/UX ê°œì„ 

- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ìµœì í™” (ëª¨ë°”ì¼ ìš°ì„ )
- ì ‘ê·¼ì„± í–¥ìƒ (ARIA, í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜)
- ì‹œê°ì  ê³„ì¸µ êµ¬ì¡° ëª…í™•í™”
- ëª¨ë˜í•œ ë””ìì¸ íŒ¨í„´ ì ìš©

### 2.2 ì½”ë“œ ìµœì í™”

- ì¤‘ë³µ ì½”ë“œ ì œê±° ë° ê³µí†µ ì»´í¬ë„ŒíŠ¸í™”
- ì„±ëŠ¥ ìµœì í™” (ì´ë¯¸ì§€ lazy loading, ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…)
- íƒ€ì… ì•ˆì „ì„± ê°•í™”

### 2.3 ë°ì´í„°ë² ì´ìŠ¤ í™œìš©

- Supabase í…Œì´ë¸” êµ¬ì¡° í™•ì¸ ì™„ë£Œ
- `master_books`, `master_lectures`, `book_details`, `lecture_episodes` ìŠ¤í‚¤ë§ˆ íŒŒì•…

## 3. ìƒì„¸ êµ¬í˜„ ê³„íš

### Phase 1: ContentHeader ê°œì„ 

**íŒŒì¼**: `app/(student)/contents/_components/ContentHeader.tsx`

**ê°œì„  ì‚¬í•­**:

1. ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ: ëª¨ë°”ì¼ ì„¸ë¡œ â†’ ë°ìŠ¤í¬í†± ê°€ë¡œ ë°°ì¹˜
2. ì•„ì´ì½˜ ì‹œìŠ¤í…œ: Lucide React ì•„ì´ì½˜ìœ¼ë¡œ êµì²´
3. ë°°ì§€ ìŠ¤íƒ€ì¼: ì¹´í…Œê³ ë¦¬ í‘œì‹œ ê°œì„ 
4. ì´ë¯¸ì§€ ìµœì í™”: Next.js Image ì»´í¬ë„ŒíŠ¸ í™œìš© ê°•í™”

**êµ¬í˜„ ë‚´ìš©**:

```tsx
// ë°ìŠ¤í¬í†±ì—ì„œ ì´ë¯¸ì§€ì™€ í…ìŠ¤íŠ¸ ê°€ë¡œ ë°°ì¹˜
<div className="flex flex-col gap-6 md:flex-row md:gap-8">
  {coverImageUrl && (
    <div className="flex-shrink-0">
      <Image ... />
    </div>
  )}
  <div className="flex flex-col gap-3 flex-1">
    {/* ë°°ì§€ + ì œëª© + ë¶€ì œëª© */}
  </div>
</div>
```

### Phase 2: ContentDetailTable ê°œì„ 

**íŒŒì¼**: `app/(student)/contents/_components/ContentDetailTable.tsx`

**ê°œì„  ì‚¬í•­**:

1. ì„¹ì…˜ ê·¸ë£¹í™” ì§€ì›: ê¸°ë³¸ ì •ë³´, ìƒì„¸ ì •ë³´, ê¸°íƒ€ë¡œ ë¶„ë¥˜
2. ë°˜ì‘í˜• ê·¸ë¦¬ë“œ: ëª¨ë°”ì¼ 1ì—´ â†’ íƒœë¸”ë¦¿ 2ì—´ â†’ ë°ìŠ¤í¬í†± 3ì—´
3. í•˜ìœ„ í˜¸í™˜ì„± ìœ ì§€: ê¸°ì¡´ `rows` prop ì§€ì›

**êµ¬í˜„ ë‚´ìš©**:

```tsx
type DetailSection = {
  title?: string;
  rows: DetailRow[];
};

type ContentDetailTableProps = {
  sections?: DetailSection[];
  rows?: DetailRow[]; // í•˜ìœ„ í˜¸í™˜ì„±
};
```

### Phase 3: BookDetailsDisplay ê°œì„ 

**íŒŒì¼**: `app/(student)/contents/_components/BookDetailsDisplay.tsx`

**ê°œì„  ì‚¬í•­**:

1. Lucide ì•„ì´ì½˜ ì‚¬ìš©: `ChevronDown`, `ChevronRight`, `BookOpen`
2. ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€: `transition-transform duration-200`
3. ì ‘ê·¼ì„± ê°œì„ : `aria-expanded`, `aria-controls` ì†ì„± ì¶”ê°€
4. í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›

**êµ¬í˜„ ë‚´ìš©**:

```tsx
import { ChevronDown, ChevronRight, BookOpen } from "lucide-react";

<button
  aria-expanded={isExpanded}
  aria-controls={`group-${group.majorUnit}`}
>
  {isExpanded ? (
    <ChevronDown className="w-4 h-4" />
  ) : (
    <ChevronRight className="w-4 h-4" />
  )}
</button>
```

### Phase 4: LectureEpisodesDisplay ê°œì„ 

**íŒŒì¼**: `app/(student)/contents/_components/LectureEpisodesDisplay.tsx`

**ê°œì„  ì‚¬í•­**:

1. ë°˜ì‘í˜• ë””ìì¸: ëª¨ë°”ì¼ ì¹´ë“œ í˜•ì‹, ë°ìŠ¤í¬í†± í…Œì´ë¸” ìœ ì§€
2. ì¹´ë“œ ìŠ¤íƒ€ì¼ ê°œì„ : í˜¸ë²„ íš¨ê³¼, ê·¸ë¦¼ì ì¶”ê°€
3. ì§„í–‰ë¥  í‘œì‹œ (ì„ íƒì‚¬í•­): ì™„ë£Œëœ íšŒì°¨ í‘œì‹œ

**êµ¬í˜„ ë‚´ìš©**:

```tsx
{/* ëª¨ë°”ì¼: ì¹´ë“œ */}
<div className="flex flex-col gap-3 md:hidden">
  {episodes.map(episode => (
    <div className="rounded-lg border p-4 hover:shadow-sm">
      {/* ì¹´ë“œ ë‚´ìš© */}
    </div>
  ))}
</div>

{/* ë°ìŠ¤í¬í†±: í…Œì´ë¸” */}
<div className="hidden md:block">
  <table>...</table>
</div>
```

### Phase 5: ê³µí†µ ë ˆì´ì•„ì›ƒ ì»´í¬ë„ŒíŠ¸ ìƒì„±

**ìƒˆ íŒŒì¼**: `app/(student)/contents/_components/ContentDetailLayout.tsx`

**ëª©ì **: ì¤‘ë³µëœ ë ˆì´ì•„ì›ƒ ì½”ë“œ í†µí•©

**êµ¬í˜„ ë‚´ìš©**:

```tsx
type ContentDetailLayoutProps = {
  header: React.ReactNode;
  detailTable: React.ReactNode;
  additionalSections?: React.ReactNode[];
  actions: React.ReactNode;
};

export function ContentDetailLayout({
  header,
  detailTable,
  additionalSections,
  actions,
}: ContentDetailLayoutProps) {
  return (
    <section className={getContainerClass("CONTENT_DETAIL", "lg")}>
      <div className="rounded-2xl border bg-white shadow-sm">
        {/* í—¤ë” ì„¹ì…˜ */}
        <div className="p-6 md:p-8 border-b border-gray-200">
          {header}
        </div>
        
        {/* ìƒì„¸ ì •ë³´ ì„¹ì…˜ */}
        <div className="p-6 md:p-8 border-b border-gray-200">
          {detailTable}
        </div>
        
        {/* ì¶”ê°€ ì„¹ì…˜ë“¤ */}
        {additionalSections?.map((section, idx) => (
          <div key={idx} className="p-6 md:p-8 border-b border-gray-200">
            {section}
          </div>
        ))}
        
        {/* ì•¡ì…˜ ë²„íŠ¼ ì„¹ì…˜ */}
        <div className="p-6 md:p-8 bg-gray-50">
          {actions}
        </div>
      </div>
    </section>
  );
}
```

### Phase 6: í˜ì´ì§€ ë¦¬íŒ©í† ë§

**ëŒ€ìƒ íŒŒì¼ë“¤**:

- `app/(student)/contents/master-books/[id]/page.tsx`
- `app/(student)/contents/master-lectures/[id]/page.tsx`
- `app/(student)/contents/master-custom-contents/[id]/page.tsx`
- `app/(admin)/admin/master-books/[id]/page.tsx`
- `app/(admin)/admin/master-lectures/[id]/page.tsx`
- `app/(admin)/admin/master-custom-contents/[id]/page.tsx`

**ë³€ê²½ ì‚¬í•­**:

1. `ContentDetailLayout` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©
2. ì„¹ì…˜ë³„ ë°ì´í„° ê·¸ë£¹í™”
3. ì¼ê´€ëœ ì•¡ì…˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼

**ì˜ˆì‹œ**:

```tsx
return (
  <ContentDetailLayout
    header={
      <ContentHeader
        title={book.title}
        subtitle={book.publisher || ""}
        icon="ğŸ“š êµì¬"
        createdAt={book.created_at}
        coverImageUrl={book.cover_image_url}
      />
    }
    detailTable={
      <ContentDetailTable
        sections={[
          {
            title: "ê¸°ë³¸ ì •ë³´",
            rows: [
              { label: "ê°œì •êµìœ¡ê³¼ì •", value: book.revision },
              { label: "êµê³¼", value: book.subject_category },
              // ...
            ],
          },
          {
            title: "ìƒì„¸ ì •ë³´",
            rows: [
              { label: "ì´ í˜ì´ì§€", value: book.total_pages },
              // ...
            ],
          },
        ]}
      />
    }
    additionalSections={[
      details.length > 0 && <BookDetailsDisplay details={details} />,
    ]}
    actions={
      <div className="flex flex-col gap-3 sm:flex-row">
        <Link href="/contents/master-books">ëª©ë¡ìœ¼ë¡œ</Link>
        <CopyMasterBookButton masterBookId={id} />
      </div>
    }
  />
);
```

## 4. ìµœì í™” ì‘ì—…

### 4.1 ì„±ëŠ¥ ìµœì í™”

- ì´ë¯¸ì§€ lazy loading: `loading="lazy"` (above-the-fold ì œì™¸)
- ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…: ë™ì  import í™œìš©
- ë©”ëª¨ì´ì œì´ì…˜: `useMemo`ë¡œ ëª©ì°¨ ê·¸ë£¹í™” ìµœì í™”

### 4.2 ì ‘ê·¼ì„± ê°œì„ 

- ARIA ì†ì„± ì¶”ê°€: `aria-label`, `aria-expanded`, `aria-controls`
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜: Tab ìˆœì„œ, Enter/Space í‚¤ ì§€ì›
- í¬ì»¤ìŠ¤ ê´€ë¦¬: í¬ì»¤ìŠ¤ íŠ¸ë©, í¬ì»¤ìŠ¤ ìŠ¤íƒ€ì¼

### 4.3 íƒ€ì… ì•ˆì „ì„±

- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ëª…ì‹œì  íƒ€ì… ì •ì˜
- `null` ì²´í¬ ê°•í™” (Supabase ì‘ë‹µ ì²˜ë¦¬)
- ì œë„¤ë¦­ íƒ€ì… í™œìš© (ì¬ì‚¬ìš©ì„± í–¥ìƒ)

## 5. í…ŒìŠ¤íŠ¸ ê³„íš

### 5.1 ë°˜ì‘í˜• í…ŒìŠ¤íŠ¸

- ëª¨ë°”ì¼ (375px, 414px)
- íƒœë¸”ë¦¿ (768px, 1024px)
- ë°ìŠ¤í¬í†± (1280px, 1920px)

### 5.2 ì ‘ê·¼ì„± í…ŒìŠ¤íŠ¸

- ìŠ¤í¬ë¦° ë¦¬ë” í…ŒìŠ¤íŠ¸ (NVDA, JAWS)
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ í…ŒìŠ¤íŠ¸
- ìƒ‰ìƒ ëŒ€ë¹„ ê²€ì¦ (WCAG AA ê¸°ì¤€)

### 5.3 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

- Lighthouse ì ìˆ˜ ì¸¡ì •
- ì´ë¯¸ì§€ ë¡œë”© ì‹œê°„ ì¸¡ì •
- ë²ˆë“¤ í¬ê¸° ë¶„ì„

## 6. ë¬¸ì„œí™”

### 6.1 ì‘ì—… ë¬¸ì„œ ì‘ì„±

- `docs/content-detail-ui-improvement.md` ìƒì„±
- ë³€ê²½ ì‚¬í•­, ê°œì„  í¬ì¸íŠ¸, ì‚¬ìš© ê°€ì´ë“œ ê¸°ë¡

### 6.2 ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œ

- ê° ì»´í¬ë„ŒíŠ¸ì— JSDoc ì£¼ì„ ì¶”ê°€
- Props íƒ€ì… ë° ì‚¬ìš© ì˜ˆì‹œ ë¬¸ì„œí™”

## 7. êµ¬í˜„ ìˆœì„œ

1. **Phase 1**: ContentHeader ê°œì„  (ê¸°ë°˜ ì‘ì—…)
2. **Phase 2**: ContentDetailTable ê°œì„  (ë°ì´í„° í‘œì‹œ)
3. **Phase 3**: BookDetailsDisplay ê°œì„  (ì¸í„°ë™í‹°ë¸Œ ìš”ì†Œ)
4. **Phase 4**: LectureEpisodesDisplay ê°œì„  (ë°˜ì‘í˜•)
5. **Phase 5**: ContentDetailLayout ìƒì„± (í†µí•©)
6. **Phase 6**: í˜ì´ì§€ ë¦¬íŒ©í† ë§ (ì ìš©)
7. **í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™”**: ìµœì¢… ê²€ì¦ ë° ë¬¸ì„œ ì‘ì„±

## 8. ì˜ˆìƒ íš¨ê³¼

### 8.1 ì½”ë“œ í’ˆì§ˆ

- ì¤‘ë³µ ì½”ë“œ 60% ì´ìƒ ê°ì†Œ
- ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„± í–¥ìƒ
- ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ 

### 8.2 ì‚¬ìš©ì ê²½í—˜

- ëª¨ë°”ì¼ ì‚¬ìš©ì„± í–¥ìƒ
- ì ‘ê·¼ì„± ì ìˆ˜ 20% ì´ìƒ ê°œì„ 
- ë¡œë”© ì„±ëŠ¥ 15% ì´ìƒ ê°œì„ 

### 8.3 ê°œë°œ íš¨ìœ¨

- ìƒˆ í˜ì´ì§€ ì¶”ê°€ ì‹œê°„ 50% ë‹¨ì¶•
- ë²„ê·¸ ìˆ˜ì • ì‹œê°„ 30% ë‹¨ì¶•