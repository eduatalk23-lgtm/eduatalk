# μΊ ν”„ ν…ν”λ¦Ώ λΈ”λ΅ μ„ΈνΈ κ²€μ¦ λ΅μ§ μμ •

## π” λ¬Έμ  μƒν™©

ν•™μƒ νμ΄μ§€μ μΊ ν”„ ν…ν”λ¦Ώ μ‘μ„± νμ΄μ§€μ—μ„ "ν…ν”λ¦Ώμ— λΈ”λ΅ μ„ΈνΈκ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤." μ¤λ¥ λ©”μ‹μ§€κ°€ μλ» ν‘μ‹λλ” λ¬Έμ κ°€ μμ—μµλ‹λ‹¤.

### μ›μΈ λ¶„μ„

1. **μ¤λλ κ²€μ¦ λ΅μ§ μ‚¬μ©**
   - `templateData.block_set_id`λ¥Ό μ§μ ‘ ν™•μΈν•λ” κ²€μ¦ λ΅μ§μ΄ μμ—μ
   - λΈ”λ΅μ„ΈνΈ λ΅μ§μ΄ μµκ·Όμ— λ³€κ²½λμ–΄ `camp_template_block_sets` μ—°κ²° ν…μ΄λΈ”μ„ ν†µν•΄ μ΅°νν•λ„λ΅ λ³€κ²½λ¨

2. **κ²€μ¦ μ‹μ  λ¬Έμ **
   - λΈ”λ΅μ„ΈνΈ μ΅°ν μ „μ— κ²€μ¦μ„ μν–‰ν•μ—¬, μƒλ΅μ΄ λ°©μ‹μΌλ΅ λΈ”λ΅μ„ΈνΈκ°€ μ„¤μ •λμ–΄ μμ–΄λ„ μ¤λ¥κ°€ λ°μƒν•¨
   - μ‹¤μ λ΅λ” `camp_template_block_sets` ν…μ΄λΈ”μ—μ„ λΈ”λ΅μ„ΈνΈκ°€ μ •μƒμ μΌλ΅ μ΅°νλκ³  μμ—μ

## π›  ν•΄κ²° λ°©λ²•

### μμ • λ‚΄μ©

**νμΌ**: `app/(student)/camp/[invitationId]/page.tsx`

#### 1. μ¤λλ κ²€μ¦ λ΅μ§ μ κ±°

**λ³€κ²½ μ „**:
```typescript
// ν…ν”λ¦Ώ λ°μ΄ν„° ν•„μ ν•„λ“ κ²€μ¦
const validationErrors: string[] = [];
if (!templateData.period_start || !templateData.period_end) {
  validationErrors.push("ν…ν”λ¦Ώμ— ν•™μµ κΈ°κ°„μ΄ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
}
if (!templateData.block_set_id) {
  validationErrors.push("ν…ν”λ¦Ώμ— λΈ”λ΅ μ„ΈνΈκ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
}
if (!templateData.scheduler_type) {
  validationErrors.push("ν…ν”λ¦Ώμ— μ¤μΌ€μ¤„λ¬ μ ν•μ΄ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
}
```

**λ³€κ²½ ν›„**:
```typescript
// ν…ν”λ¦Ώ λ°μ΄ν„° ν•„μ ν•„λ“ κ²€μ¦
const validationErrors: string[] = [];
if (!templateData.period_start || !templateData.period_end) {
  validationErrors.push("ν…ν”λ¦Ώμ— ν•™μµ κΈ°κ°„μ΄ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
}
// block_set_id κ²€μ¦μ€ λΈ”λ΅μ„ΈνΈ μ΅°ν ν›„μ— μν–‰ (μƒλ΅μ΄ μ—°κ²° ν…μ΄λΈ” λ°©μ‹)
if (!templateData.scheduler_type) {
  validationErrors.push("ν…ν”λ¦Ώμ— μ¤μΌ€μ¤„λ¬ μ ν•μ΄ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
}
```

#### 2. λΈ”λ΅μ„ΈνΈ μ΅°ν μ™„λ£ ν›„ κ²€μ¦ μν–‰

λΈ”λ΅μ„ΈνΈ μ΅°ν λ΅μ§μ΄ μ™„λ£λ ν›„(μƒλ΅μ΄ μ—°κ²° ν…μ΄λΈ” λ°©μ‹ λ° ν•μ„ νΈν™μ„± λ°©μ‹ λ¨λ‘ ν™•μΈ ν›„)μ— κ²€μ¦μ„ μν–‰ν•λ„λ΅ λ³€κ²½:

```typescript
// λΈ”λ΅μ„ΈνΈ μ΅°ν μ™„λ£ ν›„ κ²€μ¦ (μƒλ΅μ΄ μ—°κ²° ν…μ΄λΈ” λ°©μ‹ λλ” ν•μ„ νΈν™μ„± λ°©μ‹ λ¨λ‘ ν™•μΈ)
if (!templateBlockSet) {
  validationErrors.push("ν…ν”λ¦Ώμ— λΈ”λ΅ μ„ΈνΈκ°€ μ„¤μ •λμ§€ μ•μ•μµλ‹λ‹¤.");
}

// ν•™μƒ λΈ”λ΅ μ„ΈνΈμ™€ ν…ν”λ¦Ώ λΈ”λ΅ μ„ΈνΈλ¥Ό ν•©μΉ¨ (ν…ν”λ¦Ώ λΈ”λ΅ μ„ΈνΈλ¥Ό λ§¨ μ•μ—)
const blockSets = templateBlockSet
  ? [templateBlockSet, ...studentBlockSets]
  : studentBlockSets;
```

## π“ λ³€κ²½ μ‚¬ν•­ μ”μ•½

### κ²€μ¦ λ΅μ§ νλ¦„

**λ³€κ²½ μ „**:
1. `templateData.block_set_id` ν™•μΈ (μ¦‰μ‹ κ²€μ¦)
2. λΈ”λ΅μ„ΈνΈ μ΅°ν (`camp_template_block_sets` ν…μ΄λΈ”)
3. ν•μ„ νΈν™μ„± ν™•μΈ (`template_data.block_set_id`)

**λ³€κ²½ ν›„**:
1. λΈ”λ΅μ„ΈνΈ μ΅°ν (`camp_template_block_sets` ν…μ΄λΈ”)
2. ν•μ„ νΈν™μ„± ν™•μΈ (`template_data.block_set_id`)
3. `templateBlockSet` μ΅΄μ¬ μ—¬λ¶€ ν™•μΈ (μ΅°ν μ™„λ£ ν›„ κ²€μ¦)

### ν¨κ³Ό

- μƒλ΅μ΄ μ—°κ²° ν…μ΄λΈ” λ°©μ‹μΌλ΅ λΈ”λ΅μ„ΈνΈκ°€ μ„¤μ •λ κ²½μ° μ •μƒμ μΌλ΅ μ‘λ™
- ν•μ„ νΈν™μ„± λ°©μ‹(`template_data.block_set_id`)λ„ μ •μƒμ μΌλ΅ μ‘λ™
- μ‹¤μ λ΅ λΈ”λ΅μ„ΈνΈκ°€ μ—†λ” κ²½μ°μ—λ§ μ¤λ¥ λ©”μ‹μ§€ ν‘μ‹

## β… κ²€μ¦ μ™„λ£

- [x] μƒλ΅μ΄ μ—°κ²° ν…μ΄λΈ” λ°©μ‹μΌλ΅ λΈ”λ΅μ„ΈνΈκ°€ μ„¤μ •λ κ²½μ° μ¤λ¥κ°€ λ°μƒν•μ§€ μ•μ
- [x] ν•μ„ νΈν™μ„± λ°©μ‹λ„ μ •μƒμ μΌλ΅ μ‘λ™
- [x] μ‹¤μ λ΅ λΈ”λ΅μ„ΈνΈκ°€ μ—†λ” κ²½μ°μ—λ§ μ¤λ¥ λ©”μ‹μ§€ ν‘μ‹
- [x] λ¦°ν„° μ¤λ¥ μ—†μ

