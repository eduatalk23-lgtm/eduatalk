# 관리자 플랜 관리 사용자 가이드

## 개요

관리자 플랜 관리 페이지에서는 학생의 학습 플랜을 생성, 수정, 복사, 삭제할 수 있습니다.

**접근 경로**: `/admin/students/[studentId]/plans`

---

## 화면 구성

### 1. 상단 영역

- **날짜 선택**: 주간 캘린더에서 날짜 클릭으로 해당 날짜의 플랜 조회
- **빠른 추가**: 단일 플랜 빠르게 추가
- **플랜 그룹**: 플랜 그룹 생성 위자드 열기

### 2. Dock 영역

#### Daily Dock
- 선택한 날짜의 플랜 목록
- 드래그 앤 드롭으로 순서 변경 가능
- `+` 버튼으로 콘텐츠 추가

#### Weekly Dock
- 이번 주 전체에 해당하는 플랜
- 날짜 지정 없이 주 단위로 관리

#### Unfinished Dock
- 미완료된 이전 플랜들
- 다른 날짜로 이동하거나 완료 처리 가능

---

## 주요 기능

### 플랜 추가

#### 빠른 플랜 추가
1. 상단의 **빠른 추가** 버튼 클릭
2. 모달에서 필요한 정보 입력:
   - 제목 (필수)
   - 날짜 (기본값: 오늘)
   - 시작/종료 시간 (선택)
   - 예상 소요 시간
3. **추가** 버튼 클릭

#### 콘텐츠에서 플랜 생성
1. Daily Dock의 `+` 버튼 클릭
2. 콘텐츠 선택
3. 범위 설정 (페이지 또는 시간)
4. 배치 방식 선택:
   - **오늘**: Daily Dock에 단일 플랜
   - **이번 주**: Weekly Dock에 단일 플랜
   - **기간 분배**: 지정 기간에 걸쳐 분배

#### 플랜 그룹 생성
1. **플랜 그룹** 버튼 클릭
2. 위자드 단계 진행:
   - Step 1: 기본 정보 입력
   - Step 2: 콘텐츠 선택
   - Step 3: 일정 설정
   - Step 4: 미리보기 및 생성

---

### 플랜 수정

#### 단일 플랜 수정
1. 플랜 카드에서 **수정** 버튼 클릭 (또는 더보기 메뉴)
2. 수정 모달에서 변경:
   - 제목
   - 날짜
   - 시간
   - 범위 (시작/종료 페이지)
   - 예상 소요 시간
   - 상태
   - 컨테이너 타입
3. **저장** 버튼 클릭

#### 일괄 수정
1. 여러 플랜 선택 (체크박스)
2. **일괄 수정** 버튼 클릭
3. 공통으로 변경할 필드 선택 및 값 입력
4. **적용** 버튼 클릭

---

### 플랜 복사

1. 플랜 카드의 더보기 메뉴에서 **복사** 선택
2. 복사 모달에서 설정:
   - **대상 날짜**: 복사할 날짜들 선택 (다중 선택 가능)
   - **대상 학생**: 다른 학생에게 복사 (선택적)
3. **복사** 버튼 클릭

> 복사 개수 = 선택한 플랜 수 × 대상 날짜 수 × 대상 학생 수

---

### 그룹 이동

1. 플랜 카드의 더보기 메뉴에서 **그룹 이동** 선택
2. 이동 모달에서 대상 그룹 선택:
   - 기존 그룹 중 선택
   - **그룹에서 제거** 선택 시 독립 플랜으로 변경
3. **이동** 버튼 클릭

---

### 상태 변경

#### 개별 상태 변경
1. 플랜 카드의 상태 뱃지 클릭
2. 변경할 상태 선택:
   - `대기중` (pending)
   - `진행 중` (in_progress)
   - `완료` (completed)
   - `건너뜀` (skipped)
   - `취소됨` (cancelled)

#### 빠른 완료
- 플랜 카드의 체크박스 클릭으로 완료/미완료 토글

---

### 플랜 삭제

#### 개별 삭제
1. 플랜 카드의 더보기 메뉴에서 **삭제** 선택
2. 확인 모달에서 **삭제** 클릭

#### 조건부 삭제
1. 더보기 메뉴에서 **조건부 삭제** 선택
2. 삭제 조건 설정:
   - 날짜 범위
   - 상태 조건
   - 그룹 필터
3. 미리보기에서 삭제될 플랜 확인
4. **삭제 실행** 클릭

#### 삭제된 플랜 복구
1. 하단의 **삭제된 플랜** 섹션 확인
2. 복구할 플랜 선택
3. **복구** 버튼 클릭

---

## 키보드 단축키

| 단축키 | 기능 |
|--------|------|
| `Escape` | 열린 모달 닫기 |
| `Shift + ?` | 단축키 도움말 표시 |
| `←` / `→` | 이전/다음 날짜로 이동 |
| `t` | 오늘 날짜로 이동 |

---

## 드래그 앤 드롭

### 순서 변경
- 같은 Dock 내에서 플랜 카드를 드래그하여 순서 변경

### 컨테이너 이동
- 플랜 카드를 다른 Dock으로 드래그:
  - Daily → Weekly: 주간 플랜으로 변경
  - Weekly → Daily: 일간 플랜으로 변경 (날짜 지정 필요)
  - Unfinished → Daily: 미완료 플랜을 특정 날짜로 이동

---

## 실시간 동기화

- 다른 기기나 사용자가 변경한 내용이 자동으로 반영됩니다
- 네트워크 연결이 끊어진 경우 재연결 시 자동 동기화

---

## 주의사항

1. **삭제된 플랜 복구 기간**: 삭제 후 30일 이내에만 복구 가능
2. **다른 학생에게 복사 시**: 플랜 그룹 연결이 해제됩니다
3. **상태 변경 로깅**: 모든 상태 변경은 이력으로 기록됩니다
4. **권한 확인**: 관리자 또는 상담사 권한이 필요합니다

---

## 문제 해결

### 플랜이 표시되지 않는 경우
1. 날짜 선택 확인
2. 페이지 새로고침 (F5)
3. 필터 설정 확인

### 수정이 저장되지 않는 경우
1. 필수 필드 입력 확인
2. 네트워크 연결 상태 확인
3. 권한 확인

### 드래그 앤 드롭이 작동하지 않는 경우
1. 브라우저 호환성 확인 (Chrome, Firefox, Safari 권장)
2. 페이지 새로고침

---

**최종 업데이트**: 2026-01-05
