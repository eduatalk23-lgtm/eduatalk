# ë‚´ì‹  ì„±ì  ìž…ë ¥ íŽ˜ì´ì§€ ìž¬ì„¤ê³„ ìš”êµ¬ì‚¬í•­

## ðŸ“‹ ê°œìš”

í˜„ìž¬ `/scores/school/[grade]/[semester]/[subject-group]` êµ¬ì¡°ë¥¼ `/scores/school/[grade]/[semester]` êµ¬ì¡°ë¡œ ë³€ê²½í•˜ì—¬, í•™ê¸°ë³„ë¡œ í•œ íŽ˜ì´ì§€ì—ì„œ ëª¨ë“  êµê³¼ë¥¼ í‘œ í˜•ì‹ìœ¼ë¡œ ìž…ë ¥í•  ìˆ˜ ìžˆë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.

---

## ðŸŽ¯ í•µì‹¬ ë³€ê²½ì‚¬í•­

### 1. URL êµ¬ì¡° ë³€ê²½

**í˜„ìž¬ êµ¬ì¡°:**
```
/scores/school/1/1/êµ­ì–´  â†’ 1í•™ë…„ 1í•™ê¸° êµ­ì–´ íƒ­
/scores/school/1/1/ìˆ˜í•™  â†’ 1í•™ë…„ 1í•™ê¸° ìˆ˜í•™ íƒ­
/scores/school/1/1/ì˜ì–´  â†’ 1í•™ë…„ 1í•™ê¸° ì˜ì–´ íƒ­
```

**ìƒˆë¡œìš´ êµ¬ì¡°:**
```
/scores/school/1/1  â†’ 1í•™ë…„ 1í•™ê¸° (ëª¨ë“  êµê³¼ë¥¼ í•œ íŽ˜ì´ì§€ì—ì„œ ìž…ë ¥)
/scores/school/1/2  â†’ 1í•™ë…„ 2í•™ê¸° (ëª¨ë“  êµê³¼ë¥¼ í•œ íŽ˜ì´ì§€ì—ì„œ ìž…ë ¥)
```

### 2. UI/UX ë³€ê²½

#### í˜„ìž¬ ë°©ì‹ (âŒ ì œê±°)
- í•™ê¸°ë³„ í•˜ë‹¨ì— **íƒ­ìœ¼ë¡œ êµê³¼ ì„ íƒ**
- êµê³¼ë³„ë¡œ ê°œë³„ íŽ˜ì´ì§€ì—ì„œ ì„±ì  ìž…ë ¥
- í•œ ë²ˆì— í•˜ë‚˜ì˜ ê³¼ëª©ë§Œ ìž…ë ¥

#### ìƒˆë¡œìš´ ë°©ì‹ (âœ… êµ¬í˜„)
- í•™ê¸°ë³„ íŽ˜ì´ì§€ì—ì„œ **í‘œ í˜•ì‹ìœ¼ë¡œ ëª¨ë“  êµê³¼ ìž…ë ¥**
- ê° êµê³¼ê°€ **í–‰(Row)ìœ¼ë¡œ í‘œì‹œ**
- í•œ íŽ˜ì´ì§€ì—ì„œ ì—¬ëŸ¬ êµê³¼ ë™ì‹œ ìž…ë ¥/ìˆ˜ì • ê°€ëŠ¥

---

## ðŸ“Š ìž…ë ¥ í•„ë“œ ì •ì˜

### í•„ìˆ˜ ìž…ë ¥ í•„ë“œ

| í•„ë“œëª… | ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ | íƒ€ìž… | ì„¤ëª… |
|--------|------------------|------|------|
| ê³¼ëª© ìœ í˜• | `subject_type` | Select | ê³µí†µ, ì¼ë°˜ì„ íƒ, ì§„ë¡œì„ íƒ |
| êµê³¼ | `subject_group` | Select | êµ­ì–´, ìˆ˜í•™, ì˜ì–´, í•œêµ­ì‚¬(ì—­ì‚¬/ë„ë• í¬í•¨), ê³¼í•™ ë“± |
| ê³¼ëª© | `subject_name` | Select | êµê³¼ì— ì†í•œ ì„¸ë¶€ ê³¼ëª© (ì˜ˆ: ìˆ˜í•™â… , ìˆ˜í•™â…¡) |
| í•™ì ìˆ˜ | `credit_hours` | Number | ìˆ«ìž (0.5 ë‹¨ìœ„) |
| ì›ì ìˆ˜ | `raw_score` | Number | ìˆ«ìž |
| ì„±ì·¨ë„ | `grade_score` | Number | 1~9 ë“±ê¸‰ (ì‚¬ìš©ìž ìš”ì²­: ì•ŒíŒŒë²³ í‘œì‹œ, ì €ìž¥: ìˆ«ìž) |

### ì„ íƒ ìž…ë ¥ í•„ë“œ

| í•„ë“œëª… | ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ | íƒ€ìž… | ì„¤ëª… |
|--------|------------------|------|------|
| ê³¼ëª©í‰ê·  | `subject_average` | Number | ìˆ«ìž |
| í‘œì¤€íŽ¸ì°¨ | `standard_deviation` | Number | ìˆ«ìž |
| ìˆ˜ê°•ìžìˆ˜ | `total_students` | Integer | ìˆ«ìž |
| ì„ì°¨ë“±ê¸‰ | `rank_grade` | Number | 1~9 ë“±ê¸‰ |

### ì œê±°í•  í•„ë“œ

| í•„ë“œëª… | ë°ì´í„°ë² ì´ìŠ¤ ì»¬ëŸ¼ | ì œê±° ì´ìœ  |
|--------|------------------|-----------|
| ë°˜ ì„ì°¨ | `class_rank` | ë¶ˆí•„ìš” |
| ì‹œí—˜ì¼ | `test_date` | ë¶ˆí•„ìš” |

---

## ðŸ— êµê³¼/ê³¼ëª© ê´€ë¦¬ ì‹œìŠ¤í…œ

### ê¸°ë³¸ êµê³¼ ëª©ë¡

ë‹¤ìŒ êµê³¼ê°€ ê¸°ë³¸ìœ¼ë¡œ ì œê³µë˜ë©°, ì¶”ê°€ ê°€ëŠ¥í•´ì•¼ í•©ë‹ˆë‹¤:

1. **êµ­ì–´**
2. **ìˆ˜í•™**
3. **ì˜ì–´**
4. **í•œêµ­ì‚¬** (ì—­ì‚¬/ë„ë• í¬í•¨)
5. **ê³¼í•™**

### ê³„ì¸µ êµ¬ì¡°

```
êµê³¼ (Subject Group)
  â””â”€ ê³¼ëª© (Subject Name)
     â””â”€ ì˜ˆì‹œ: êµ­ì–´ â†’ êµ­ì–´â… , êµ­ì–´â…¡, ë¬¸í•™ ë“±
     â””â”€ ì˜ˆì‹œ: ìˆ˜í•™ â†’ ìˆ˜í•™â… , ìˆ˜í•™â…¡, í™•ë¥ ê³¼í†µê³„ ë“±
```

### ê´€ë¦¬ìž ê¸°ëŠ¥

- **êµê³¼ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ**: ê´€ë¦¬ìžê°€ êµê³¼ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìžˆì–´ì•¼ í•¨
- **ê³¼ëª© ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ**: ê´€ë¦¬ìžê°€ ê° êµê³¼ì— ì†í•œ ê³¼ëª©ì„ ê´€ë¦¬í•  ìˆ˜ ìžˆì–´ì•¼ í•¨
- **ê³„ì¸µ ê´€ê³„ ìœ ì§€**: êµê³¼-ê³¼ëª© ê°„ ë¶€ëª¨-ìžì‹ ê´€ê³„ê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ìž¥ë¨

---

## ðŸ“ í‘œ í˜•ì‹ ë””ìžì¸

### í…Œì´ë¸” êµ¬ì¡° (ì•ˆ)

| ê³¼ëª© ìœ í˜• | êµê³¼ | ê³¼ëª© | í•™ì ìˆ˜ | ì›ì ìˆ˜ | ê³¼ëª©í‰ê·  | í‘œì¤€íŽ¸ì°¨ | ì„±ì·¨ë„ | ìˆ˜ê°•ìžìˆ˜ | ì„ì°¨ë“±ê¸‰ | ì•¡ì…˜ |
|----------|------|------|--------|--------|----------|----------|--------|----------|----------|------|
| [Select] | [Select] | [Select] | [Input] | [Input] | [Input] | [Input] | [Input] | [Input] | [Input] | [ì €ìž¥] |
| [Select] | [Select] | [Select] | [Input] | [Input] | [Input] | [Input] | [Input] | [Input] | [Input] | [ì €ìž¥] |
| ...      | ...  | ...  | ...    | ...    | ...      | ...      | ...    | ...      | ...      | ...  |

**íŠ¹ì§•:**
- ê° í–‰ë§ˆë‹¤ **ì €ìž¥ ë²„íŠ¼** ë˜ëŠ” **í–‰ ì¶”ê°€ ë²„íŠ¼**
- êµê³¼ ì„ íƒ ì‹œ í•´ë‹¹ êµê³¼ì˜ ê³¼ëª© ëª©ë¡ì´ ìžë™ìœ¼ë¡œ í•„í„°ë§
- ë¹ˆ í–‰ì„ ì¶”ê°€í•˜ì—¬ ìƒˆ ì„±ì  ìž…ë ¥ ê°€ëŠ¥
- ê¸°ì¡´ ì„±ì ì€ í‘œì— ë¯¸ë¦¬ ë¡œë“œë˜ì–´ ìˆ˜ì • ê°€ëŠ¥

### í…Œì´ë¸” êµ¬ì¡° (ëŒ€ì•ˆ)

ê° êµê³¼ë³„ë¡œ **ì„¹ì…˜/ì¹´ë“œ í˜•ì‹**ìœ¼ë¡œ í‘œì‹œ:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ êµ­ì–´                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [í‘œ: í•´ë‹¹ êµê³¼ì˜ ê³¼ëª©ë“¤ë§Œ í‘œì‹œ]      â”‚
â”‚ [ê³¼ëª© ì¶”ê°€] ë²„íŠ¼                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ìˆ˜í•™                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [í‘œ: í•´ë‹¹ êµê³¼ì˜ ê³¼ëª©ë“¤ë§Œ í‘œì‹œ]      â”‚
â”‚ [ê³¼ëª© ì¶”ê°€] ë²„íŠ¼                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**íŠ¹ì§•:**
- êµê³¼ë³„ë¡œ ê·¸ë£¹í™”ëœ ì¹´ë“œ/ì„¹ì…˜
- ê° êµê³¼ ë‚´ì—ì„œ ê³¼ëª©ë³„ë¡œ í–‰ ì¶”ê°€
- ë” êµ¬ì¡°í™”ëœ UI

---

## ðŸ—„ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½ì‚¬í•­

### í˜„ìž¬ ìŠ¤í‚¤ë§ˆ (student_school_scores)

```sql
CREATE TABLE student_school_scores (
  id uuid PRIMARY KEY,
  student_id uuid NOT NULL,
  tenant_id uuid NOT NULL,
  grade integer NOT NULL CHECK (grade >= 1 AND grade <= 3),
  semester integer NOT NULL CHECK (semester IN (1, 2)),
  subject_group text NOT NULL,
  subject_type text NOT NULL,
  subject_name text NOT NULL,
  credit_hours numeric,
  raw_score numeric,
  subject_average numeric,
  standard_deviation numeric,
  grade_score integer CHECK (grade_score >= 1 AND grade_score <= 9),
  total_students integer,
  rank_grade integer CHECK (rank_grade >= 1 AND rank_grade <= 9),
  class_rank integer,  -- âŒ ì œê±° ì˜ˆì •
  test_date date,      -- âŒ ì œê±° ì˜ˆì •
  created_at timestamp with time zone DEFAULT now() NOT NULL
);
```

### í•„ìš”í•œ ë³€ê²½ì‚¬í•­

1. **ì œê±°í•  ì»¬ëŸ¼**: `class_rank`, `test_date`
2. **êµê³¼/ê³¼ëª© ê´€ë¦¬ í…Œì´ë¸” ì¶”ê°€** (í•„ìš” ì‹œ):
   ```sql
   CREATE TABLE subject_groups (
     id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
     tenant_id uuid NOT NULL,
     name text NOT NULL,  -- êµê³¼ëª… (ì˜ˆ: êµ­ì–´, ìˆ˜í•™)
     created_at timestamp with time zone DEFAULT now() NOT NULL
   );

   CREATE TABLE subjects (
     id uuid PRIMARY KEY DEFAULT gen_random_uuid(),
     tenant_id uuid NOT NULL,
     subject_group_id uuid NOT NULL REFERENCES subject_groups(id),
     name text NOT NULL,  -- ê³¼ëª©ëª… (ì˜ˆ: ìˆ˜í•™â… , ìˆ˜í•™â…¡)
     created_at timestamp with time zone DEFAULT now() NOT NULL
   );
   ```

---

## ðŸ”„ ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš

### ê¸°ì¡´ ë°ì´í„° ì²˜ë¦¬

1. **ê¸°ì¡´ ì„±ì  ë°ì´í„° ìœ ì§€**: ê¸°ì¡´ `student_school_scores` ë°ì´í„°ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€
2. **ì œê±° í•„ë“œ ì²˜ë¦¬**: 
   - `class_rank`, `test_date` ì»¬ëŸ¼ ì œê±° ì‹œ ê¸°ì¡´ ë°ì´í„°ëŠ” NULL ì²˜ë¦¬ í›„ ì œê±°
   - ë˜ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ ë‹¨ê³„ì—ì„œ ë°ì´í„° ë°±ì—…

---

## ðŸŽ¨ UI ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### ìƒˆ íŽ˜ì´ì§€ êµ¬ì¡°

```
app/(student)/scores/school/[grade]/[semester]/
â”œâ”€â”€ page.tsx                    # ë©”ì¸ íŽ˜ì´ì§€ (í‘œ í˜•ì‹)
â””â”€â”€ _components/
    â”œâ”€â”€ SchoolScoreTable.tsx    # ì„±ì  ìž…ë ¥ í…Œì´ë¸”
    â”œâ”€â”€ SchoolScoreRow.tsx      # í…Œì´ë¸” í–‰ ì»´í¬ë„ŒíŠ¸
    â”œâ”€â”€ SubjectSelect.tsx       # êµê³¼ ì„ íƒ ë“œë¡­ë‹¤ìš´
    â”œâ”€â”€ SubjectNameSelect.tsx   # ê³¼ëª© ì„ íƒ ë“œë¡­ë‹¤ìš´ (êµê³¼ì— ë”°ë¼ í•„í„°ë§)
    â””â”€â”€ GradeTabs.tsx           # í•™ë…„ íƒ­ (ê¸°ì¡´ ìœ ì§€)
    â””â”€â”€ SemesterTabs.tsx        # í•™ê¸° íƒ­ (ê¸°ì¡´ ìœ ì§€)
```

### ê´€ë¦¬ìž íŽ˜ì´ì§€ (ì¶”ê°€ í•„ìš”)

```
app/(admin)/admin/
â””â”€â”€ subjects/
    â”œâ”€â”€ page.tsx                # êµê³¼/ê³¼ëª© ê´€ë¦¬ íŽ˜ì´ì§€
    â””â”€â”€ _components/
        â”œâ”€â”€ SubjectGroupForm.tsx  # êµê³¼ ì¶”ê°€/ìˆ˜ì • í¼
        â””â”€â”€ SubjectForm.tsx       # ê³¼ëª© ì¶”ê°€/ìˆ˜ì • í¼
```

---

## âœ… êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1: ë°ì´í„°ë² ì´ìŠ¤ ì¤€ë¹„
- [ ] `class_rank`, `test_date` ì»¬ëŸ¼ ì œê±° ë§ˆì´ê·¸ë ˆì´ì…˜
- [ ] êµê³¼/ê³¼ëª© ê´€ë¦¬ í…Œì´ë¸” ìƒì„± (ë˜ëŠ” ê¸°ì¡´ í…Œì´ë¸” í™œìš©)
- [ ] ê¸°ë³¸ êµê³¼ ë°ì´í„° ì‹œë“œ(Seed)

### Phase 2: ê´€ë¦¬ìž ê¸°ëŠ¥
- [ ] ê´€ë¦¬ìž êµê³¼ ê´€ë¦¬ íŽ˜ì´ì§€
- [ ] ê´€ë¦¬ìž ê³¼ëª© ê´€ë¦¬ íŽ˜ì´ì§€
- [ ] êµê³¼-ê³¼ëª© ê³„ì¸µ ê´€ê³„ UI

### Phase 3: í•™ìƒ ìž…ë ¥ íŽ˜ì´ì§€ ìž¬êµ¬ì„±
- [ ] `/scores/school/[grade]/[semester]` íŽ˜ì´ì§€ ìƒì„±
- [ ] í‘œ í˜•ì‹ UI êµ¬í˜„
- [ ] í–‰ ë‹¨ìœ„ ì¶”ê°€/ìˆ˜ì •/ì‚­ì œ ê¸°ëŠ¥
- [ ] êµê³¼ ì„ íƒ ì‹œ ê³¼ëª© í•„í„°ë§
- [ ] ê¸°ì¡´ ì„±ì  ë°ì´í„° ë¡œë“œ ë° í‘œì‹œ

### Phase 4: ê¸°ì¡´ íŽ˜ì´ì§€ ì œê±°/ë¦¬ë‹¤ì´ë ‰íŠ¸
- [ ] ê¸°ì¡´ `/scores/school/[grade]/[semester]/[subject-group]` íŽ˜ì´ì§€ ì œê±°
- [ ] ê¸°ì¡´ URL ë¦¬ë‹¤ì´ë ‰íŠ¸ ì²˜ë¦¬

### Phase 5: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
- [ ] í‘œ ìž…ë ¥ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ë°ì´í„° ì €ìž¥/ìˆ˜ì •/ì‚­ì œ í…ŒìŠ¤íŠ¸
- [ ] êµê³¼/ê³¼ëª© ê´€ë¦¬ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ë°˜ì‘í˜• ë””ìžì¸ ê²€ì¦

---

## ðŸ” í™•ì¸ í•„ìš” ì‚¬í•­

1. **ì„±ì·¨ë„ í•„ë“œ**: ì‚¬ìš©ìžëŠ” "ì•ŒíŒŒë²³"ì´ë¼ê³  ì–¸ê¸‰í–ˆìœ¼ë‚˜, í˜„ìž¬ DBëŠ” 1~9 ìˆ«ìžìž…ë‹ˆë‹¤. 
   - UIì—ì„œ ì•ŒíŒŒë²³ìœ¼ë¡œ í‘œì‹œí•˜ë˜ ì €ìž¥ì€ ìˆ«ìžë¡œ í• ì§€?
   - ë˜ëŠ” DB êµ¬ì¡° ìžì²´ë¥¼ ë³€ê²½í• ì§€?

2. **í•œêµ­ì‚¬ í¬í•¨ ë²”ìœ„**: "í•œêµ­ì‚¬(ì—­ì‚¬/ë„ë• í¬í•¨)" - ì´ê²ƒì´ í•˜ë‚˜ì˜ êµê³¼ì¸ì§€, ì•„ë‹ˆë©´ ë³„ë„ êµê³¼ì¸ì§€?
   - í•œêµ­ì‚¬, ì—­ì‚¬, ë„ë•ì„ ê°ê° ë³„ë„ êµê³¼ë¡œ í• ì§€?
   - ì•„ë‹ˆë©´ "ì‚¬íšŒ" êµê³¼ ì•„ëž˜ì— í•œêµ­ì‚¬, ì—­ì‚¬, ë„ë•ì„ ê³¼ëª©ìœ¼ë¡œ ë‘˜ì§€?

3. **ê¸°ì¡´ ë°ì´í„° ë³´ì¡´**: ê¸°ì¡´ì— ìž…ë ¥ëœ ì„±ì  ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ í‘œì‹œí• ì§€?
   - í‘œì— ê¸°ì¡´ ë°ì´í„° ìžë™ ë¡œë“œ?
   - ë³„ë„ ì¡°íšŒ íŽ˜ì´ì§€ í•„ìš”?

---

## ðŸ“ ì°¸ê³ ì‚¬í•­

- **Spacing-First ì •ì±… ì¤€ìˆ˜**: Tailwind CSSì˜ `gap` ì‚¬ìš©, `margin` ê¸ˆì§€
- **SOLID ì›ì¹™ ì¤€ìˆ˜**: ì»´í¬ë„ŒíŠ¸ ì—­í•  ë¶„ë¦¬
- **íƒ€ìž… ì•ˆì „ì„±**: TypeScript íƒ€ìž… ì •ì˜ í•„ìˆ˜
- **ì ‘ê·¼ì„±**: ARIA ì†ì„± í¬í•¨
- **ë°˜ì‘í˜• ë””ìžì¸**: ëª¨ë°”ì¼ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡

---

**ë¬¸ì„œ ìž‘ì„±ì¼**: 2025-01-13
**ìž‘ì„±ìž**: AI Assistant
**ê²€í†  í•„ìš”**: ì„±ì·¨ë„ í•„ë“œ í˜•ì‹, í•œêµ­ì‚¬ í¬í•¨ ë²”ìœ„, ê¸°ì¡´ ë°ì´í„° ì²˜ë¦¬ ë°©ì‹

