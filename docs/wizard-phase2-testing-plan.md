# 🧪 Wizard Phase 2 테스트 계획

**작성일**: 2025년 11월 29일  
**대상**: Step2TimeSettingsWithPreview 통합 테스트  
**예상 시간**: 4-5시간

---

## 🎯 테스트 목표

### 주요 검증 항목

1. ✅ **모든 모드에서 정상 작동**
   - 템플릿 모드
   - 캠프 모드
   - 일반 플랜 모드
   - 관리자 계속 모드

2. ✅ **실시간 미리보기 작동**
   - Debounce 500ms
   - 스케줄 캐싱
   - 요약 통계 표시
   - 주차별 스케줄 표시

3. ✅ **모든 패널 기능**
   - ExclusionsPanel
   - AcademySchedulePanel
   - TimeConfigPanel
   - NonStudyTimeBlocksPanel

4. ✅ **반응형 디자인**
   - 모바일 (< 768px)
   - 태블릿 (768px - 1024px)
   - 데스크톱 (> 1024px)

5. ✅ **성능**
   - Debounce 작동
   - 캐시 작동
   - 리렌더링 최소화

---

## 📋 테스트 체크리스트

### 1. 일반 플랜 모드 (학생)

#### Step 1 → Step 2 진입

- [ ] Step 1에서 기본 정보 입력
  - [ ] 플랜 이름
  - [ ] 목적 (내신대비/모의고사)
  - [ ] 기간 설정
  - [ ] 블록 세트 선택
- [ ] "다음" 클릭
- [ ] Step 2로 정상 진입
- [ ] 좌우 분할 레이아웃 확인

#### ExclusionsPanel 테스트

- [ ] 제외일 추가 (단일)
  - [ ] 날짜 선택
  - [ ] 타입 선택 (휴가/개인사정/휴일지정/기타)
  - [ ] 사유 입력
  - [ ] 추가 버튼 클릭
- [ ] 제외일 추가 (범위)
  - [ ] 시작일/종료일 선택
  - [ ] 타입/사유 입력
  - [ ] 추가 확인
- [ ] 제외일 추가 (다중)
  - [ ] 여러 날짜 선택
  - [ ] 타입/사유 입력
  - [ ] 추가 확인
- [ ] 제외일 삭제
  - [ ] 삭제 버튼 클릭
  - [ ] 목록에서 제거 확인
- [ ] 동기화 버튼
  - [ ] Time Management와 동기화
  - [ ] 성공 메시지 확인

#### AcademySchedulePanel 테스트

- [ ] 학원 일정 추가
  - [ ] 요일 선택 (월/화/수/목/금/토/일)
  - [ ] 시작/종료 시간 입력
  - [ ] 학원명 입력
  - [ ] 과목 입력
  - [ ] 이동시간 입력 (기본 60분)
  - [ ] 추가 버튼 클릭
- [ ] 학원 일정 수정
  - [ ] 수정 버튼 클릭
  - [ ] 정보 변경
  - [ ] 저장 확인
- [ ] 학원 일정 삭제
  - [ ] 삭제 버튼 클릭
  - [ ] 목록에서 제거 확인
- [ ] 동기화 버튼
  - [ ] Time Management와 동기화
  - [ ] 성공 메시지 확인

#### TimeConfigPanel 테스트

- [ ] 점심시간 설정
  - [ ] 시작/종료 시간 입력
  - [ ] 변경 확인
- [ ] 자율학습 시간 설정
  - [ ] 지정휴일 토글
  - [ ] 학습일/복습일 토글
  - [ ] 시간 범위 입력
  - [ ] 변경 확인

#### NonStudyTimeBlocksPanel 테스트

- [ ] 학습 시간 제외 추가
  - [ ] 타입 선택 (식사/수면/기타)
  - [ ] 시작/종료 시간
  - [ ] 요일 선택
  - [ ] 설명 입력
  - [ ] 추가 확인
- [ ] 학습 시간 제외 삭제
  - [ ] 삭제 버튼 클릭
  - [ ] 목록에서 제거 확인

#### SchedulePreviewPanel 테스트

- [ ] 요약 통계 표시
  - [ ] 총 기간 (일)
  - [ ] 제외일 (일)
  - [ ] 학습일 (일)
  - [ ] 총 학습 시간 (시간)
- [ ] 주차별 스케줄 표시
  - [ ] 1주차 기본 펼침
  - [ ] 주차 접기/펼치기
  - [ ] 날짜 범위 표시
- [ ] 일별 상세 정보
  - [ ] 날짜 표시
  - [ ] 타입 (학습일/복습일/지정휴일 등)
  - [ ] 색상 구분
  - [ ] 학습 가능 시간 표시
- [ ] 실시간 업데이트
  - [ ] 제외일 추가 → 즉시 반영 (500ms)
  - [ ] 학원 일정 추가 → 즉시 반영
  - [ ] 시간 설정 변경 → 즉시 반영
- [ ] Loading 상태
  - [ ] 계산 중 스피너 표시
  - [ ] 완료 후 결과 표시
- [ ] Error 상태
  - [ ] 오류 발생 시 메시지 표시

#### Step 2 → Step 4 이동

- [ ] "다음" 버튼 클릭
- [ ] Step 3 건너뛰기 (null)
- [ ] Step 4로 정상 진입
- [ ] daily_schedule 데이터 전달 확인

---

### 2. 템플릿 모드 (관리자)

#### 접근

- [ ] 관리자 로그인
- [ ] 캠프 템플릿 생성/수정
- [ ] Step 1 → Step 2 진입

#### 템플릿 전용 기능

- [ ] Step 1-2만 표시 (Step 3 이후 없음)
- [ ] 블록 세트 없어도 기본 블록 사용
- [ ] 템플릿 제외일 고정 (is_locked: true)
- [ ] "템플릿 저장" 버튼
- [ ] 저장 후 템플릿 목록으로 이동

#### ExclusionsPanel (템플릿)

- [ ] 템플릿 제외일 추가
- [ ] source: "template" 확인
- [ ] is_locked: true 확인
- [ ] 동기화 없음 (템플릿이므로)

#### SchedulePreviewPanel (템플릿)

- [ ] 기본 블록으로 계산
- [ ] 스케줄 미리보기 표시
- [ ] 템플릿 데이터로 저장

---

### 3. 캠프 모드 (학생)

#### 접근

- [ ] 학생 로그인
- [ ] 캠프 초대 수락
- [ ] Step 1 진입 (템플릿 데이터 로드)

#### 템플릿 데이터 상속

- [ ] Step 1 읽기 전용 (기간, 블록세트 등)
- [ ] 템플릿 제외일 표시 (수정 불가)
- [ ] 학생 추가 제외일 가능
- [ ] Step 2 진입

#### ExclusionsPanel (캠프)

- [ ] 템플릿 제외일 표시 (잠금 아이콘)
- [ ] 템플릿 제외일 수정 불가
- [ ] 학생 제외일 추가 가능
- [ ] source: "student" 확인
- [ ] 동기화 작동

#### AcademySchedulePanel (캠프)

- [ ] 템플릿 학원 일정 표시 (잠금)
- [ ] 템플릿 일정 수정 불가
- [ ] 학생 일정 추가 가능
- [ ] 동기화 작동

#### SchedulePreviewPanel (캠프)

- [ ] campTemplateId 전달 확인
- [ ] 템플릿 + 학생 데이터로 계산
- [ ] 실시간 미리보기 작동

#### Step 2 → Step 3 (콘텐츠 선택)

- [ ] "다음" 클릭
- [ ] Step 3 건너뛰기
- [ ] Step 4 (현재 Step 3) 콘텐츠 선택으로 이동
- [ ] 학생 제출 후 관리자 승인 대기

---

### 4. 관리자 계속 모드

#### 접근

- [ ] 관리자 로그인
- [ ] 학생 캠프 신청 확인
- [ ] "계속 진행" 버튼 클릭

#### Step 1-3 읽기 전용

- [ ] Step 1: 기본 정보 읽기 전용
- [ ] Step 2: 시간 설정 읽기 전용
  - [ ] editable: false 확인
  - [ ] 모든 입력 비활성화
  - [ ] 삭제/수정 버튼 없음
- [ ] Step 3: 콘텐츠 선택 읽기 전용

#### Step 4-7 편집 가능

- [ ] Step 4: 추천 콘텐츠 (관리자 편집)
- [ ] Step 5: 최종 확인 (관리자 편집)
- [ ] Step 6: 완료

---

### 5. 반응형 테스트

#### 모바일 (< 768px)

- [ ] 브라우저 개발자 도구 → 모바일 모드
- [ ] 좌우 분할 → 상하 분할 확인
- [ ] TimeSettingsPanel (상단)
- [ ] SchedulePreviewPanel (하단)
- [ ] 모든 버튼 터치 가능
- [ ] 텍스트 가독성
- [ ] 스크롤 작동

#### 태블릿 (768px - 1024px)

- [ ] 브라우저 크기 조정
- [ ] 좌우 분할 유지 또는 상하 전환
- [ ] 레이아웃 자연스러움
- [ ] 모든 기능 작동

#### 데스크톱 (> 1024px)

- [ ] 전체 화면
- [ ] 좌우 분할 (40% / 60%)
- [ ] sticky top-4 작동
- [ ] 스크롤 시 패널 고정

---

### 6. 성능 테스트

#### Debounce 작동

- [ ] 제외일 빠르게 여러 개 추가
- [ ] 500ms 후 한 번만 계산
- [ ] Loading 스피너 한 번만 표시

#### 캐시 작동

- [ ] 동일한 설정으로 재계산
- [ ] 즉시 결과 표시 (캐시에서)
- [ ] Network 탭에서 API 호출 없음 확인

#### React.memo 최적화

- [ ] React DevTools Profiler
- [ ] 불필요한 리렌더링 없음 확인
- [ ] SchedulePreviewPanel 독립적 렌더링

---

### 7. 에러 처리 테스트

#### 잘못된 입력

- [ ] 시작일 > 종료일
- [ ] 시간 입력 오류
- [ ] 필수 필드 누락
- [ ] 적절한 검증 메시지

#### API 오류

- [ ] 네트워크 끊기 (개발자 도구)
- [ ] 스케줄 계산 실패
- [ ] 에러 메시지 표시
- [ ] 복구 가능

#### 브라우저 호환성

- [ ] Chrome
- [ ] Safari
- [ ] Firefox
- [ ] Edge

---

### 8. 데이터 무결성 테스트

#### WizardData 업데이트

- [ ] 제외일 추가 → data.exclusions 업데이트
- [ ] 학원 일정 추가 → data.academy_schedules 업데이트
- [ ] 시간 설정 변경 → data.time_settings 업데이트
- [ ] 스케줄 계산 → data.daily_schedule 업데이트
- [ ] 요약 생성 → data.schedule_summary 업데이트

#### Draft 자동 저장

- [ ] 변경 후 2초 대기
- [ ] Draft 자동 저장
- [ ] 페이지 새로고침 후 복원

#### 다음 단계로 데이터 전달

- [ ] Step 2 → Step 4로 이동
- [ ] daily_schedule 전달 확인
- [ ] schedule_summary 전달 확인
- [ ] 콘텐츠 선택에서 사용 확인

---

## 🐛 버그 리포트 템플릿

### 발견된 버그

```markdown
## 버그 #X: [제목]

**심각도**: 🔴 Critical / 🟠 Major / 🟡 Minor / 🔵 Trivial

**재현 단계**:
1. 
2. 
3. 

**예상 동작**:
-

**실제 동작**:
-

**스크린샷/영상**:
-

**환경**:
- 브라우저: 
- 모드: 
- 기타: 

**해결 방법 (선택)**:
-
```

---

## 📊 테스트 진행 상황

### 체크리스트 요약

| 카테고리 | 항목 수 | 완료 | 진행률 |
|---------|--------|------|--------|
| 일반 플랜 | 50 | 0 | 0% |
| 템플릿 모드 | 15 | 0 | 0% |
| 캠프 모드 | 20 | 0 | 0% |
| 관리자 계속 | 10 | 0 | 0% |
| 반응형 | 15 | 0 | 0% |
| 성능 | 10 | 0 | 0% |
| 에러 처리 | 12 | 0 | 0% |
| 데이터 무결성 | 12 | 0 | 0% |
| **합계** | **144** | **0** | **0%** |

---

## 🎯 테스트 우선순위

### Priority 1: 핵심 기능 (반드시 작동)

1. 일반 플랜 모드 전체 플로우
2. 실시간 미리보기
3. 모든 패널 기본 기능
4. Step 2 → Step 4 데이터 전달

### Priority 2: 모드별 기능

5. 템플릿 모드
6. 캠프 모드
7. 관리자 계속 모드

### Priority 3: UX 및 성능

8. 반응형 디자인
9. 성능 최적화
10. 에러 처리

---

## 📝 테스트 로그

### 세션 1: [날짜/시간]

**테스터**: [이름]  
**소요 시간**: [시간]  
**완료 항목**: [개수]  
**발견 버그**: [개수]

**주요 발견사항**:
-

---

## 🏆 완료 기준

### Phase 2 테스트 통과 조건

- [ ] Priority 1 항목 100% 통과
- [ ] Priority 2 항목 80% 통과
- [ ] Priority 3 항목 50% 통과
- [ ] Critical 버그 0개
- [ ] Major 버그 < 3개

### 다음 단계

테스트 통과 시:
- ✅ Phase 2 완전 완료 선언
- ✅ Phase 3 시작 또는 다른 작업

테스트 미통과 시:
- 🔧 버그 수정
- 🔄 재테스트

---

**작성일**: 2025년 11월 29일  
**예상 시간**: 4-5시간  
**상태**: 대기 중

