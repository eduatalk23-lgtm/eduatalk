# Today 페이지 - 가장 가까운 날짜 플랜 표시 기능

## 📋 기능 개요

`/today` 페이지에서 오늘 날짜의 플랜이 없을 경우, 가장 가까운 미래 날짜의 플랜을 표시하는 기능을 추가했습니다.

## ✨ 주요 기능

### 1. 오늘 플랜 우선 표시
- 오늘 날짜(`todayDate`)의 플랜을 먼저 조회
- 플랜이 있으면 오늘 플랜을 표시

### 2. 가장 가까운 날짜 플랜 표시
- 오늘 플랜이 없으면 미래 30일 범위에서 플랜 조회
- 가장 가까운 날짜의 플랜을 찾아서 표시
- 해당 날짜의 모든 플랜을 함께 표시

### 3. 날짜 표시
- 오늘이 아닌 경우 상단에 경고 배너 표시
- 상대적 날짜 표현:
  - "내일"
  - "모레"
  - "3일 후" (7일 이내)
  - "2024년 1월 15일" (7일 이후)
- 정확한 날짜도 함께 표시

## 🔧 구현 내용

### 변경된 파일
- `app/(student)/today/_components/TodayPlanList.tsx`

### 주요 로직

1. **오늘 플랜 조회**
   ```typescript
   getPlansForStudent({
     studentId: user.userId,
     tenantId: tenantContext?.tenantId || null,
     planDate: todayDate,
   })
   ```

2. **미래 플랜 조회 (오늘 플랜이 없을 때)**
   ```typescript
   getPlansForStudent({
     studentId: user.userId,
     tenantId: tenantContext?.tenantId || null,
     dateRange: {
       start: todayDate,
       end: futureEndDateStr, // 오늘부터 30일 후
     },
   })
   ```

3. **가장 가까운 날짜 찾기**
   - 플랜을 `plan_date` 기준으로 정렬
   - 첫 번째 플랜의 날짜를 기준으로 해당 날짜의 모든 플랜 필터링

4. **날짜 표시**
   - `isToday` 플래그로 오늘 여부 확인
   - 오늘이 아니면 경고 배너 표시

## 📊 UI 구성

### 오늘 플랜이 있는 경우
- 일반적으로 플랜 목록 표시
- 별도 배너 없음

### 오늘이 아닌 날짜의 플랜 표시
```
┌─────────────────────────────────────┐
│ 📅 내일의 플랜을 표시하고 있습니다  │
│    2024년 1월 16일 (내일)          │
└─────────────────────────────────────┘
[플랜 목록...]
```

## 🎯 사용자 경험 개선

1. **빈 화면 방지**: 오늘 플랜이 없어도 다음 일정을 미리 확인 가능
2. **명확한 날짜 표시**: 오늘이 아니라는 것을 명확히 표시
3. **직관적인 표현**: "내일", "모레" 등 친숙한 표현 사용

## 📝 참고사항

- 조회 범위: 오늘부터 30일 후까지
- 정렬 기준: `plan_date` 오름차순
- 날짜 포맷: 한국어 형식 (예: "2024년 1월 15일")
- 상대적 표현: 7일 이내는 "N일 후", 그 이후는 정확한 날짜

