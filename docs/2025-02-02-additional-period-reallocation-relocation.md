# 추가 기간 학습 범위 재배치 항목 학습 기간 하위로 이동

## 작업 개요

"추가 기간 학습 범위 재배치" 항목을 블록 세트 섹션에서 학습 기간 섹션 하위 항목으로 재배치하고, 학생 입력 허용 기능 위치를 정리했습니다.

## 작업 일시

2025년 2월 2일

## 변경 사항

### 1. 구조 변경

**이전 구조:**
```
- 학습 기간 CollapsibleSection (984-1632라인)
- 스케줄러 유형 CollapsibleSection (1635-1940라인)
- 블록 세트 CollapsibleSection (1943-2813라인)
  - 추가 기간 학습 범위 재배치 (2579-2812라인)
```

**변경 후 구조:**
```
- 학습 기간 CollapsibleSection (984-1864라인)
  - 기간 입력 유형 (D-day, 주 단위, 직접 선택)
  - 추가 기간 학습 범위 재배치 (1633-1863라인) ← 하위 항목으로 이동
- 스케줄러 유형 CollapsibleSection (1867-2273라인)
- 블록 세트 CollapsibleSection (2276-2811라인)
```

### 2. 코드 위치 변경

- **이전 위치**: `Step1BasicInfo.tsx` 2579-2812라인 (블록 세트 CollapsibleSection 내부)
- **이동 위치**: `Step1BasicInfo.tsx` 1633-1863라인 (학습 기간 CollapsibleSection 내부, 1631라인 다음)

### 3. 학생 입력 허용 체크박스 위치 조정

- 템플릿 모드(`isTemplateMode`)에서만 표시되도록 조건 추가
- 학습 기간 섹션 내부에 위치하도록 조정
- `allow_student_additional_period_reallocation` 필드 사용 유지

### 4. 스타일링 조정

- 하위 항목 느낌의 스타일 적용:
  - `mt-4 space-y-3 rounded-lg border border-gray-200 bg-gray-50 p-4`
  - 학습 기간 섹션 내부에서 구분되는 시각적 계층 구조 유지

## 구현 상세

### 변경된 파일

#### `app/(student)/plan/new-group/_components/Step1BasicInfo.tsx`

1. **추가 기간 재배치 섹션 이동**
   - 블록 세트 섹션(2579-2812라인)에서 코드 제거
   - 학습 기간 섹션 내부(1631라인 다음)에 추가
   - 스케줄러 타입이 `"1730_timetable"`일 때만 표시되는 조건 유지

2. **학생 입력 허용 체크박스 조건 개선**
   ```tsx
   {isTemplateMode && (
     <div className="flex items-center gap-2">
       {renderStudentInputCheckbox(
         "allow_student_additional_period_reallocation"
       )}
     </div>
   )}
   ```

3. **안내 메시지 위치**
   - 캠프 모드에서 학생 입력 허용이 아닐 때 표시되는 안내 메시지는 학습 기간 섹션 내부에 위치

## 기능 동작

### 조건부 렌더링

- 스케줄러 타입이 `"1730_timetable"`일 때만 표시
- 학습 기간(`period_start`, `period_end`)이 설정되어 있어야 체크박스 활성화

### 학생 입력 허용

- 템플릿 모드에서만 학생 입력 허용 체크박스 표시
- 캠프 모드에서 학생 입력 허용이 아닐 경우 읽기 전용으로 표시

## 검증 항목

- [x] 추가 기간 재배치 항목이 학습 기간 섹션 내부에 표시됨
- [x] 스케줄러 타입이 1730_timetable일 때만 표시됨
- [x] 학습 기간이 설정되어야 활성화됨
- [x] 학생 입력 허용 체크박스가 템플릿 모드에서만 표시됨
- [x] 블록 세트 섹션에서 추가 기간 재배치 항목이 제거됨
- [x] 하위 항목 느낌의 스타일링 적용됨

## 영향 범위

- **UI 변경**: 추가 기간 재배치 항목의 위치 변경 (블록 세트 → 학습 기간 하위)
- **기능 영향**: 없음 (기능 동작 변경 없음, UI 구조 변경만)

## 관련 이슈

- 학습 기간과 추가 기간의 논리적 관계를 UI에서도 명확하게 표현
- 사용자가 학습 기간을 설정한 후 바로 아래에서 추가 기간을 설정할 수 있어 UX 개선

