# μΊ ν”„ ν…ν”λ¦Ώ μ‚­μ  ν›„ λ©λ΅ μ—…λ°μ΄νΈ λ¬Έμ  μμ •

## π“‹ μ‘μ—… κ°μ”

μΊ ν”„ ν…ν”λ¦Ώ μ‚­μ  ν›„μ—λ„ λ©λ΅μ— λ‚¨μ•„μκ³  ν‘μ‹ μμΉκ°€ 0μΌλ΅ λ‚μ¤λ” λ¬Έμ λ¥Ό μμ •ν–μµλ‹λ‹¤.

## π” λ¬Έμ  λ¶„μ„

### κΈ°μ΅΄ λ¬Έμ μ 

1. **μΊμ‹ λ¬΄ν¨ν™” λ„λ½**
   - μ‚­μ  μ•΅μ…μ—μ„ `revalidatePath`λ¥Ό νΈμ¶ν•μ§€ μ•μ•„ Next.js μΊμ‹κ°€ λ¬΄ν¨ν™”λμ§€ μ•μ
   - μ„λ²„ μ»΄ν¬λ„νΈκ°€ μΊμ‹λ λ°μ΄ν„°λ¥Ό κ³„μ† μ‚¬μ©ν•μ—¬ μ‚­μ λ ν…ν”λ¦Ώμ΄ λ©λ΅μ— ν‘μ‹λ¨

2. **νμ΄μ§€ μƒλ΅κ³ μΉ¨ λ¶€μ΅±**
   - `router.refresh()`λ§μΌλ΅λ” λ¶€μ΅±ν•μ—¬ μ„λ²„ μ»΄ν¬λ„νΈκ°€ λ‹¤μ‹ λ λ”λ§λμ§€ μ•μ
   - μ‚­μ  ν›„ λ©λ΅ νμ΄μ§€λ΅ λ…μ‹μ μΌλ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•μ§€ μ•μ

3. **λ°μ΄ν„° λ¶μΌμΉ**
   - μ‚­μ λ ν…ν”λ¦Ώμ΄ λ©λ΅μ— λ‚¨μ•„μμ§€λ§ μ΄ κ°μλ” 0μΌλ΅ ν‘μ‹λλ” λ°μ΄ν„° λ¶μΌμΉ λ°μƒ

## β… ν•΄κ²° λ°©μ•

### 1. μ‚­μ  μ•΅μ…μ— μΊμ‹ λ¬΄ν¨ν™” μ¶”κ°€

μ‚­μ  μ•΅μ…μ—μ„ `revalidatePath`λ¥Ό νΈμ¶ν•μ—¬ λ©λ΅ νμ΄μ§€μ μΊμ‹λ¥Ό λ¬΄ν¨ν™”ν•λ„λ΅ μμ •ν–μµλ‹λ‹¤.

**λ³€κ²½ μ „:**
```typescript
if (error) {
  throw new AppError(/* ... */);
}

return { success: true };
```

**λ³€κ²½ ν›„:**
```typescript
if (error) {
  throw new AppError(/* ... */);
}

// μΊμ‹ λ¬΄ν¨ν™”ν•μ—¬ λ©λ΅ νμ΄μ§€ μ¬λ λ”λ§
revalidatePath("/admin/camp-templates");

return { success: true };
```

### 2. μ‚­μ  ν›„ λ¦¬λ‹¤μ΄λ ‰νΈ λ° μƒλ΅κ³ μΉ¨

μ‚­μ  ν›„ λ©λ΅ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•κ³  μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό μƒλ΅κ³ μΉ¨ν•λ„λ΅ μμ •ν–μµλ‹λ‹¤.

**λ³€κ²½ μ „:**
```typescript
if (result.success) {
  toast.showSuccess("ν…ν”λ¦Ώμ΄ μ‚­μ λμ—μµλ‹λ‹¤.");
  setShowDeleteDialog(false);
  setIsDeleting(false);
  // μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ‹¤μ‹ λ λ”λ§ν•κΈ° μ„ν•΄ refresh μ‚¬μ©
  router.refresh();
}
```

**λ³€κ²½ ν›„:**
```typescript
if (result.success) {
  toast.showSuccess("ν…ν”λ¦Ώμ΄ μ‚­μ λμ—μµλ‹λ‹¤.");
  setShowDeleteDialog(false);
  setIsDeleting(false);
  // ν„μ¬ URLλ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•μ—¬ μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ‹¤μ‹ λ λ”λ§
  // revalidatePathκ°€ νΈμ¶λμ—μΌλ―€λ΅ μµμ‹  λ°μ΄ν„°κ°€ λ΅λ“λ¨
  router.push("/admin/camp-templates");
  router.refresh();
}
```

## π“ λ³€κ²½ μ‚¬ν•­

### `app/(admin)/actions/campTemplateActions.ts`

1. **μ‚­μ  μ•΅μ…μ— μΊμ‹ λ¬΄ν¨ν™” μ¶”κ°€**
   - `revalidatePath("/admin/camp-templates")` νΈμ¶ μ¶”κ°€
   - μ‚­μ  ν›„ λ©λ΅ νμ΄μ§€μ μΊμ‹λ¥Ό λ¬΄ν¨ν™”ν•μ—¬ μµμ‹  λ°μ΄ν„° λ΅λ“

### `app/(admin)/admin/camp-templates/_components/TemplateCard.tsx`

1. **μ‚­μ  ν›„ λ¦¬λ‹¤μ΄λ ‰νΈ λ° μƒλ΅κ³ μΉ¨**
   - `router.push("/admin/camp-templates")` μ¶”κ°€ν•μ—¬ λ©λ΅ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
   - `router.refresh()` νΈμ¶ν•μ—¬ μ„λ²„ μ»΄ν¬λ„νΈ μ¬λ λ”λ§

## π― κ°μ„  ν¨κ³Ό

1. **μ¦‰μ‹ λ©λ΅ μ—…λ°μ΄νΈ**
   - μ‚­μ  ν›„ λ©λ΅ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•μ—¬ μµμ‹  λ°μ΄ν„° λ΅λ“
   - μ‚­μ λ ν…ν”λ¦Ώμ΄ λ©λ΅μ—μ„ μ¦‰μ‹ μ κ±°λ¨

2. **λ°μ΄ν„° μΌκ΄€μ„± ν™•λ³΄**
   - μΊμ‹ λ¬΄ν¨ν™”λ΅ μ„λ²„ μ»΄ν¬λ„νΈκ°€ μµμ‹  λ°μ΄ν„°λ¥Ό μ‚¬μ©
   - ν‘μ‹ μμΉμ™€ λ©λ΅μ΄ μΌμΉν•λ„λ΅ κ°μ„ 

3. **μ‚¬μ©μ κ²½ν— κ°μ„ **
   - μ‚­μ  ν›„ μ¦‰μ‹ ν”Όλ“λ°±μ„ λ°›μ„ μ μμ–΄ μ‚¬μ©μ κ²½ν—μ΄ κ°μ„ λ¨

## π”§ κΈ°μ μ  μ„Έλ¶€μ‚¬ν•­

### Next.js μΊμ‹± λ° μ¬κ²€μ¦

- `revalidatePath`: νΉμ • κ²½λ΅μ μΊμ‹λ¥Ό λ¬΄ν¨ν™”ν•μ—¬ λ‹¤μ μ”μ²­ μ‹ μµμ‹  λ°μ΄ν„° λ΅λ“
- `router.push`: ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“ λ„¤λΉ„κ²μ΄μ…μΌλ΅ νμ΄μ§€ μ΄λ™
- `router.refresh`: μ„λ²„ μ»΄ν¬λ„νΈλ¥Ό λ‹¤μ‹ λ λ”λ§ν•μ—¬ μµμ‹  λ°μ΄ν„° κ°€μ Έμ¤κΈ°

### μΊμ‹ λ¬΄ν¨ν™” μ‹μ 

1. μ‚­μ  μ•΅μ… μ‹¤ν–‰
2. λ°μ΄ν„°λ² μ΄μ¤μ—μ„ ν…ν”λ¦Ώ μ‚­μ 
3. `revalidatePath` νΈμ¶λ΅ μΊμ‹ λ¬΄ν¨ν™”
4. ν΄λΌμ΄μ–ΈνΈμ—μ„ λ©λ΅ νμ΄μ§€λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ
5. μ„λ²„ μ»΄ν¬λ„νΈκ°€ μµμ‹  λ°μ΄ν„°λ¥Ό κ°€μ Έμ™€ λ λ”λ§

## β… ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ

- [x] ν…ν”λ¦Ώ μ‚­μ  ν›„ λ©λ΅μ—μ„ μ¦‰μ‹ μ κ±°λλ”μ§€ ν™•μΈ
- [x] μ‚­μ  ν›„ ν‘μ‹ μμΉκ°€ μ¬λ°”λ¥΄κ² μ—…λ°μ΄νΈλλ”μ§€ ν™•μΈ
- [x] μ‚­μ  μ‹¤ν¨ μ‹ μ—λ¬ λ©”μ‹μ§€κ°€ μ¬λ°”λ¥΄κ² ν‘μ‹λλ”μ§€ ν™•μΈ
- [x] ν•„ν„°κ°€ μ μ©λ μƒνƒμ—μ„λ„ μ‚­μ  ν›„ μ¬λ°”λ¥΄κ² λ™μ‘ν•λ”μ§€ ν™•μΈ

## π“ μ°Έκ³  μ‚¬ν•­

- Next.js μΊμ‹±: `revalidatePath`λ¥Ό μ‚¬μ©ν•μ—¬ νΉμ • κ²½λ΅μ μΊμ‹ λ¬΄ν¨ν™”
- μ„λ²„ μ•΅μ…μ—μ„μ μΊμ‹ λ¬΄ν¨ν™”: `revalidatePath`λ” μ„λ²„ μ•΅μ… λ‚΄μ—μ„ νΈμ¶ κ°€λ¥
- ν΄λΌμ΄μ–ΈνΈ λ„¤λΉ„κ²μ΄μ…: `router.push`μ™€ `router.refresh`λ¥Ό ν•¨κ» μ‚¬μ©ν•μ—¬ ν™•μ‹¤ν• μƒλ΅κ³ μΉ¨

