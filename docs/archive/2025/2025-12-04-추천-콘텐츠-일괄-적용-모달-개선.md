# 추천 콘텐츠 일괄 적용 모달 개선

## 작업 일자
2025-12-04

## 작업 내용

### 1. 다이얼로그 크기 확대

**파일**: `app/(admin)/admin/camp-templates/[id]/participants/_components/BulkRecommendContentsModal.tsx`

- Dialog 컴포넌트에 `maxWidth="2xl"` prop 추가
- 더 큰 화면 공간으로 정보 가독성 향상

### 2. 숫자 입력 필드를 토글 버튼으로 변경

**변경 사항**:
- 테이블 셀의 `input[type="number"]` 제거
- 각 셀에 `-` 버튼 + 현재 값 표시 + `+` 버튼 배치
- 버튼 클릭 시 `updateCount` 함수 호출
- 0일 때는 `-` 버튼 비활성화, 9일 때는 `+` 버튼 비활성화
- 전체 조율 및 개별 조율 섹션의 숫자 입력 필드도 동일하게 변경

**구현**:
- `Minus`, `Plus` 아이콘 사용 (lucide-react)
- 버튼 크기: `h-7 w-7` (테이블 셀), `h-6 w-6` (팝오버)
- 비활성화 상태 시각적 구분 (`opacity-30`)

### 3. 요약 섹션 추가

**추가 내용**:
- 모달 상단에 요약 카드 섹션 추가 (4개 카드)
- 표시 항목:
  - 선택된 학생 수 (Users 아이콘)
  - 전체 추천 콘텐츠 수 (BookOpen 아이콘)
  - 교과별 통계 (CheckCircle2 아이콘)
  - 최대 수량 초과 학생 수 (AlertTriangle 아이콘, 경고 표시)

**레이아웃**:
- 그리드 레이아웃: 모바일 2열, 데스크톱 4열
- 각 카드에 아이콘과 숫자 표시
- 초과 학생 카드는 빨간색 배경으로 강조

### 4. 여백 및 간격 개선

**변경 내용**:
- 모달 패딩: `p-6` → `p-6 md:p-8`
- 섹션 간 간격: `mt-6` → `mt-8`
- 전체 조율 섹션 패딩: `p-4` → `p-5 md:p-6`
- 테이블 셀 패딩: `px-3 py-2` → `px-4 py-3`
- 헤더 셀 패딩: `px-3 py-2` → `px-4 py-3`
- 적용 옵션 섹션 패딩: `p-4` → `p-5 md:p-6`
- 액션 버튼 패딩: `px-4 py-2` → `px-5 py-2.5`

### 5. 테이블 헤더 고정

**변경 내용**:
- 테이블을 감싸는 div에 `max-h-[60vh] overflow-y-auto` 추가
- thead에 `sticky top-0 z-10 bg-gray-50 shadow-sm` 클래스 추가
- 스크롤 시에도 헤더가 보이도록 설정

### 6. 시각적 피드백 강화

**추가 내용**:
- 총합이 9개일 때: 주황색 배경 (`bg-orange-50`) + 경고 아이콘 (AlertTriangle)
- 총합이 9개 초과일 때: 빨간색 배경 (`bg-red-50`) + 에러 아이콘 (AlertTriangle)
- 행 hover 효과 추가 (`hover:bg-gray-50`, `hover:bg-orange-100`, `hover:bg-red-100`)
- 토글 버튼 hover 효과 개선
- 요약 섹션에 아이콘 추가 (lucide-react)
- 조율 버튼 스타일 개선 (더 큰 패딩, hover 효과)

### 7. 반응형 레이아웃 개선

**변경 내용**:
- 요약 섹션: 모바일 2열 (`grid-cols-2`), 데스크톱 4열 (`md:grid-cols-4`)
- 전체 조율 섹션: 모바일 세로 배치 (`flex-col`), 데스크톱 가로 배치 (`sm:flex-row`)
- 일괄 적용 컨트롤: 모바일 세로 배치 (`flex-col`), 데스크톱 가로 배치 (`sm:flex-row sm:flex-wrap`)
- 일괄 증가/감소 컨트롤: 모바일 세로 배치 (`flex-col`), 데스크톱 가로 배치 (`sm:flex-row`)
- 액션 버튼: 모바일 세로 배치 (`flex-col-reverse`), 데스크톱 가로 배치 (`sm:flex-row`)
- 조율 팝오버 크기: `w-64` → `w-72`, 패딩: `p-3` → `p-4`

## 수정된 파일 목록

1. `app/(admin)/admin/camp-templates/[id]/participants/_components/BulkRecommendContentsModal.tsx`
   - 모든 변경 사항 적용

## 예상 효과

- ✅ 더 큰 화면 공간으로 정보 가독성 향상
- ✅ 토글 버튼으로 직관적인 수량 조절
- ✅ 요약 섹션으로 전체 현황 한눈에 파악
- ✅ 고정 헤더로 긴 목록에서도 컬럼 정보 확인 용이
- ✅ 시각적 피드백으로 오류 및 경고 즉시 인지
- ✅ 반응형 레이아웃으로 다양한 화면 크기 지원

