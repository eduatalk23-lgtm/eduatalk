# ê´€ë¦¬ì ì˜ì—­ í”Œë˜ë„ˆ ìƒì„± ìœ„ì €ë“œ ë¶„ì„ ë° ê°œì„  ë°©í–¥ (v2)

**ì‘ì„±ì¼**: 2026-01-15  
**ì‘ì„±ì**: AI Assistant  
**ìƒíƒœ**: ë¶„ì„ ì™„ë£Œ, ê°œì„  ë°©í–¥ ì œì‹œ

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [í˜„ì¬ êµ¬ì¡° ë¶„ì„](#í˜„ì¬-êµ¬ì¡°-ë¶„ì„)
3. [í•µì‹¬ ë¬¸ì œì ](#í•µì‹¬-ë¬¸ì œì )
4. [7ë‹¨ê³„ ìœ„ì €ë“œì˜ ë©”íƒ€ ì •ë³´ ì²˜ë¦¬ ë¡œì§ ë¶„ì„](#7ë‹¨ê³„-ìœ„ì €ë“œì˜-ë©”íƒ€-ì •ë³´-ì²˜ë¦¬-ë¡œì§-ë¶„ì„)
5. [í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ ê°œì„  ë°©ì•ˆ](#í”Œë˜ë„ˆ-ìƒì„±-ëª¨ë‹¬-ê°œì„ -ë°©ì•ˆ)
6. [í”Œëœ ìƒì„± ë‹¨ê³„ ì²´ê³„í™” ë°©ì•ˆ](#í”Œëœ-ìƒì„±-ë‹¨ê³„-ì²´ê³„í™”-ë°©ì•ˆ)
7. [êµ¬í˜„ ê³„íš](#êµ¬í˜„-ê³„íš)

---

## ê°œìš”

### ëª©ì 

ê´€ë¦¬ì ì˜ì—­ì—ì„œ í•™ìƒ ëŒ€ìƒìœ¼ë¡œ **í”Œë˜ë„ˆë¥¼ ë¨¼ì € ìƒì„±**í•˜ê³ , ê·¸ ë‹¤ìŒ **ê°ì¢… í”Œëœì„ ì¶”ê°€**í•˜ëŠ” ì›Œí¬í”Œë¡œìš°ë¥¼ ì²´ê³„í™”í•©ë‹ˆë‹¤. íŠ¹íˆ í”Œë˜ë„ˆ ìƒì„± ì‹œ **í•™ìƒì˜ í•™ìŠµ ì œì™¸ì¼, í•™ì› ì¼ì • ë“± ë©”íƒ€ ì •ë³´ë¥¼ ê´€ë¦¬ìê°€ í™•ì¸ í›„ ì„ íƒì ìœ¼ë¡œ ë°˜ì˜**í•  ìˆ˜ ìˆë„ë¡ ê°œì„ í•©ë‹ˆë‹¤.

### í•µì‹¬ ìš”êµ¬ì‚¬í•­

1. **í”Œë˜ë„ˆ ìƒì„±ì´ ìµœìš°ì„  ìˆœìœ„**: í”Œëœ ìƒì„± ì „ì— í”Œë˜ë„ˆë¥¼ ë¨¼ì € ìƒì„±í•´ì•¼ í•¨
2. **í”Œëœ ìƒì„± ë‹¨ê³„ ì²´ê³„í™”**: í”Œë˜ë„ˆ ìƒì„± â†’ ê°ì¢… í”Œëœ ì¶”ê°€ (ì»¨í…ì¸ , ë‹¨ë°œì„±, ì¼íšŒì„± ë“±)
3. **ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜**:
   - í”Œë˜ë„ˆ ìƒì„± ì‹œ í•™ìƒì˜ í•™ìŠµ ì œì™¸ì¼, í•™ì› ì¼ì •ì„ **ìë™ ë°˜ì˜í•˜ì§€ ì•Šê³ **
   - ê´€ë¦¬ìê°€ **í™•ì¸ í›„ ì„ íƒì ìœ¼ë¡œ ë°˜ì˜**í•  ìˆ˜ ìˆì–´ì•¼ í•¨
   - ë°˜ì˜ í›„ì—ë„ **ì¶”ê°€ ìˆ˜ì • ê°€ëŠ¥**í•´ì•¼ í•¨
4. **7ë‹¨ê³„ ìœ„ì €ë“œ ë¡œì§ ì°¸ê³ **: ê´€ë¦¬ì ì˜ì—­ì˜ 7ë‹¨ê³„ ìœ„ì €ë“œ Step 2ì—ì„œ ì´ë¯¸ êµ¬í˜„ëœ "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë¡œì§ì„ ì°¸ê³ 

### í˜„ì¬ ìƒí™©

- **ìœ„ì €ë“œ ìœ„ì¹˜**: `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/`
- **ì£¼ìš” ì»´í¬ë„ŒíŠ¸**: `AdminPlanCreationWizard7Step.tsx`
- **í”Œë˜ë„ˆ ê´€ë¦¬**: `PlannerManagement.tsx`, `PlannerCreationModal.tsx`
- **ë¬¸ì œì **:
  - í”Œë˜ë„ˆ ìƒì„±ê³¼ í”Œëœ ìƒì„±ì´ ë¶„ë¦¬ë˜ì–´ ìˆì–´ ìš°ì„ ìˆœìœ„ê°€ ëª…í™•í•˜ì§€ ì•ŠìŒ
  - í”Œë˜ë„ˆ ìƒì„± ì‹œ í•™ìƒì˜ ë©”íƒ€ ì •ë³´(ì œì™¸ì¼, í•™ì›ì¼ì •)ë¥¼ í™•ì¸í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì—†ìŒ
  - 7ë‹¨ê³„ ìœ„ì €ë“œ Step 2ì—ëŠ” ì´ë¯¸ êµ¬í˜„ëœ ë¡œì§ì´ ìˆìœ¼ë‚˜ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì—ëŠ” ì—†ìŒ

---

## í˜„ì¬ êµ¬ì¡° ë¶„ì„

### ìœ„ì €ë“œ ì•„í‚¤í…ì²˜

```
ê´€ë¦¬ì í”Œëœ ê´€ë¦¬ í˜ì´ì§€
â”œâ”€â”€ PlannerManagement (í”Œë˜ë„ˆ ëª©ë¡ ê´€ë¦¬)
â”‚   â””â”€â”€ PlannerCreationModal (í”Œë˜ë„ˆ ìƒì„±/ìˆ˜ì •)
â”‚       â””â”€â”€ âŒ ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜ ê¸°ëŠ¥ ì—†ìŒ
â””â”€â”€ AdminPlanCreationWizard7Step (í”Œëœ ê·¸ë£¹ ìƒì„± ìœ„ì €ë“œ)
    â”œâ”€â”€ AdminWizardProvider (Context)
    â””â”€â”€ WizardInner
        â”œâ”€â”€ Step1BasicInfo (ê¸°ë³¸ ì •ë³´ - í”Œë˜ë„ˆ ì„ íƒ í¬í•¨)
        â”œâ”€â”€ Step2TimeSettings (ì‹œê°„ ì„¤ì •)
        â”‚   â”œâ”€â”€ âœ… "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ (í•™ì› ì¼ì •)
        â”‚   â”œâ”€â”€ âœ… "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ (ì œì™¸ì¼)
        â”‚   â”œâ”€â”€ âœ… AdminAcademyScheduleImportModal (ì„ íƒì  ë°˜ì˜)
        â”‚   â””â”€â”€ âœ… AdminExclusionImportModal (ì„ íƒì  ë°˜ì˜)
        â”œâ”€â”€ Step3SchedulePreview (ìŠ¤ì¼€ì¤„ ë¯¸ë¦¬ë³´ê¸°)
        â”œâ”€â”€ Step4ContentSelection (ì½˜í…ì¸  ì„ íƒ)
        â”œâ”€â”€ Step5AllocationSettings (ë°°ë¶„ ì„¤ì •)
        â”œâ”€â”€ Step6FinalReview (ìµœì¢… ê²€í† )
        â””â”€â”€ Step7GenerateResult (ìƒì„± ë° ê²°ê³¼)
```

### ë°ì´í„° íë¦„

#### í˜„ì¬ í”Œë˜ë„ˆ ìƒì„± íë¦„

```typescript
// PlannerCreationModal.tsx
1. í”Œë˜ë„ˆ ê¸°ë³¸ ì •ë³´ ì…ë ¥ (ì´ë¦„, ê¸°ê°„, ëª©ì )
2. ì‹œê°„ ì„¤ì • (í•™ìŠµì‹œê°„, ììœ¨í•™ìŠµ, ì ì‹¬ì‹œê°„)
3. ë¹„í•™ìŠµ ì‹œê°„ ë¸”ë¡ ì„¤ì •
4. ìŠ¤ì¼€ì¤„ëŸ¬ ì„¤ì •
5. ì €ì¥ â†’ planners í…Œì´ë¸”ì— ì €ì¥

âŒ ë¬¸ì œ: í•™ìƒì˜ ê¸°ì¡´ ì œì™¸ì¼, í•™ì›ì¼ì •ì„ í™•ì¸í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì—†ìŒ
```

#### í˜„ì¬ í”Œëœ ìƒì„± íë¦„ (Step 2)

```typescript
// Step2TimeSettings.tsx
1. "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­ (í•™ì› ì¼ì •/ì œì™¸ì¼)
2. syncTimeManagementAcademySchedulesAction / syncTimeManagementExclusionsAction í˜¸ì¶œ
3. ëª¨ë‹¬ ì—´ë¦¼ (AdminAcademyScheduleImportModal / AdminExclusionImportModal)
4. ê´€ë¦¬ìê°€ ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒ
5. "ì„ íƒ í•­ëª© ë“±ë¡" ë²„íŠ¼ìœ¼ë¡œ ë°˜ì˜
6. ë°˜ì˜ í›„ì—ë„ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥

âœ… ì´ ë¡œì§ì„ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©í•´ì•¼ í•¨
```

---

## í•µì‹¬ ë¬¸ì œì 

### 1. í”Œë˜ë„ˆ ìƒì„± ì‹œ ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜ ê¸°ëŠ¥ ë¶€ì¬ âš ï¸

**í˜„ì¬ ë™ì‘**:

- `PlannerCreationModal`ì—ì„œ í”Œë˜ë„ˆë¥¼ ìƒì„±í•  ë•Œ í•™ìƒì˜ ê¸°ì¡´ ì œì™¸ì¼, í•™ì›ì¼ì •ì„ í™•ì¸í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì—†ìŒ
- ê´€ë¦¬ìê°€ ìˆ˜ë™ìœ¼ë¡œ ì¼ì¼ì´ ì…ë ¥í•´ì•¼ í•¨

**ë¬¸ì œì **:

- í•™ìƒì—ê²Œ ì´ë¯¸ ë“±ë¡ëœ ì œì™¸ì¼/í•™ì›ì¼ì •ì´ ìˆì–´ë„ í”Œë˜ë„ˆ ìƒì„± ì‹œ ì°¸ê³ í•  ìˆ˜ ì—†ìŒ
- ê´€ë¦¬ìê°€ ì¼ì¼ì´ ì…ë ¥í•´ì•¼ í•˜ëŠ” ë²ˆê±°ë¡œì›€
- í•™ìƒì´ ì‘ì„±í•œ ë‚´ìš©ì´ ë¶ˆë¶„ëª…í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ìë™ ë°˜ì˜ì€ ìœ„í—˜í•¨
- **ê´€ë¦¬ìê°€ í™•ì¸ í›„ ì„ íƒì ìœ¼ë¡œ ë°˜ì˜**í•  ìˆ˜ ìˆì–´ì•¼ í•¨

**ì½”ë“œ ìœ„ì¹˜**: `PlannerCreationModal.tsx` (119-318ì¤„)

```typescript
// í˜„ì¬ í”Œë˜ë„ˆ ìƒì„± ë¡œì§
const handleSubmit = async () => {
  const createInput: CreatePlannerInput = {
    studentId,
    name: formData.name.trim(),
    periodStart: formData.periodStart,
    periodEnd: formData.periodEnd,
    // ... ì‹œê°„ ì„¤ì •ë§Œ í¬í•¨
    // âŒ í•™ìƒì˜ ê¸°ì¡´ ì œì™¸ì¼/í•™ì›ì¼ì •ì„ í™•ì¸í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì—†ìŒ
  };

  result = await createPlannerAction(createInput);
};
```

### 2. í”Œë˜ë„ˆ ìƒì„±ê³¼ í”Œëœ ìƒì„±ì˜ ìš°ì„ ìˆœìœ„ ë¶ˆëª…í™• âš ï¸

**í˜„ì¬ ë™ì‘**:

- í”Œë˜ë„ˆ ìƒì„±ê³¼ í”Œëœ ìƒì„±ì´ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘
- í”Œë˜ë„ˆ ì—†ì´ë„ í”Œëœì„ ìƒì„±í•  ìˆ˜ ìˆìŒ

**ë¬¸ì œì **:

- í”Œë˜ë„ˆë¥¼ ë¨¼ì € ìƒì„±í•´ì•¼ í•œë‹¤ëŠ” ê°€ì´ë“œê°€ ì—†ìŒ
- í”Œë˜ë„ˆ ì—†ì´ í”Œëœì„ ìƒì„±í•˜ë©´ ë©”íƒ€ ì •ë³´ê°€ ëˆ„ë½ë  ìˆ˜ ìˆìŒ
- ì›Œí¬í”Œë¡œìš°ê°€ ì²´ê³„ì ì´ì§€ ì•ŠìŒ

### 3. 7ë‹¨ê³„ ìœ„ì €ë“œì˜ ë¡œì§ì´ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì— ì—†ìŒ âš ï¸

**í˜„ì¬ ìƒí™©**:

- 7ë‹¨ê³„ ìœ„ì €ë“œ Step 2ì—ëŠ” ì´ë¯¸ "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ ìˆìŒ
- í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì—ëŠ” ë™ì¼í•œ ê¸°ëŠ¥ì´ ì—†ìŒ

**ë¬¸ì œì **:

- ì½”ë“œ ì¤‘ë³µ ê°€ëŠ¥ì„±
- ì¼ê´€ì„± ì—†ëŠ” ì‚¬ìš©ì ê²½í—˜

---

## 7ë‹¨ê³„ ìœ„ì €ë“œì˜ ë©”íƒ€ ì •ë³´ ì²˜ë¦¬ ë¡œì§ ë¶„ì„

### Step 2: ì‹œê°„ ì„¤ì • (`Step2TimeSettings.tsx`)

#### í•™ì› ì¼ì • ë¶ˆëŸ¬ì˜¤ê¸° ë¡œì§

**ìœ„ì¹˜**: `Step2TimeSettings.tsx` (336-369ì¤„)

**íë¦„**:

1. "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­
2. `syncTimeManagementAcademySchedulesAction` í˜¸ì¶œ
3. í•™ìƒì˜ í•™ì› ì¼ì • ì¡°íšŒ
4. `AdminAcademyScheduleImportModal` ëª¨ë‹¬ ì—´ë¦¼
5. ê´€ë¦¬ìê°€ ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒ
6. "ì„ íƒ í•­ëª© ë“±ë¡" ë²„íŠ¼ìœ¼ë¡œ ë°˜ì˜

**ì£¼ìš” ê¸°ëŠ¥**:

- í•™ì›ë³„ ê·¸ë£¹í™” í‘œì‹œ
- ê²¹ì¹˜ëŠ” ì‹œê°„ëŒ€ ê²½ê³  í‘œì‹œ
- ì´ë¯¸ ë“±ë¡ëœ í•­ëª©ì€ ë¹„í™œì„±í™”
- ì „ì²´ ì„ íƒ/í•´ì œ ê¸°ëŠ¥

```typescript
// Step2TimeSettings.tsx
const handleOpenAcademyImportModal = useCallback(async () => {
  setIsLoadingAcademy(true);
  try {
    const result = await syncTimeManagementAcademySchedulesAction(
      null,
      studentId
    );
    if (!result.academySchedules || result.academySchedules.length === 0) {
      toast.showInfo("ì‹œê°„ ê´€ë¦¬ì— ë“±ë¡ëœ í•™ì› ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.");
      return;
    }

    const convertedSchedules: AcademySchedule[] = result.academySchedules.map(
      (s) => ({
        day_of_week: s.day_of_week,
        start_time: s.start_time,
        end_time: s.end_time,
        academy_name: s.academy_name,
        subject: s.subject,
        travel_time: s.travel_time ?? 30,
        source: "imported" as const,
      })
    );

    setAvailableAcademySchedules(convertedSchedules);
    setIsAcademyImportModalOpen(true);
  } catch (error) {
    toast.showError("í•™ì› ì¼ì •ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
  } finally {
    setIsLoadingAcademy(false);
  }
}, [studentId]);
```

#### ì œì™¸ì¼ ë¶ˆëŸ¬ì˜¤ê¸° ë¡œì§

**ìœ„ì¹˜**: `Step2TimeSettings.tsx` (374-409ì¤„)

**íë¦„**:

1. "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­
2. `syncTimeManagementExclusionsAction` í˜¸ì¶œ (ê¸°ê°„ í•„í„°ë§)
3. í•™ìƒì˜ ì œì™¸ì¼ ì¡°íšŒ
4. `AdminExclusionImportModal` ëª¨ë‹¬ ì—´ë¦¼
5. ê´€ë¦¬ìê°€ ì²´í¬ë°•ìŠ¤ë¡œ ì„ íƒ
6. "ì„ íƒ í•­ëª© ë“±ë¡" ë²„íŠ¼ìœ¼ë¡œ ë°˜ì˜

**ì£¼ìš” ê¸°ëŠ¥**:

- í”Œëœ ê¸°ê°„ ë‚´ ì œì™¸ì¼ë§Œ í•„í„°ë§
- ë‚ ì§œë³„ ì •ë ¬
- ì´ë¯¸ ë“±ë¡ëœ í•­ëª©ì€ ë¹„í™œì„±í™”
- ì „ì²´ ì„ íƒ/í•´ì œ ê¸°ëŠ¥

```typescript
// Step2TimeSettings.tsx
const handleOpenExclusionImportModal = useCallback(async () => {
  if (!periodStart || !periodEnd) {
    toast.showError("í•™ìŠµ ê¸°ê°„ì„ ë¨¼ì € ì„¤ì •í•´ì£¼ì„¸ìš”.");
    return;
  }

  setIsLoadingExclusion(true);
  try {
    const result = await syncTimeManagementExclusionsAction(
      null,
      periodStart,
      periodEnd,
      studentId
    );
    if (!result.exclusions || result.exclusions.length === 0) {
      toast.showInfo("í•´ë‹¹ ê¸°ê°„ ë‚´ ë“±ë¡ëœ ì œì™¸ì¼ì´ ì—†ìŠµë‹ˆë‹¤.");
      return;
    }

    const convertedExclusions: ExclusionSchedule[] = result.exclusions.map(
      (e) => ({
        exclusion_date: e.exclusion_date,
        exclusion_type: mapExclusionType(e.exclusion_type),
        reason: e.reason,
        source: "imported" as const,
      })
    );

    setAvailableExclusions(convertedExclusions);
    setIsExclusionImportModalOpen(true);
  } catch (error) {
    toast.showError("ì œì™¸ì¼ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
  } finally {
    setIsLoadingExclusion(false);
  }
}, [studentId, periodStart, periodEnd]);
```

### Import ëª¨ë‹¬ ì»´í¬ë„ŒíŠ¸

#### AdminAcademyScheduleImportModal

**ìœ„ì¹˜**: `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/modals/AdminAcademyScheduleImportModal.tsx`

**ì£¼ìš” ê¸°ëŠ¥**:

- í•™ì›ë³„ ê·¸ë£¹í™” í‘œì‹œ
- ìš”ì¼ë³„ ì¼ì • ëª©ë¡
- ê²¹ì¹˜ëŠ” ì‹œê°„ëŒ€ ê²½ê³ 
- ì²´í¬ë°•ìŠ¤ ë‹¤ì¤‘ ì„ íƒ
- ì „ì²´ ì„ íƒ/í•´ì œ

#### AdminExclusionImportModal

**ìœ„ì¹˜**: `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/modals/AdminExclusionImportModal.tsx`

**ì£¼ìš” ê¸°ëŠ¥**:

- í”Œëœ ê¸°ê°„ ë‚´ ì œì™¸ì¼ í•„í„°ë§
- ë‚ ì§œë³„ ì •ë ¬
- ì œì™¸ì¼ ìœ í˜•ë³„ ìƒ‰ìƒ êµ¬ë¶„
- ì²´í¬ë°•ìŠ¤ ë‹¤ì¤‘ ì„ íƒ
- ì „ì²´ ì„ íƒ/í•´ì œ

---

## í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ ê°œì„  ë°©ì•ˆ

### ëª©í‘œ

í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì— 7ë‹¨ê³„ ìœ„ì €ë“œ Step 2ì™€ ë™ì¼í•œ "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬, ê´€ë¦¬ìê°€ í•™ìƒì˜ ë©”íƒ€ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆë„ë¡ í•œë‹¤.

### êµ¬í˜„ ë°©ì•ˆ

#### 1. í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì— ë©”íƒ€ ì •ë³´ ì„¹ì…˜ ì¶”ê°€

**ìœ„ì¹˜**: `PlannerCreationModal.tsx`

**ì¶”ê°€í•  ì„¹ì…˜**:

- í•™ì› ì¼ì • ì„¹ì…˜
- ì œì™¸ì¼ ì„¹ì…˜

**UI êµ¬ì¡°**:

```typescript
// PlannerCreationModal.tsxì— ì¶”ê°€
<section>
  <h3>í•™ì› ì¼ì •</h3>
  <div className="flex items-center justify-between">
    <label>í•™ì› ìŠ¤ì¼€ì¤„</label>
    <button
      onClick={handleOpenAcademyImportModal}
      className="inline-flex items-center gap-1 text-sm text-green-600"
    >
      <Download className="h-4 w-4" />
      ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
      {academyAvailableCount !== null && academyAvailableCount > 0 && (
        <span className="rounded-full bg-green-100 px-1.5 py-0.5 text-xs">
          {academyAvailableCount}
        </span>
      )}
    </button>
  </div>
  {/* í•™ì› ì¼ì • ëª©ë¡ í‘œì‹œ */}
  {/* ì§ì ‘ ì¶”ê°€ ë²„íŠ¼ */}
</section>

<section>
  <h3>ì œì™¸ì¼</h3>
  <div className="flex items-center justify-between">
    <label>ì œì™¸ ì¼ì •</label>
    <button
      onClick={handleOpenExclusionImportModal}
      disabled={!formData.periodStart || !formData.periodEnd}
      className="inline-flex items-center gap-1 text-sm text-green-600"
    >
      <Download className="h-4 w-4" />
      ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
      {exclusionAvailableCount !== null && exclusionAvailableCount > 0 && (
        <span className="rounded-full bg-green-100 px-1.5 py-0.5 text-xs">
          {exclusionAvailableCount}
        </span>
      )}
    </button>
  </div>
  {/* ì œì™¸ì¼ ëª©ë¡ í‘œì‹œ */}
  {/* ì§ì ‘ ì¶”ê°€ ë²„íŠ¼ */}
</section>
```

#### 2. Import ëª¨ë‹¬ ì¬ì‚¬ìš©

**ë°©ì•ˆ**: 7ë‹¨ê³„ ìœ„ì €ë“œì˜ Import ëª¨ë‹¬ì„ ì¬ì‚¬ìš©

**ì¥ì **:

- ì½”ë“œ ì¤‘ë³µ ë°©ì§€
- ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜
- ìœ ì§€ë³´ìˆ˜ ìš©ì´

**êµ¬í˜„**:

```typescript
// PlannerCreationModal.tsx
import { AdminAcademyScheduleImportModal } from "../admin-wizard/modals/AdminAcademyScheduleImportModal";
import { AdminExclusionImportModal } from "../admin-wizard/modals/AdminExclusionImportModal";
import { syncTimeManagementAcademySchedulesAction } from "@/lib/domains/plan/actions/plan-groups/academy";
import { syncTimeManagementExclusionsAction } from "@/lib/domains/plan/actions/plan-groups/exclusions";

// ìƒíƒœ ì¶”ê°€
const [isAcademyImportModalOpen, setIsAcademyImportModalOpen] = useState(false);
const [isExclusionImportModalOpen, setIsExclusionImportModalOpen] =
  useState(false);
const [availableAcademySchedules, setAvailableAcademySchedules] = useState<
  AcademySchedule[]
>([]);
const [availableExclusions, setAvailableExclusions] = useState<
  ExclusionSchedule[]
>([]);
const [academySchedules, setAcademySchedules] = useState<AcademySchedule[]>([]);
const [exclusions, setExclusions] = useState<ExclusionSchedule[]>([]);

// ë¶ˆëŸ¬ì˜¤ê¸° í•¸ë“¤ëŸ¬ (Step 2ì™€ ë™ì¼í•œ ë¡œì§)
const handleOpenAcademyImportModal = async () => {
  // Step 2ì˜ handleOpenAcademyImportModalê³¼ ë™ì¼í•œ ë¡œì§
};

const handleOpenExclusionImportModal = async () => {
  // Step 2ì˜ handleOpenExclusionImportModalê³¼ ë™ì¼í•œ ë¡œì§
};

// Import í•¸ë“¤ëŸ¬
const handleImportAcademySchedules = (selectedSchedules: AcademySchedule[]) => {
  setAcademySchedules([...academySchedules, ...selectedSchedules]);
};

const handleImportExclusions = (selectedExclusions: ExclusionSchedule[]) => {
  setExclusions([...exclusions, ...selectedExclusions]);
};
```

#### 3. í”Œë˜ë„ˆ ì €ì¥ ì‹œ ë©”íƒ€ ì •ë³´ í¬í•¨

**ìœ„ì¹˜**: `PlannerCreationModal.tsx`ì˜ `handleSubmit`

**ìˆ˜ì • ë‚´ìš©**:

```typescript
const handleSubmit = async () => {
  const createInput: CreatePlannerInput = {
    studentId,
    name: formData.name.trim(),
    periodStart: formData.periodStart,
    periodEnd: formData.periodEnd,
    // ... ê¸°ì¡´ í•„ë“œ

    // NEW: ê´€ë¦¬ìê°€ ì„ íƒí•œ ë©”íƒ€ ì •ë³´ í¬í•¨
    academySchedules:
      academySchedules.length > 0
        ? academySchedules.map((s) => ({
            dayOfWeek: s.day_of_week,
            startTime: s.start_time,
            endTime: s.end_time,
            academyName: s.academy_name,
            subject: s.subject,
            travelTime: s.travel_time,
            source: "imported" as const,
          }))
        : undefined,

    exclusions:
      exclusions.length > 0
        ? exclusions.map((e) => ({
            exclusionDate: e.exclusion_date,
            exclusionType: mapExclusionTypeToPlanner(e.exclusion_type),
            reason: e.reason,
            source: "imported" as const,
          }))
        : undefined,
  };

  result = await createPlannerAction(createInput);
};
```

---

## í”Œëœ ìƒì„± ë‹¨ê³„ ì²´ê³„í™” ë°©ì•ˆ

### ëª©í‘œ ì›Œí¬í”Œë¡œìš°

```
1. í”Œë˜ë„ˆ ìƒì„± (ìµœìš°ì„ )
   â”œâ”€â”€ ê¸°ë³¸ ì •ë³´ ì…ë ¥
   â”œâ”€â”€ ì‹œê°„ ì„¤ì •
   â”œâ”€â”€ ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜ (NEW)
   â”‚   â”œâ”€â”€ "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" (í•™ì› ì¼ì •)
   â”‚   â”œâ”€â”€ "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" (ì œì™¸ì¼)
   â”‚   â””â”€â”€ ê´€ë¦¬ìê°€ í™•ì¸ í›„ ì„ íƒì ìœ¼ë¡œ ë°˜ì˜
   â””â”€â”€ í”Œë˜ë„ˆ ì €ì¥

2. ê°ì¢… í”Œëœ ì¶”ê°€
   â”œâ”€â”€ í”Œëœ ê·¸ë£¹ ìƒì„± (7ë‹¨ê³„ ìœ„ì €ë“œ)
   â”‚   â””â”€â”€ Step 2ì—ì„œ ì´ë¯¸ ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜ ê¸°ëŠ¥ ìˆìŒ
   â”œâ”€â”€ ì½˜í…ì¸  ì¶”ê°€ (flexible_contents)
   â”œâ”€â”€ ì¼íšŒì„± í”Œëœ ì¶”ê°€ (ad_hoc_plans)
   â””â”€â”€ ë‹¨ë°œì„± í”Œëœ ì¶”ê°€
```

### ê°œì„  ë°©ì•ˆ

#### 1. í”Œë˜ë„ˆ ìš°ì„ ìˆœìœ„ ê°•ì œ

**êµ¬í˜„ ìœ„ì¹˜**: `AdminPlanManagement.tsx` (í”Œëœ ê´€ë¦¬ í˜ì´ì§€)

**ë¡œì§**:

1. í”Œëœ ìƒì„± ë²„íŠ¼ í´ë¦­ ì‹œ í™œì„± í”Œë˜ë„ˆ í™•ì¸
2. í™œì„± í”Œë˜ë„ˆê°€ ì—†ìœ¼ë©´ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ ë¨¼ì € í‘œì‹œ
3. í”Œë˜ë„ˆ ìƒì„± ì™„ë£Œ í›„ í”Œëœ ìƒì„± ìœ„ì €ë“œë¡œ ì´ë™

```typescript
// AdminPlanManagement.tsxì— ì¶”ê°€
const handleCreatePlanGroup = () => {
  // í™œì„± í”Œë˜ë„ˆ í™•ì¸
  const activePlanner = planners.find((p) => p.status === "active");

  if (!activePlanner) {
    // í”Œë˜ë„ˆê°€ ì—†ìœ¼ë©´ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ ë¨¼ì € í‘œì‹œ
    setShowPlannerCreationModal(true);
    setAfterPlannerCreation(() => () => {
      // í”Œë˜ë„ˆ ìƒì„± ì™„ë£Œ í›„ í”Œëœ ìƒì„± ìœ„ì €ë“œ ì—´ê¸°
      setShowPlanCreationWizard(true);
    });
  } else {
    // í”Œë˜ë„ˆê°€ ìˆìœ¼ë©´ ë°”ë¡œ í”Œëœ ìƒì„± ìœ„ì €ë“œ ì—´ê¸°
    setShowPlanCreationWizard(true);
  }
};
```

#### 2. UI/UX ê°œì„ 

**í”Œëœ ê´€ë¦¬ í˜ì´ì§€ ê°œì„ **:

```
[í”Œë˜ë„ˆ ê´€ë¦¬] â† ìµœìš°ì„ 
  â””â”€â”€ [ìƒˆ í”Œë˜ë„ˆ] (í™œì„± í”Œë˜ë„ˆê°€ ì—†ìœ¼ë©´ ê°•ì¡°)

[í”Œëœ ìƒì„±]
  â”œâ”€â”€ [í”Œëœ ê·¸ë£¹] (í™œì„± í”Œë˜ë„ˆê°€ ìˆì–´ì•¼ í™œì„±í™”)
  â”œâ”€â”€ [AI ìƒì„±]
  â”œâ”€â”€ [ì½˜í…ì¸  ì¶”ê°€]
  â””â”€â”€ [ì¼íšŒì„± ì¶”ê°€]
```

---

## êµ¬í˜„ ê³„íš

### Phase 1: í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì— ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜ ê¸°ëŠ¥ ì¶”ê°€ (ìš°ì„ ìˆœìœ„: ë†’ìŒ)

**ì‘ì—… ë‚´ìš©**:

1. `PlannerCreationModal.tsx`ì— í•™ì› ì¼ì •/ì œì™¸ì¼ ì„¹ì…˜ ì¶”ê°€
2. "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ ì¶”ê°€
3. Import ëª¨ë‹¬ ì¬ì‚¬ìš© (7ë‹¨ê³„ ìœ„ì €ë“œì˜ ëª¨ë‹¬)
4. í”Œë˜ë„ˆ ì €ì¥ ì‹œ ë©”íƒ€ ì •ë³´ í¬í•¨

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 6ì‹œê°„

**íŒŒì¼**:

- `app/(admin)/admin/students/[id]/plans/_components/PlannerCreationModal.tsx`
- `lib/domains/admin-plan/actions/planners.ts` (í•„ìš” ì‹œ íƒ€ì… ìˆ˜ì •)

### Phase 2: í”Œë˜ë„ˆ ìš°ì„ ìˆœìœ„ ê°•ì œ (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)

**ì‘ì—… ë‚´ìš©**:

1. `AdminPlanManagement.tsx`ì— í”Œë˜ë„ˆ í™•ì¸ ë¡œì§ ì¶”ê°€
2. í”Œë˜ë„ˆ ì—†ìœ¼ë©´ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ ë¨¼ì € í‘œì‹œ
3. í”Œë˜ë„ˆ ìƒì„± ì™„ë£Œ í›„ í”Œëœ ìƒì„± ìœ„ì €ë“œë¡œ ì´ë™

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 3ì‹œê°„

**íŒŒì¼**:

- `app/(admin)/admin/students/[id]/plans/_components/AdminPlanManagement.tsx`

### Phase 3: UI/UX ê°œì„  (ìš°ì„ ìˆœìœ„: ì¤‘ê°„)

**ì‘ì—… ë‚´ìš©**:

1. í”Œëœ ê´€ë¦¬ í˜ì´ì§€ UI ê°œì„  (í”Œë˜ë„ˆ ìš°ì„ ìˆœìœ„ ê°•ì¡°)
2. í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ UI ê°œì„  (ë©”íƒ€ ì •ë³´ ì„¹ì…˜ ì¶”ê°€)
3. ì‚¬ìš©ì ê°€ì´ë“œ ì¶”ê°€

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 3ì‹œê°„

**íŒŒì¼**:

- `app/(admin)/admin/students/[id]/plans/_components/AdminPlanManagement.tsx`
- `app/(admin)/admin/students/[id]/plans/_components/PlannerCreationModal.tsx`

### Phase 4: í†µí•© í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œí™” (ìš°ì„ ìˆœìœ„: ë‚®ìŒ)

**ì‘ì—… ë‚´ìš©**:

1. ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸
2. ì‚¬ìš©ì ê°€ì´ë“œ ë¬¸ì„œ ì‘ì„±
3. ì½”ë“œ ë¦¬ë·° ë° ë¦¬íŒ©í† ë§

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 2ì‹œê°„

---

## ì°¸ê³  íŒŒì¼

### ì£¼ìš” ì»´í¬ë„ŒíŠ¸

- `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/AdminPlanCreationWizard7Step.tsx`
- `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/steps/Step2TimeSettings.tsx` â­ **ì°¸ê³ **
- `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/modals/AdminAcademyScheduleImportModal.tsx` â­ **ì¬ì‚¬ìš©**
- `app/(admin)/admin/students/[id]/plans/_components/admin-wizard/modals/AdminExclusionImportModal.tsx` â­ **ì¬ì‚¬ìš©**
- `app/(admin)/admin/students/[id]/plans/_components/PlannerManagement.tsx`
- `app/(admin)/admin/students/[id]/plans/_components/PlannerCreationModal.tsx` â­ **ìˆ˜ì • ëŒ€ìƒ**

### ê´€ë ¨ ì•¡ì…˜

- `lib/domains/admin-plan/actions/planners.ts` - í”Œë˜ë„ˆ ì¡°íšŒ/ìƒì„± ì•¡ì…˜
- `lib/domains/plan/actions/plan-groups/academy.ts` - í•™ì› ì¼ì • ë™ê¸°í™” ì•¡ì…˜ â­ **ì°¸ê³ **
- `lib/domains/plan/actions/plan-groups/exclusions.ts` - ì œì™¸ì¼ ë™ê¸°í™” ì•¡ì…˜ â­ **ì°¸ê³ **

### ê´€ë ¨ ë¬¸ì„œ

- `docs/2026-01-15-admin-planner-wizard-analysis-and-improvements.md` - ê¸°ì¡´ ë¶„ì„ ë¬¸ì„œ
- `docs/2025-02-02-plan-creation-features-comprehensive-analysis.md` - í”Œëœ ìƒì„± ê¸°ëŠ¥ í†µí•© ë¶„ì„

---

## ê²°ë¡ 

ê´€ë¦¬ì ì˜ì—­ í”Œë˜ë„ˆ ìƒì„± ìœ„ì €ë“œì˜ í•µì‹¬ ê°œì„  ì‚¬í•­:

1. **í”Œë˜ë„ˆ ìƒì„±ì´ ìµœìš°ì„  ìˆœìœ„**: í”Œëœ ìƒì„± ì „ì— í”Œë˜ë„ˆë¥¼ ë¨¼ì € ìƒì„±í•˜ë„ë¡ ê°•ì œ
2. **ë©”íƒ€ ì •ë³´ ì„ íƒì  ë°˜ì˜**: í”Œë˜ë„ˆ ìƒì„± ì‹œ í•™ìƒì˜ ì œì™¸ì¼/í•™ì›ì¼ì •ì„ **ìë™ ë°˜ì˜í•˜ì§€ ì•Šê³ **, ê´€ë¦¬ìê°€ **í™•ì¸ í›„ ì„ íƒì ìœ¼ë¡œ ë°˜ì˜**í•  ìˆ˜ ìˆë„ë¡ í•¨
3. **7ë‹¨ê³„ ìœ„ì €ë“œ ë¡œì§ ì¬ì‚¬ìš©**: Step 2ì— ì´ë¯¸ êµ¬í˜„ëœ "ì‹œê°„ ê´€ë¦¬ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°" ë¡œì§ê³¼ Import ëª¨ë‹¬ì„ í”Œë˜ë„ˆ ìƒì„± ëª¨ë‹¬ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©
4. **ë°˜ì˜ í›„ ìˆ˜ì • ê°€ëŠ¥**: ë°˜ì˜ëœ ë©”íƒ€ ì •ë³´ëŠ” ì¶”ê°€ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥

ìœ„ ê°œì„  ë°©í–¥ì„ ë”°ë¼ ë‹¨ê³„ì ìœ¼ë¡œ êµ¬í˜„í•˜ë©´ ì‚¬ìš©ì ê²½í—˜ì´ í¬ê²Œ ê°œì„ ë˜ê³ , ê´€ë¦¬ìê°€ í•™ìƒì˜ ë©”íƒ€ ì •ë³´ë¥¼ ì•ˆì „í•˜ê²Œ í™•ì¸í•˜ê³  ì„ íƒì ìœ¼ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
