# 학생 검색 기능 Phase 4 수동 테스트 체크리스트

## 테스트 일자
- [ ] 날짜: _______________
- [ ] 테스터: _______________
- [ ] 환경: 개발 / 스테이징 / 프로덕션

## 사전 준비

### 개발 서버 실행
- [ ] `npm run dev` 실행 확인
- [ ] 서버가 정상적으로 시작되었는지 확인 (http://localhost:3000)

### 테스트 데이터 준비
- [ ] 최소 5-10명의 학생 데이터 존재
- [ ] 다양한 이름의 학생 (예: 홍길동, 김철수, 이영희 등)
- [ ] 다양한 연락처를 가진 학생
- [ ] 다양한 학년, 반의 학생

### 로그인
- [ ] 관리자 계정으로 로그인 완료
- [ ] 세션 쿠키 확인 가능

---

## 1. 학생 관리 페이지 테스트 (`/admin/students`)

### 1-1. 이름 검색
- [ ] 검색창에 "홍길동" 입력
- [ ] 검색 실행
- [ ] 이름에 "홍길동"이 포함된 학생 목록 표시됨
- [ ] 검색 결과에 연락처 정보 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 1-2. 연락처 검색 (4자리)
- [ ] 검색창에 "0101" 입력 (학생의 연락처에 포함된 4자리 숫자)
- [ ] 검색 실행
- [ ] 연락처에 "0101"이 포함된 학생 목록 표시됨
- [ ] 매칭된 연락처 필드 표시됨 (학생/어머니/아버지)

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 1-3. 부분 이름 검색
- [ ] 검색창에 "홍" 입력
- [ ] 검색 실행
- [ ] 이름에 "홍"이 포함된 학생 목록 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 1-4. 필터링 + 검색
- [ ] 학년 필터: "1" 선택
- [ ] 검색창에 "홍" 입력
- [ ] 검색 실행
- [ ] 1학년이면서 이름에 "홍"이 포함된 학생만 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 2. SMS 단일 발송 검색 테스트 (`/admin/sms`)

### 2-1. 이름 검색
- [ ] SMS 발송 페이지 접속
- [ ] 단일 발송 탭 선택
- [ ] 수신자 검색창에 "홍길동" 입력
- [ ] 검색 버튼 클릭
- [ ] "검색 중..." 표시됨
- [ ] 이름에 "홍길동"이 포함된 학생 목록 표시됨
- [ ] 각 학생의 연락처 정보 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 2-2. 연락처 검색
- [ ] 수신자 검색창에 "0101" 입력
- [ ] 검색 버튼 클릭
- [ ] 연락처에 "0101"이 포함된 학생 목록 표시됨
- [ ] 매칭된 연락처 필드 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 2-3. 검색 타입 자동 감지
- [ ] 수신자 검색창에 "01012345678" 입력
- [ ] 검색 버튼 클릭
- [ ] 연락처 검색으로 자동 감지되어 연락처로 검색됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 3. 출석 관리 페이지 검색 테스트 (`/admin/attendance`)

### 3-1. 학생명 검색
- [ ] 출석 관리 페이지 접속
- [ ] 학생명 필터에 "홍길동" 입력
- [ ] 검색 실행
- [ ] 홍길동 학생의 출석 기록만 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 3-2. 연락처 검색
- [ ] 학생명 필터에 "0101" 입력
- [ ] 검색 실행
- [ ] 연락처에 "0101"이 포함된 학생의 출석 기록 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 4. 상담 노트 페이지 검색 테스트 (`/admin/consulting`)

### 4-1. 학생명 검색
- [ ] 상담 노트 페이지 접속
- [ ] 검색창에 "홍길동" 입력
- [ ] 홍길동 학생의 상담 노트만 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 4-2. 연락처 검색
- [ ] 검색창에 "0101" 입력
- [ ] 연락처에 "0101"이 포함된 학생의 상담 노트 표시됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 5. API 엔드포인트 직접 테스트

### 5-1. 기본 검색 API
**요청:**
```bash
curl -X GET "http://localhost:3000/api/students/search?q=홍길동" \
  -H "Cookie: your-session-cookie"
```

- [ ] 요청 성공 (200 OK)
- [ ] 응답 형식 올바름 (`success: true`, `data.students` 배열)
- [ ] 검색 결과 포함됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 5-2. 연락처 검색 API
**요청:**
```bash
curl -X GET "http://localhost:3000/api/students/search?q=0101&type=phone" \
  -H "Cookie: your-session-cookie"
```

- [ ] 요청 성공 (200 OK)
- [ ] 연락처 검색 결과 포함됨
- [ ] `matched_field` 필드 포함됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 5-3. 필터링 API
**요청:**
```bash
curl -X GET "http://localhost:3000/api/students/search?q=홍&grade=1&class=1" \
  -H "Cookie: your-session-cookie"
```

- [ ] 요청 성공 (200 OK)
- [ ] 모든 결과가 1학년 1반인 학생만 포함됨

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 5-4. 권한 테스트
**요청 (인증 없음):**
```bash
curl -X GET "http://localhost:3000/api/students/search?q=홍길동"
```

- [ ] 401 Unauthorized 응답

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 6. 검색 타입 자동 감지 테스트

### 6-1. 숫자만 4자리 이상
- [ ] "0101" 입력 → 연락처 검색으로 자동 감지
- [ ] "1234" 입력 → 연락처 검색으로 자동 감지

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 6-2. 한글 포함
- [ ] "홍길동" 입력 → 이름 검색으로 자동 감지
- [ ] "김철수" 입력 → 이름 검색으로 자동 감지

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 6-3. 숫자 + 한글
- [ ] "홍길동0101" 입력 → 전체 검색으로 자동 감지
- [ ] "0101홍길동" 입력 → 전체 검색으로 자동 감지

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 7. 성능 테스트

### 7-1. 검색 응답 시간
- [ ] 일반적인 검색 (10명 이하 결과) < 1초
- [ ] 대량 검색 (100명 이상 결과) < 3초

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 7-2. 페이지네이션
- [ ] 첫 페이지 조회 정상
- [ ] 두 번째 페이지 조회 정상
- [ ] 페이지 간 중복 없음

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 8. 에러 처리 테스트

### 8-1. 빈 검색어
- [ ] 빈 검색어 입력 시 적절한 처리 (에러 또는 빈 결과)

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

### 8-2. 검색 결과 없음
- [ ] 존재하지 않는 이름 검색 시 빈 결과 표시

**결과**: ✅ 통과 / ❌ 실패
**비고**: _________________________________

---

## 테스트 결과 요약

### 통과한 테스트
- 총 ___ 개 중 ___ 개 통과

### 실패한 테스트
- 총 ___ 개 중 ___ 개 실패

### 발견된 문제
1. _________________________________
2. _________________________________
3. _________________________________

### 개선 사항
1. _________________________________
2. _________________________________
3. _________________________________

---

## 참고 파일
- `docs/student-search-phase4-testing-guide.md` - 상세 테스트 가이드
- `docs/student-search-unified-phase4-refactoring.md` - Phase 4 리팩토링 문서
- `scripts/test-student-search-api.ts` - API 테스트 스크립트

