# 캠프 5~6단계 로직 재구성

## 개요

5단계(추천 콘텐츠)와 6단계(최종 확인)의 로직을 재구성하여 사용자 경험을 개선했습니다.

## 변경 사항

### 1. 필수 과목 검증 로직 이동

**이전**: Step 6에서 필수 과목 검증 및 경고 표시

**변경 후**: Step 5에서 필수 과목 검증 및 안내 표시

**파일**: `app/(student)/plan/new-group/_components/Step4RecommendedContents.tsx`

- 필수 과목 검증 안내를 상단에 표시
- 실시간으로 필수 과목 충족 상태 표시 (충족/미충족)
- 각 필수 과목별 현재 개수 / 최소 개수 표시
- 미충족 시 경고 메시지 및 해결 방법 안내

**파일**: `app/(student)/plan/new-group/_components/Step6FinalReview.tsx`

- 필수 과목 경고 제거 (Step 5에서 처리)
- 주석 추가: "필수 과목 검증은 Step 4(추천 콘텐츠 선택)에서 처리"

### 2. 제약조건 검증결과 유형별 재구성

**파일**: `app/(student)/plan/new-group/_components/Step6FinalReview.tsx`

제약조건 검증결과를 4개 유형으로 분리하여 표시:

1. **전략과목/취약과목 설정** (인디고)
   - 과목별 전략/취약 분류
   - 전략과목의 주당 배정 일수
   - 해당 과목의 콘텐츠 개수

2. **필수 교과 제약 조건** (파란색)
   - 필수 교과 목록
   - 각 교과의 최소 개수 요구사항

3. **제외 교과 제약 조건** (빨간색)
   - 제외 교과 목록

4. **제약 조건 처리 방법** (회색)
   - 엄격 모드 / 경고 모드 / 자동 보완 모드
   - 각 모드별 설명

### 3. UI 개선

- 각 유형별로 아이콘과 색상 구분
- Step 5 검증 완료 배지 추가
- 읽기 전용 표시 강화
- 가독성 향상을 위한 카드 레이아웃 개선

## 역할 분담

### Step 5 (추천 콘텐츠 선택)

- 추천 콘텐츠 선택
- 필수 과목 검증 및 안내
- 취약과목/전략과목 설정 (캠프 모드)
- 제약 조건 검증 수행

### Step 6 (최종 확인 및 조정)

- 학습 분량 조절
- 제약 조건 검증 결과 확인 (읽기 전용)
- 스케줄 기반 추천 범위 확인
- 전체 학습량 비교

## 검증 시점

### Step 5 검증

- 필수 과목 최소 개수 충족 여부
- 제약 조건 검증 (subject_allocations, subject_constraints)
- 검증 통과 시 다음 단계로 진행 가능

### Step 6 검증

- 최소 1개 이상의 콘텐츠 필요
- 학습 분량 범위 검증 (start_range < end_range, 범위 >= 0)
- 제약 조건은 Step 5에서 검증 완료된 상태로 표시

## 사용자 경험 개선

1. **필수 과목 검증을 Step 5에서 처리**
   - 추천 콘텐츠 선택 단계에서 즉시 확인 가능
   - 미충족 시 추천 콘텐츠에서 바로 추가 가능

2. **제약 조건 검증 결과를 유형별로 표시**
   - 각 유형별로 색상과 아이콘으로 구분
   - 정보 파악이 쉬워짐

3. **Step 6은 학습 분량 조절에 집중**
   - 제약 조건은 읽기 전용으로 표시
   - 사용자가 학습 분량에만 집중할 수 있음

