# 캠프 학습 관리 메타 정보 표시 개선

**작성일**: 2025-12-22  
**작업자**: AI Assistant

---

## 📋 작업 개요

캠프 학습 관리 다이얼로그(`DatePlanDetailDialog`)의 메타 정보 표시 방식을 개선하여, 캠프 캘린더, 플랜 캘린더, 학습 관리 기능들과 일관된 구조화된 표시 방식을 적용했습니다.

---

## 🎯 문제점

기존 `DatePlanDetailDialog`에서 메타 정보가 grid 형식으로 표시되어 있었지만, 사용자가 제공한 HTML을 보면 메타 정보가 한 줄로 표시되는 문제가 있었습니다:

```html
<DialogContent className="max-h-[80vh] overflow-y-auto">
  조현우 미시작 콘텐츠 유형 강의 콘텐츠명 - 과목 - 계획 범위 2강 완료 범위 - 진행률 0% 학습 시간 0분
</DialogContent>
```

---

## ✅ 개선 사항

### 1. 참고 컴포넌트 분석

다음 컴포넌트들의 메타 정보 표시 방식을 참고했습니다:

- **`CalendarPlanCard`** (`app/(student)/plan/calendar/_components/CalendarPlanCard.tsx`)
  - 상태 뱃지 + 시간 표기 + 교과 과목
  - 교재명(또는 강의명) 회차
  - 학습 범위
  - 진행률 (ProgressBar 포함)

- **`PlanGroupCard`** (`app/(student)/today/_components/PlanGroupCard.tsx`)
  - 구조화된 메타 정보 표시
  - 진행률 ProgressBar 사용

### 2. 메타 정보 표시 구조 개선

기존 grid 형식에서 구조화된 세로 레이아웃으로 변경:

#### 개선 전
- Grid 형식 (2열)
- 단순 텍스트 표시
- 진행률이 텍스트로만 표시

#### 개선 후
- 구조화된 세로 레이아웃
- 콘텐츠 유형 아이콘 추가
- 진행률 ProgressBar 시각화
- 상태별 색상 구분 (완료/진행중/미시작)

### 3. 주요 변경 사항

#### 파일: `app/(admin)/admin/camp-templates/[id]/learning/_components/DatePlanDetailDialog.tsx`

**추가된 import:**
```typescript
import { ProgressBar } from "@/components/atoms/ProgressBar";
import { getContentTypeLabel, getContentTypeIcon } from "@/app/(student)/plan/_shared/utils/contentTypeUtils";
import { cn } from "@/lib/cn";
```

**메타 정보 표시 구조:**

1. **학생 이름 및 상태** (기존 유지)
   - 학생 이름
   - 상태 배지

2. **콘텐츠 정보 섹션** (새로 구조화)
   - **1행**: 콘텐츠 유형 아이콘 + 콘텐츠 유형 라벨 + 과목
   - **2행**: 콘텐츠명 (제목)
   - **3행**: 계획 범위 및 완료 범위
   - **4행**: 진행률 (ProgressBar 포함)
   - **5행**: 학습 시간

3. **상태별 색상 구분**
   - 완료: 초록색 테두리 및 배경
   - 진행중: 파란색 테두리 및 배경
   - 미시작: 기본 회색 테두리 및 배경

---

## 📊 개선 효과

### 시각적 개선
- ✅ 메타 정보가 구조화되어 가독성 향상
- ✅ 콘텐츠 유형 아이콘으로 시각적 구분 명확
- ✅ 진행률 ProgressBar로 진행 상황 직관적 표시
- ✅ 상태별 색상 구분으로 상태 파악 용이

### 일관성 확보
- ✅ 캠프 캘린더, 플랜 캘린더와 동일한 표시 패턴 적용
- ✅ 학습 관리 기능과 일관된 UI/UX 제공

---

## 🔍 변경된 코드 구조

### 메타 정보 표시 레이아웃

```typescript
<div className="flex flex-col gap-4">
  {/* 학생 이름 및 상태 */}
  <div className="flex items-center justify-between">
    <h4>{plan.student_name}</h4>
    <Badge>{STATUS_LABELS[plan.status]}</Badge>
  </div>

  {/* 콘텐츠 정보 섹션 */}
  <div className="flex flex-col gap-3">
    {/* 1행: 콘텐츠 유형 + 과목 */}
    <div className="flex items-center gap-2">
      <ContentTypeIcon />
      <span>{getContentTypeLabel(plan.content_type)}</span>
      {plan.content_subject && <span>{plan.content_subject}</span>}
    </div>

    {/* 2행: 콘텐츠명 */}
    <h5>{plan.content_title}</h5>

    {/* 3행: 계획 범위 및 완료 범위 */}
    <div className="flex flex-col gap-2 sm:flex-row">
      <span>계획 범위: {plan.planned_range}</span>
      <span>완료 범위: {plan.completed_amount}</span>
    </div>

    {/* 4행: 진행률 */}
    <div className="flex flex-col gap-2">
      <div className="flex items-center justify-between">
        <span>진행률</span>
        <span>{plan.progress}%</span>
      </div>
      <ProgressBar value={progressValue} />
    </div>

    {/* 5행: 학습 시간 */}
    <div className="flex items-center gap-2">
      <span>학습 시간: {formatStudyTime(plan.study_minutes)}</span>
    </div>
  </div>
</div>
```

---

## 📝 참고 사항

### 사용된 컴포넌트
- `ProgressBar`: 진행률 시각화
- `Badge`: 상태 표시
- `getContentTypeIcon`: 콘텐츠 유형 아이콘
- `getContentTypeLabel`: 콘텐츠 유형 라벨

### 반응형 디자인
- 모바일: 세로 레이아웃
- 데스크톱: 가로 레이아웃 (계획 범위 및 완료 범위)

---

## ✅ 체크리스트

- [x] DatePlanDetailDialog 메타 정보 표시 구조 개선
- [x] 참고 컴포넌트 분석 및 패턴 적용
- [x] ProgressBar 컴포넌트 통합
- [x] 상태별 색상 구분 적용
- [x] 반응형 디자인 적용
- [x] Lint 에러 확인 및 수정

---

## 🚀 향후 개선 사항

1. 다른 학습 관리 다이얼로그에도 동일한 패턴 적용 검토
2. 메타 정보 표시 컴포넌트 공통화 고려
3. 접근성 개선 (ARIA 속성 추가)

---

**작업 완료**: 2025-12-22




