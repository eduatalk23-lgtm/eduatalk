# í”Œëœ ê·¸ë£¹ ìœ„ì €ë“œ êµ¬í˜„ ê°€ì´ë“œ

> í”Œëœ ê·¸ë£¹ ìœ„ì €ë“œì˜ êµ¬í˜„, ê°œì„  ì œì•ˆ, íë¦„ ë¶„ì„, ì¤‘ë³µì„± ë¶„ì„ì„ í†µí•©í•œ ì¢…í•© ê°€ì´ë“œ ë¬¸ì„œì…ë‹ˆë‹¤.

**ì‘ì„±ì¼**: 2025-01-31  
**ë²„ì „**: 1.0

---

## ğŸ“‹ ëª©ì°¨

1. [ê°œìš”](#ê°œìš”)
2. [êµ¬í˜„ ì™„ë£Œ ì‚¬í•­](#êµ¬í˜„-ì™„ë£Œ-ì‚¬í•­)
3. [ìœ„ì €ë“œ íë¦„ ë¶„ì„](#ìœ„ì €ë“œ-íë¦„-ë¶„ì„)
4. [ê°œì„  ì œì•ˆ](#ê°œì„ -ì œì•ˆ)
5. [ì¤‘ë³µì„± ë¶„ì„](#ì¤‘ë³µì„±-ë¶„ì„)
6. [UI ìµœì í™”](#ui-ìµœì í™”)

---

## ê°œìš”

í”Œëœ ê·¸ë£¹ ìœ„ì €ë“œëŠ” 7ë‹¨ê³„ë¡œ êµ¬ì„±ëœ ë§ˆë²•ì‚¬ ì¸í„°í˜ì´ìŠ¤ë¡œ, ì‚¬ìš©ìê°€ ë‹¨ê³„ë³„ë¡œ í”Œëœ ê·¸ë£¹ì„ ìƒì„±í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥
- ë‹¨ê³„ë³„ ì…ë ¥ ë° ê²€ì¦
- Draft ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸°
- í”Œëœ ìƒì„± ë° í™œì„±í™”
- í¸ì§‘ ëª¨ë“œ ì§€ì›

### êµ¬ì¡°
```
new-group/
â”œâ”€â”€ page.tsx                    # ìƒˆ ê·¸ë£¹ ìƒì„± í˜ì´ì§€
â””â”€â”€ _components/
    â”œâ”€â”€ PlanGroupWizard.tsx      # ë©”ì¸ Wizard ì»´í¬ë„ŒíŠ¸ (7ë‹¨ê³„)
    â”œâ”€â”€ Step1BasicInfo.tsx       # Step 1: ê¸°ë³¸ ì •ë³´ ì…ë ¥
    â”œâ”€â”€ Step2BlocksAndExclusions.tsx  # Step 2: ë¸”ë¡ ë° ì œì™¸ì¼ ì„¤ì •
    â”œâ”€â”€ Step2_5SchedulePreview.tsx     # Step 2.5: ìŠ¤ì¼€ì¤„ ë¯¸ë¦¬ë³´ê¸°
    â”œâ”€â”€ Step3Contents.tsx        # Step 3: í•™ìƒ ì½˜í…ì¸  ì„ íƒ
    â”œâ”€â”€ Step4RecommendedContents.tsx   # Step 4: ì¶”ì²œ ì½˜í…ì¸  ì„ íƒ
    â”œâ”€â”€ Step6FinalReview.tsx     # Step 6: ìµœì¢… ê²€í† 
    â””â”€â”€ Step7ScheduleResult.tsx  # Step 7: ìŠ¤ì¼€ì¤„ ê²°ê³¼ ë° í”Œëœ ìƒì„±
```

---

## êµ¬í˜„ ì™„ë£Œ ì‚¬í•­

### Phase 1: ì•ˆì •ì„± ê°•í™” (2025-01-13 ì™„ë£Œ)

#### 1. ì—ëŸ¬ í•¸ë“¤ë§ ì²´ê³„í™” âœ…

**ìƒì„±ëœ íŒŒì¼:**
- `lib/errors/planGroupErrors.ts`

**ì£¼ìš” ê¸°ëŠ¥:**
- `PlanGroupError` í´ë˜ìŠ¤: êµ¬ì¡°í™”ëœ ì—ëŸ¬ ì²˜ë¦¬
- ì—ëŸ¬ ì½”ë“œ ìƒìˆ˜ ì •ì˜ (20ê°œ ì´ìƒ)
- ì‚¬ìš©ì ì¹œí™”ì  ì—ëŸ¬ ë©”ì‹œì§€ ë§¤í•‘
- `toPlanGroupError()` í—¬í¼ í•¨ìˆ˜: ëª¨ë“  ì—ëŸ¬ë¥¼ PlanGroupErrorë¡œ ë³€í™˜
- `isRecoverableError()` í—¬í¼ í•¨ìˆ˜: ë³µêµ¬ ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸

**ì ìš© ìœ„ì¹˜:**
- âœ… `PlanGroupWizard.tsx` - ëª¨ë“  ì•¡ì…˜ í˜¸ì¶œë¶€
- âœ… `Step2_5SchedulePreview.tsx` - ìŠ¤ì¼€ì¤„ ê³„ì‚° ì‹¤íŒ¨ ì²˜ë¦¬
- âœ… `Step3Contents.tsx` - ì½˜í…ì¸  ì¡°íšŒ ì‹¤íŒ¨ ì²˜ë¦¬
- âœ… `Step4RecommendedContents.tsx` - ì¶”ì²œ ì½˜í…ì¸  ì¡°íšŒ ì‹¤íŒ¨ ì²˜ë¦¬
- âœ… `Step6FinalReview.tsx` - ë©”íƒ€ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨ ì²˜ë¦¬
- âœ… `Step1BasicInfo.tsx` - ë¸”ë¡ ì¶”ê°€ ì‹¤íŒ¨ ì²˜ë¦¬

#### 2. ë°ì´í„° ì¼ê´€ì„± ë³´ì¥ âœ…

**ìƒì„±ëœ íŒŒì¼:**
- `lib/utils/planGroupDataSync.ts`

**ì£¼ìš” ê¸°ëŠ¥:**
- `syncWizardDataToCreationData()`: WizardData â†’ PlanGroupCreationData ë³€í™˜
  - `study_review_cycle`ì„ `scheduler_options`ì— ë³‘í•©
  - `time_settings`ë¥¼ `scheduler_options`ì— ë³‘í•©
  - `daily_schedule` ìœ íš¨ì„± ê²€ì¦ ë° í•„í„°ë§
  - ì¤‘ë³µ ì½˜í…ì¸  ê²€ì¦
- `validateDataConsistency()`: ë°ì´í„° ì¼ê´€ì„± ê²€ì¦
  - ê¸°ê°„ ê²€ì¦
  - daily_scheduleê³¼ period ì¼ì¹˜ ê²€ì¦
  - study_review_cycleê³¼ scheduler_options ì¼ì¹˜ ê²€ì¦

**ì ìš© ìœ„ì¹˜:**
- âœ… `PlanGroupWizard.tsx` - `handleSaveDraft`, `handleSubmit`

#### 3. ê²€ì¦ ë¡œì§ í†µí•© âœ…

**ìƒì„±ëœ íŒŒì¼:**
- `lib/validation/wizardValidator.ts`

**ì£¼ìš” ê¸°ëŠ¥:**
- `WizardValidator` í´ë˜ìŠ¤: ë‹¨ê³„ë³„ ê²€ì¦ í†µí•©
  - `validateStep()`: íŠ¹ì • ë‹¨ê³„ ê²€ì¦
  - `validateAll()`: ì „ì²´ ê²€ì¦
- ê° Stepë³„ ê²€ì¦ ë¡œì§:
  - Step 1: ê¸°ë³¸ ì •ë³´ ê²€ì¦
  - Step 2: ë¸”ë¡ ë° ì œì™¸ì¼ ê²€ì¦
  - Step 2.5: ìŠ¤ì¼€ì¤„ í™•ì¸ ê²€ì¦
  - Step 3: í•™ìƒ ì½˜í…ì¸  ê²€ì¦
  - Step 4: ì¶”ì²œ ì½˜í…ì¸  ê²€ì¦ (í•„ìˆ˜ ê³¼ëª© ê²€ì¦ í¬í•¨)
  - Step 6: ìµœì¢… í™•ì¸ ê²€ì¦ (1730 Timetable í•„ìˆ˜ í•­ëª© ê°•í™”)
  - Step 7: ê²°ê³¼ í‘œì‹œ (ê²€ì¦ ë¶ˆí•„ìš”)

**ì ìš© ìœ„ì¹˜:**
- âœ… `PlanGroupWizard.tsx` - `validateStep` í•¨ìˆ˜ ëŒ€ì²´

#### 4. íƒ€ì… ì•ˆì „ì„± ê°•í™” âœ…

**ìƒì„±ëœ íŒŒì¼:**
- `lib/types/wizard.ts`

**ì£¼ìš” ê¸°ëŠ¥:**
- `WizardContent` íƒ€ì… ì •ì˜
- íƒ€ì… ê°€ë“œ í•¨ìˆ˜:
  - `isValidWizardContent()`: ë‹¨ì¼ ì½˜í…ì¸  ê²€ì¦
  - `isValidWizardContentArray()`: ë°°ì—´ ê²€ì¦
  - `isPartialWizardContent()`: ë¶€ë¶„ ê²€ì¦
- íƒ€ì… ì •ê·œí™” í•¨ìˆ˜:
  - `normalizeWizardContent()`: ë¶€ë¶„ â†’ ì™„ì „ ë³€í™˜
  - `normalizeWizardContentArray()`: ë°°ì—´ ì •ê·œí™”

**í–¥í›„ ì ìš© ì˜ˆì •:**
- Step ì»´í¬ë„ŒíŠ¸ì—ì„œ ì½˜í…ì¸  íƒ€ì… ê²€ì¦ ì‹œ í™œìš©

### ê°œì„  íš¨ê³¼

#### ì—ëŸ¬ ì²˜ë¦¬
- **ì´ì „**: `console.error`, `throw new Error` í˜¼ì¬, ì¼ê´€ì„± ì—†ìŒ
- **ê°œì„ **: ëª¨ë“  ì—ëŸ¬ê°€ `PlanGroupError`ë¡œ êµ¬ì¡°í™”, ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€ ì œê³µ

#### ë°ì´í„° ì¼ê´€ì„±
- **ì´ì „**: Draft ì €ì¥ê³¼ ìµœì¢… ì €ì¥ ê°„ ë¶ˆì¼ì¹˜ ê°€ëŠ¥ì„±
- **ê°œì„ **: ì¤‘ì•™í™”ëœ ë³€í™˜ í•¨ìˆ˜ë¡œ ì¼ê´€ì„± ë³´ì¥, ì¤‘ë³µ ì €ì¥ ë°©ì§€

#### ê²€ì¦ ë¡œì§
- **ì´ì „**: ê° íŒŒì¼ì— ë¶„ì‚°ëœ ê²€ì¦ ë¡œì§
- **ê°œì„ **: `WizardValidator`ë¡œ í†µí•© ê´€ë¦¬, ì¬ì‚¬ìš©ì„± í–¥ìƒ

#### íƒ€ì… ì•ˆì „ì„±
- **ì´ì „**: `any` íƒ€ì… ë‹¤ìˆ˜ ì‚¬ìš©
- **ê°œì„ **: íƒ€ì… ê°€ë“œ í•¨ìˆ˜ë¡œ ëŸ°íƒ€ì„ ê²€ì¦ ê°•í™”

---

## ìœ„ì €ë“œ íë¦„ ë¶„ì„

### Step 1: ê¸°ë³¸ ì •ë³´

#### ì…ë ¥ í•­ëª©
- `name`, `plan_purpose`, `scheduler_type`, `period_start`, `period_end`, `target_date`, `block_set_id`
- 1730 Timetable ì„ íƒ ì‹œ: `student_level` í•„ìˆ˜ ì…ë ¥
- `scheduler_options.study_days`, `scheduler_options.review_days`

#### ë¡œì§ ì—°ê²°
```
period_start, period_end
  â†’ calculateStudyReviewCycle()
  â†’ CycleDayInfo[] (í•™ìŠµì¼/ë³µìŠµì¼ ë¶„ë¥˜)

scheduler_type = "1730_timetable"
  â†’ 1730 Timetable ë¡œì§ í™œì„±í™”
  â†’ study_days, review_days ì‚¬ìš©
```

#### ì €ì¥ ìœ„ì¹˜
- `plan_groups` í…Œì´ë¸”: `name`, `plan_purpose`, `scheduler_type`, `period_start`, `period_end`, `target_date`, `block_set_id`
- `plan_groups.scheduler_options` (JSONB): `study_days`, `review_days`

### Step 2: ë¸”ë¡ ë° ì œì™¸ì¼

#### ì…ë ¥ í•­ëª©
- `exclusions[]`, `academy_schedules[]`, `time_settings`, `non_study_time_blocks[]`

#### ë¡œì§ ì—°ê²°
```
period_start, period_end, exclusions
  â†’ calculateStudyReviewCycle()
  â†’ CycleDayInfo[] (ì œì™¸ì¼ ì œì™¸í•œ ì£¼ê¸° ê³„ì‚°)

exclusions, academy_schedules, non_study_time_blocks
  â†’ calculateAvailableDates()
  â†’ ScheduleAvailabilityResult (ë‚ ì§œë³„ í•™ìŠµ ê°€ëŠ¥ ì‹œê°„)
```

#### ì €ì¥ ìœ„ì¹˜
- `plan_groups` í…Œì´ë¸”: `study_hours`, `self_study_hours`, `non_study_time_blocks` (JSONB)
- `plan_exclusions` í…Œì´ë¸”: ì œì™¸ì¼ ì •ë³´
- `academy_schedules` í…Œì´ë¸”: í•™ì› ì¼ì • ì •ë³´

### Step 2.5: ìŠ¤ì¼€ì¤„ í™•ì¸

ì´ ë‹¨ê³„ëŠ” ì…ë ¥ ë‹¨ê³„ê°€ ì•„ë‹ˆë¼ **Step 2ì˜ ê²°ê³¼ë¥¼ í™•ì¸**í•˜ëŠ” ë‹¨ê³„ì…ë‹ˆë‹¤.

#### ë¡œì§ ì—°ê²°
```
Step 2 ì…ë ¥ ë°ì´í„°
  â†’ calculateAvailableDates()
  â†’ ScheduleAvailabilityResult
    â”œâ”€ summary: í†µê³„ ì •ë³´
    â”œâ”€ daily_schedule: ì¼ë³„ ìŠ¤ì¼€ì¤„ ì •ë³´
    â””â”€ errors: ì˜¤ë¥˜ ë©”ì‹œì§€
```

#### ì¶œë ¥ ê²°ê³¼
- **schedule_summary**: ì´ í•™ìŠµì¼ ìˆ˜, ì´ ë³µìŠµì¼ ìˆ˜, ì´ í•™ìŠµ ì‹œê°„ ë“±
- **daily_schedule**: ë‚ ì§œë³„ í•™ìŠµ ê°€ëŠ¥ ì‹œê°„, ì œì™¸ ì‹œê°„, íƒ€ì„ë¼ì¸ ë“±

#### ì €ì¥ ìœ„ì¹˜
- `plan_groups.daily_schedule` (JSONB): ì¼ë³„ ìŠ¤ì¼€ì¤„ ì •ë³´

âš ï¸ **ê°œì„  í•„ìš”**: í˜„ì¬ëŠ” `schedule_summary`ë§Œ ì €ì¥í•˜ê³  ìˆìœ¼ë‚˜, `daily_schedule` ì „ì²´ ë°ì´í„°ë„ ì €ì¥ í•„ìš”

### Step 3: ì½˜í…ì¸  ì„ íƒ

#### ì…ë ¥ í•­ëª©
- `student_contents[]` (content_type, content_id, start_range, end_range, subject_category)

#### ë¡œì§ ì—°ê²°
```
student_contents + schedule_summary
  â†’ í•™ìŠµ ë²”ìœ„ ì¶”ì²œ ë¡œì§
  â†’ ì ì • í•™ìŠµ ë²”ìœ„ ì œì•ˆ

student_contents[].subject_category
  â†’ êµê³¼ ì œì•½ ì¡°ê±´ ê²€ì¦
  â†’ validateSubjectConstraints()
```

#### ì €ì¥ ìœ„ì¹˜
- `plan_contents` í…Œì´ë¸”: ì½˜í…ì¸  ì •ë³´

### Step 4: ì¶”ì²œ ì½˜í…ì¸ 

#### ì…ë ¥ í•­ëª©
- `recommended_contents[]` (content_type, content_id, start_range, end_range, subject_category)

#### ë¡œì§ ì—°ê²°
```
recommended_contents
  â†’ student_contentsì™€ ë³‘í•©
  â†’ ì „ì²´ ì½˜í…ì¸  ëª©ë¡ ìƒì„±
```

#### ì €ì¥ ìœ„ì¹˜
- `plan_contents` í…Œì´ë¸”: ì½˜í…ì¸  ì •ë³´

### Step 6: ìµœì¢… í™•ì¸

#### ì…ë ¥ í•­ëª©
- `subject_allocations` (ì „ëµê³¼ëª©/ì·¨ì•½ê³¼ëª© ì •ë³´)
- `subject_constraints` (êµê³¼ ì œì•½ ì¡°ê±´)
- `additional_period_reallocation` (ì¶”ê°€ ê¸°ê°„ ì¬ë°°ì¹˜)
- âš ï¸ `study_review_cycle` (Step 1ì—ì„œ `scheduler_options`ë¡œ ì…ë ¥ë°›ìŒ, Step 6ì—ì„œ í™•ì¸/ìˆ˜ì • UI ì—†ìŒ)

#### ë¡œì§ ì—°ê²°
```
subject_allocations
  â†’ ê³¼ëª©ë³„ ë°°ì • ë°©ì‹ ê²°ì •
  â†’ ì „ëµê³¼ëª©/ì·¨ì•½ê³¼ëª© ë°°ì • ë¡œì§

subject_constraints
  â†’ validateSubjectConstraints()
  â†’ ì œì•½ ì¡°ê±´ ê²€ì¦

additional_period_reallocation
  â†’ ì¶”ê°€ ê¸°ê°„ í”Œëœ ì¬ë°°ì¹˜
  â†’ ë³µìŠµì˜ ë³µìŠµ ë¡œì§ ì ìš©
```

#### ì €ì¥ ìœ„ì¹˜
- `plan_groups.subject_constraints` (JSONB)
- `plan_groups.additional_period_reallocation` (JSONB)
- `plan_groups.scheduler_options` (JSONB): `study_review_cycle` ë³‘í•©

âš ï¸ **ê°œì„  í•„ìš”**: Step 6ì—ì„œ `study_review_cycle` í™•ì¸/ìˆ˜ì • UI ì¶”ê°€ ê¶Œì¥

### Step 7: ìŠ¤ì¼€ì¤„ ê²°ê³¼

#### ë¡œì§ ì—°ê²°
```
ì „ì²´ ì…ë ¥ ë°ì´í„°
  â†’ generatePlansFromGroupAction()
  â†’ í”Œëœ ìƒì„±
  â†’ student_plan í…Œì´ë¸”ì— ì €ì¥
```

---

## ê°œì„  ì œì•ˆ

### ğŸ”´ ìš°ì„ ìˆœìœ„: ë†’ìŒ (Critical)

#### 1. Step 6 study_review_cycle í™•ì¸ UI ì¶”ê°€

**í˜„ì¬ ìƒíƒœ**: Step 1ì—ì„œ `scheduler_options`ë¡œ ì…ë ¥ë°›ì§€ë§Œ, Step 6ì—ì„œ í™•ì¸/ìˆ˜ì • ë¶ˆê°€

**ê°œì„  ì œì•ˆ**:
```typescript
// Step6FinalReview.tsxì— ì¶”ê°€í•  ì„¹ì…˜
{
  data.scheduler_type === "1730_timetable" && (
    <div className="rounded-lg border border-gray-200 bg-white p-4">
      <h3 className="mb-3 text-sm font-semibold text-gray-900">
        í•™ìŠµì¼/ë³µìŠµì¼ ì£¼ê¸°
      </h3>
      <div className="grid grid-cols-2 gap-3">
        {/* í•™ìŠµì¼ ìˆ˜, ë³µìŠµì¼ ìˆ˜ ì…ë ¥ UI */}
      </div>
    </div>
  );
}
```

#### 2. Step 2.5 daily_schedule ì €ì¥

**í˜„ì¬ ìƒíƒœ**: `schedule_summary`ë§Œ ì €ì¥í•˜ê³  ìˆìŒ

**ê°œì„  ì œì•ˆ**:
```typescript
// Step2_5SchedulePreview.tsxì—ì„œ
onUpdate({
  schedule_summary: { ... },
  daily_schedule: response.data.daily_schedule, // ì¶”ê°€
});
```

#### 3. í•„ìˆ˜ ê³¼ëª© ê²€ì¦ ê°•í™”

**í˜„ì¬ ìƒíƒœ**: Step 6ì—ì„œ í•„ìˆ˜ ê³¼ëª© ê²½ê³  í‘œì‹œëŠ” ìˆìœ¼ë‚˜, í”Œëœ ìƒì„± ì „ ê²€ì¦ ë¡œì§ì´ ëª…í™•í•˜ì§€ ì•ŠìŒ

**ê°œì„  ì œì•ˆ**:
```typescript
// PlanGroupWizard.tsx validateStep(6)ì— ì¶”ê°€
if (wizardData.scheduler_type === "1730_timetable") {
  const constraintsValidation = validateSubjectConstraints(
    wizardData.subject_constraints,
    [...wizardData.student_contents, ...wizardData.recommended_contents]
  );
  if (!constraintsValidation.valid) {
    errors.push(...constraintsValidation.errors);
  }
}
```

### ğŸŸ¡ ìš°ì„ ìˆœìœ„: ì¤‘ê°„ (Important)

#### 4. ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

**ê°œì„  ì œì•ˆ:**
- ìë™ ì €ì¥ ê¸°ëŠ¥ ì¶”ê°€ (30ì´ˆë§ˆë‹¤)
- Step ì´ë™ ì‹œ ê²½ê³  (ë°ì´í„° ë³€ê²½ ì‹œ)
- ì§„í–‰ë¥  í‘œì‹œ ê°œì„ 

#### 5. ì„±ëŠ¥ ìµœì í™”

**ê°œì„  ì œì•ˆ:**
- ë©”ëª¨ì´ì œì´ì…˜: ì½˜í…ì¸  ëª©ë¡, ìŠ¤ì¼€ì¤„ ê³„ì‚° ê²°ê³¼
- ìŠ¤ì¼€ì¤„ ê³„ì‚° ê²°ê³¼ ìºì‹±
- ë””ë°”ìš´ì‹±: Draft ì €ì¥

#### 6. ì½˜í…ì¸  ì¡°íšŒ ë¡œì§ ê°œì„ 

**í˜„ì¬ ë¬¸ì œì :**
- TODO ì£¼ì„: "ì‹¤ì œë¡œëŠ” ë§ˆìŠ¤í„° ì½˜í…ì¸ ì˜ subject_categoryë¥¼ ì¡°íšŒí•´ì•¼ í•¨"
- ê° Stepì—ì„œ ê°œë³„ì ìœ¼ë¡œ ì½˜í…ì¸  ì¡°íšŒ
- ì—ëŸ¬ ë°œìƒ ì‹œ fallback ì²˜ë¦¬ ë¶€ì¡±

**ê°œì„  ì œì•ˆ:**
```typescript
// lib/data/contentMetadata.ts (ì‹ ê·œ ìƒì„±)
export async function fetchContentMetadata(
  contentId: string,
  contentType: 'book' | 'lecture'
): Promise<{
  title: string;
  subject_category: string;
  total_pages?: number;
  total_episodes?: number;
}> {
  // ë§ˆìŠ¤í„° ì½˜í…ì¸ ì—ì„œ subject_category ì¡°íšŒ
}
```

### ğŸŸ¢ ìš°ì„ ìˆœìœ„: ë‚®ìŒ (Nice to Have)

#### 7. ì ‘ê·¼ì„± ê°œì„ 
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ì§€ì›
- ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì›
- ARIA ë ˆì´ë¸” ì¶”ê°€

#### 8. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±
- ë‹¨ìœ„ í…ŒìŠ¤íŠ¸: ê²€ì¦ ë¡œì§
- í†µí•© í…ŒìŠ¤íŠ¸: ìœ„ì €ë“œ í”Œë¡œìš°
- E2E í…ŒìŠ¤íŠ¸: ì „ì²´ ì‹œë‚˜ë¦¬ì˜¤

---

## ì¤‘ë³µì„± ë¶„ì„

### âœ… ì¤‘ë³µ ì—†ìŒ (ì˜ë„ëœ ì¬ì‚¬ìš©)

#### 1. í¸ì§‘ ê¸°ëŠ¥ ì¬ì‚¬ìš©
```typescript
// group/[id]/edit/page.tsx
import { PlanGroupWizard } from "@/app/(student)/plan/new-group/_components/PlanGroupWizard";

// PlanGroupWizardë¥¼ isEditMode=trueë¡œ ì¬ì‚¬ìš©
<PlanGroupWizard
  initialData={initialData}
  isEditMode={true}
/>
```

**ê²°ë¡ :** í¸ì§‘ ê¸°ëŠ¥ì€ `PlanGroupWizard`ë¥¼ ì¬ì‚¬ìš©í•˜ë¯€ë¡œ ì¤‘ë³µ ì—†ìŒ âœ…

### âš ï¸ ì ì¬ì  ì¤‘ë³µ (ê°œì„  ê°€ëŠ¥)

#### 1. ìƒìˆ˜ ì •ì˜ ì¤‘ë³µ

**ë¬¸ì œ:**
- `planPurposeLabels`, `schedulerTypeLabels` ë“±ì´ ì—¬ëŸ¬ íŒŒì¼ì— ì¤‘ë³µ ì •ì˜ë¨

**ìœ„ì¹˜:**
- `new-group/_components/PlanGroupWizard.tsx` (ì‚¬ìš©í•˜ì§€ ì•ŠìŒ)
- `group/[id]/page.tsx` (17-31ì¤„)
- `group/[id]/_components/Step1DetailView.tsx` (3-15ì¤„)

**ê°œì„  ë°©ì•ˆ:**
```typescript
// lib/constants/planLabels.ts (ìƒˆ íŒŒì¼ ìƒì„±)
export const planPurposeLabels: Record<string, string> = {
  ë‚´ì‹ ëŒ€ë¹„: "ë‚´ì‹ ëŒ€ë¹„",
  ëª¨ì˜ê³ ì‚¬: "ëª¨ì˜ê³ ì‚¬",
  ìˆ˜ëŠ¥: "ìˆ˜ëŠ¥",
  ê¸°íƒ€: "ê¸°íƒ€",
};

export const schedulerTypeLabels: Record<string, string> = {
  ì„±ì ê¸°ë°˜: "ì„±ì  ê¸°ë°˜ ë°°ì •",
  "1730_timetable": "1730 Timetable (6ì¼ í•™ìŠµ, 1ì¼ ë³µìŠµ)",
  ì „ëµì·¨ì•½ê³¼ëª©: "ì „ëµ/ì·¨ì•½ê³¼ëª© í•™ìŠµì¼ ì¡°ì •",
  ì»¤ìŠ¤í…€: "ì»¤ìŠ¤í…€",
};
```

#### 2. ë°ì´í„° ë³€í™˜ ë¡œì§ ì¤‘ë³µ

**ë¬¸ì œ:**
- `new-group/page.tsx`ì™€ `group/[id]/edit/page.tsx`ì—ì„œ ì´ˆê¸° ë°ì´í„° ë³€í™˜ ë¡œì§ì´ ìœ ì‚¬í•¨

**ê°œì„  ë°©ì•ˆ:**
```typescript
// lib/utils/planGroupTransform.ts (ìƒˆ íŒŒì¼ ìƒì„±)
export function transformPlanGroupToWizardData(
  group: PlanGroup,
  contents: PlanContent[],
  exclusions: PlanExclusion[],
  academySchedules: AcademySchedule[]
): Partial<WizardData> {
  // ê³µí†µ ë³€í™˜ ë¡œì§ í†µí•©
}
```

#### 3. ë¸”ë¡ ì„¸íŠ¸ ì¡°íšŒ ë¡œì§ ì¤‘ë³µ

**ë¬¸ì œ:**
- ë¸”ë¡ ì„¸íŠ¸ ë° ë¸”ë¡ ì¡°íšŒ ë¡œì§ì´ ì—¬ëŸ¬ ê³³ì— ì¤‘ë³µë¨

**ê°œì„  ë°©ì•ˆ:**
```typescript
// lib/data/blockSets.ts (ê¸°ì¡´ íŒŒì¼ì— ì¶”ê°€)
export async function fetchBlockSetsWithBlocks(
  supabase: SupabaseServerClient,
  studentId: string
): Promise<Array<{ id: string; name: string; blocks: Block[] }>> {
  // ê³µí†µ ì¡°íšŒ ë¡œì§ í†µí•©
}
```

---

## UI ìµœì í™”

### ì„±ëŠ¥ ìµœì í™” ì œì•ˆ

#### 1. ë°ì´í„° í˜ì¹­ ìµœì í™”
- ë‹¨ì¼ ì¿¼ë¦¬ë¡œ í†µí•©: ì—¬ëŸ¬ ê°œë³„ ì¿¼ë¦¬ë¥¼ í•˜ë‚˜ë¡œ í†µí•©
- í•„ìš”í•œ í•„ë“œë§Œ ì„ íƒ
- ìºì‹± ì „ëµ: React Query ë˜ëŠ” Next.js ìºì‹± í™œìš©

#### 2. ì»´í¬ë„ŒíŠ¸ ë ˆì´ì§€ ë¡œë”©
- ë™ì  ì„í¬íŠ¸: íƒ­ ì „í™˜ ì‹œì—ë§Œ í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ ë¡œë“œ
- ë°ì´í„° í˜ì¹­ ì§€ì—°: ê° íƒ­ì˜ ë°ì´í„°ë¥¼ íƒ­ í™œì„±í™” ì‹œì—ë§Œ í˜ì¹­

#### 3. ë©”ëª¨ì´ì œì´ì…˜ ìµœì í™”
- `useMemo`: ë³µì¡í•œ ê³„ì‚° ë¡œì§ ë©”ëª¨ì´ì œì´ì…˜
- `useCallback`: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ë©”ëª¨ì´ì œì´ì…˜
- `React.memo`: ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€

---

## ğŸ“ ë‚¨ì€ ì‘ì—…

### ì¦‰ì‹œ ì ìš© ê°€ëŠ¥
- [ ] Step ì»´í¬ë„ŒíŠ¸ì—ì„œ íƒ€ì… ê°€ë“œ í•¨ìˆ˜ í™œìš©
- [ ] ì½˜í…ì¸  ì¡°íšŒ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ í‘œì‹œ (í˜„ì¬ëŠ” console.errorë§Œ)
- [ ] Step 6 study_review_cycle í™•ì¸ UI ì¶”ê°€
- [ ] Step 2.5 daily_schedule ì €ì¥

### ë‹¤ìŒ Phase (Phase 2: í’ˆì§ˆ ê°œì„ )
- [ ] ì½˜í…ì¸  ì¡°íšŒ ë¡œì§ ê°œì„  (TODO ì£¼ì„ í•´ê²°)
- [ ] ì‚¬ìš©ì ê²½í—˜ ê°œì„  (ìë™ ì €ì¥, ì§„í–‰ë¥  í‘œì‹œ)
- [ ] ì„±ëŠ¥ ìµœì í™” (ë©”ëª¨ì´ì œì´ì…˜, ìºì‹±)
- [ ] ìƒìˆ˜ ì •ì˜ í†µí•©
- [ ] ë°ì´í„° ë³€í™˜ ë¡œì§ í†µí•©
- [ ] ë¸”ë¡ ì„¸íŠ¸ ì¡°íšŒ ë¡œì§ í†µí•©

---

**ì‘ì„±ì¼**: 2025-01-31  
**ì‘ì„±ì**: AI Assistant  
**ë²„ì „**: 1.0

