# Contents 페이지 다음 단계 가이드

## ✅ 마이그레이션 완료 후 확인 사항

### 1. 데이터베이스 확인
- [x] 마이그레이션 실행 완료
- [ ] Supabase에서 `lectures` 테이블에 `platform`, `difficulty_level` 컬럼이 추가되었는지 확인

### 2. 기능 테스트 체크리스트

#### 학생 교재
- [ ] **등록**: `/contents/books/new`에서 새 교재 등록
  - 제목, 출판사, 난이도, 총 페이지, 과목 입력
  - 등록 후 목록에 표시되는지 확인
  
- [ ] **목록**: `/contents` (books 탭)
  - 등록한 교재가 목록에 표시되는지 확인
  - 제목, 출판사, 과목, 난이도, 총 페이지 정보가 표시되는지 확인
  - 항목 클릭 시 상세 페이지로 이동하는지 확인

- [ ] **상세보기**: `/contents/books/[id]`
  - 모든 정보가 올바르게 표시되는지 확인
  - 수정 버튼 클릭 시 수정 페이지로 이동하는지 확인
  - 삭제 버튼이 작동하는지 확인

- [ ] **수정**: `/contents/books/[id]/edit`
  - 기존 정보가 폼에 채워져 있는지 확인
  - 수정 후 저장이 정상 작동하는지 확인

#### 학생 강의
- [ ] **등록**: `/contents/lectures/new`에서 새 강의 등록
  - 제목, 플랫폼, 난이도, 총 시간(분), 과목 입력
  - 등록 후 목록에 표시되는지 확인
  
- [ ] **목록**: `/contents` (lectures 탭)
  - 등록한 강의가 목록에 표시되는지 확인
  - 제목, 플랫폼, 과목, 난이도, 재생 시간 정보가 표시되는지 확인
  - **중요**: `platform`과 `difficulty_level`이 제대로 표시되는지 확인
  - 항목 클릭 시 상세 페이지로 이동하는지 확인

- [ ] **상세보기**: `/contents/lectures/[id]`
  - 모든 정보가 올바르게 표시되는지 확인
  - **중요**: `platform`과 `difficulty_level`이 표시되는지 확인
  - 수정 버튼 클릭 시 수정 페이지로 이동하는지 확인
  - 삭제 버튼이 작동하는지 확인

- [ ] **수정**: `/contents/lectures/[id]/edit`
  - 기존 정보가 폼에 채워져 있는지 확인
  - **중요**: `platform`과 `difficulty_level` 필드가 표시되고 수정 가능한지 확인
  - 수정 후 저장이 정상 작동하는지 확인

#### 서비스 마스터 교재/강의
- [ ] 서비스 마스터 교재 목록/상세/등록/수정이 정상 작동하는지 확인
- [ ] 서비스 마스터 강의 목록/상세/등록/수정이 정상 작동하는지 확인
- [ ] 마스터에서 학생 콘텐츠로 복사 기능이 작동하는지 확인

---

## 🔍 확인해야 할 주요 포인트

### 강의 관련 (새로 추가된 필드)
1. **등록 폼** (`/contents/lectures/new`)
   - `platform` 필드에 값 입력
   - `difficulty` 필드에 값 입력
   - 등록 후 DB에 저장되는지 확인

2. **목록 페이지** (`/contents?tab=lectures`)
   - 각 강의 항목에 `platform` 정보가 표시되는지 확인
   - 상세 정보에 `difficulty_level`이 표시되는지 확인

3. **상세 페이지** (`/contents/lectures/[id]`)
   - `platform` 필드가 표시되는지 확인
   - `difficulty_level` 필드가 표시되는지 확인

4. **수정 폼** (`/contents/lectures/[id]/edit`)
   - `platform` 필드가 기존 값으로 채워져 있는지 확인
   - `difficulty_level` 필드가 기존 값으로 채워져 있는지 확인
   - 수정 후 저장이 정상 작동하는지 확인

---

## 🐛 문제 발생 시 확인 사항

### 강의 등록/수정 시 platform, difficulty_level이 저장되지 않는 경우
1. 브라우저 개발자 도구에서 네트워크 탭 확인
2. Server Action 호출 시 FormData에 값이 포함되는지 확인
3. 서버 로그에서 에러 메시지 확인
4. Supabase 대시보드에서 직접 INSERT/UPDATE 쿼리로 테스트

### 목록/상세 페이지에서 platform, difficulty_level이 표시되지 않는 경우
1. 브라우저 개발자 도구에서 네트워크 탭 확인
2. API 응답에 `platform`, `difficulty_level` 필드가 포함되는지 확인
3. Supabase에서 직접 SELECT 쿼리로 데이터 확인
4. 컴포넌트에서 데이터가 올바르게 전달되는지 확인

---

## 📝 테스트 시나리오

### 시나리오 1: 새 강의 등록
1. `/contents/lectures/new` 접속
2. 다음 정보 입력:
   - 제목: "React 완전정복"
   - 플랫폼: "인프런"
   - 난이도: "중급"
   - 총 시간(분): 300
   - 과목: "프로그래밍"
3. 등록 버튼 클릭
4. `/contents?tab=lectures`로 리다이렉트되는지 확인
5. 목록에 새 강의가 표시되는지 확인
6. 플랫폼과 난이도 정보가 표시되는지 확인

### 시나리오 2: 강의 상세보기
1. 목록에서 강의 항목 클릭
2. `/contents/lectures/[id]` 페이지로 이동하는지 확인
3. 모든 정보가 올바르게 표시되는지 확인:
   - 제목
   - 플랫폼
   - 과목
   - 난이도
   - 총 길이

### 시나리오 3: 강의 수정
1. 상세 페이지에서 "수정" 버튼 클릭
2. `/contents/lectures/[id]/edit` 페이지로 이동하는지 확인
3. 모든 필드가 기존 값으로 채워져 있는지 확인
4. 플랫폼을 "유데미"로 변경
5. 난이도를 "고급"으로 변경
6. 저장 버튼 클릭
7. 상세 페이지로 리다이렉트되는지 확인
8. 변경된 값이 반영되었는지 확인

---

## ✅ 모든 테스트 통과 후

모든 기능이 정상 작동한다면:
1. ✅ 학생 교재/강의 등록 폼과 DB 스키마 일치 확인 완료
2. ✅ 상세보기 페이지 정상 작동 확인 완료
3. ✅ 목록에서 상세보기로 이동 정상 작동 확인 완료

다음으로 진행할 수 있는 작업:
- 검색 필터 컴포넌트 개선 (개정, 학년/학기, 교과, 과목, 출판사/플랫폼, 난이도 등)
- 교재 상세 정보 관리 (대단원/중단원/페이지) 기능 구현
- 서비스 마스터에서 학생 콘텐츠로 복사 기능 개선

